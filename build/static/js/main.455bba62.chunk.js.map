{"version":3,"sources":["mappers/User/user.mapper.ts","mappers/Entity/entity.mapper.ts","utils.ts","contexts/User/index.tsx","contexts/Entity/index.tsx","contexts/index.tsx","theme.ts","urls.ts","components/ComponentsForApp/MainMenu/MainMenu.tsx","components/ComponentsForApp/AppBar/AppBarComponent.tsx","mappers/Third/third.mapper.ts","services/Third/index.ts","mappers/Concept/concept.mapper.ts","services/Concept/index.ts","components/ComponentsForApp/Receipt/DataTableReceipt.tsx","mappers/Account/account.mapper.ts","services/Account/index.ts","mappers/Receipt/receipt.mapper.ts","services/Receipt/index.ts","mappers/CostCenter/costCenter.mapper.ts","services/CostCenter/index.ts","components/ComponentsForApp/Receipt/ReceiptForm.tsx","components/ComponentsForApp/DataTable/DataTable.tsx","components/ComponentsForApp/Receipt/ReceiptList.tsx","components/ComponentsForApp/Account/AccountForm.tsx","components/ComponentsForApp/Account/AccountList.tsx","mappers/Common/comon.mapper.ts","services/Plemsi/index.ts","components/ComponentsForApp/Third/ThirdForm.tsx","components/ComponentsForApp/Third/ThirdList.tsx","components/ComponentsForApp/Third/ThirdMigration.tsx","components/ComponentsForApp/Concept/ConceptForm.tsx","components/ComponentsForApp/Concept/ConceptList.tsx","components/ComponentsForApp/InternalTransaction/InternalTransactionForm.tsx","components/ComponentsForApp/Receipt/CashReceiptReport.tsx","components/ComponentsForApp/InternalTransaction/InternalTransactionReport.tsx","mappers/Item/item.mapper.ts","services/Item/index.ts","components/ComponentsForApp/Item/ItemForm.tsx","components/ComponentsForApp/Item/ItemList.tsx","mappers/ElectronicBill/electronicBill.mapper.ts","services/ElectronicBill/index.ts","components/ComponentsForApp/ElectronicBill/ItemTable.tsx","components/ComponentsForApp/ElectronicBill/ElectronicBillForm.tsx","components/ComponentsForApp/Index/Card/BalanceCard.tsx","components/ComponentsForApp/Index/Graphics/LineGraphic/LineGraphic.tsx","components/ComponentsForApp/Index/DailyReport/DailyReportForm.tsx","components/ComponentsForApp/Index/IndexApp.tsx","components/ComponentsForProtectRoutes/ProtectRoute.tsx","components/ComponentsForApp/ElectronicBill/ElectronicBillList.tsx","components/ComponentsForApp/CostCenter/CostCenterForm.tsx","components/ComponentsForApp/CostCenter/CostCenterList.tsx","components/ComponentsForApp/ContainerApp/ContainerApp.tsx","services/User/index.ts","components/ComponentsForPage/Login/Login.tsx","components/ComponentsForPage/ContainerPage/ContainerPage.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["userMapper","user","_user$id","_user$email","_user$password","_user$name","_user$lastname","_user$entityId","_user$state","_user$permissions","_user$token","id","email","password","name","lastname","entityId","state","permissions","token","entityMapper","entity","_entity$id","_entity$name","_entity$entityTypeCod","_entity$document","_entity$email","_entity$phone","_entity$apiKeyPlemsi","_entity$state","_entity$resolution","_entity$resolutionTex","_entity$lastElectroni","entityTypeCode","document","signatories","signatoriesMapper","undefined","address","addressMapper","phone","apiKeyPlemsi","resolution","resolutionText","lastElectronicBillNumber","receiptNumbers","receiptNumbersMapper","map","rn","_rn$prefix","_Number","prefix","lastReceiptNumber","Number","_address$description","_address$city$code","_address$city$descrip","description","city","code","signatory","_signatory$name","_signatory$lastname","_signatory$document","_signatory$documentTy","_signatory$documentTy2","documentType","Utils","getUserByCookieAuth","Cookies","get","jwt","data","getEntityByCookieAuth","removeCookieAuth","remove","buildItem","form","applyTaxes","tax","percent","taxAmount","taxableAmount","_objectSpread","selectedTax","currentPercentTax","currentQuantity","currentPrice","currentItem","itemType","currentItemType","price","quantity","total","taxes","buildTaxesForElectronicBill","items","res","forEach","item","concat","getIdFromUrl","search","match","parseQueryString","url","queryString","split","_step","params","result","_iterator","_createForOfIteratorHelper","s","n","done","_param$split","value","_param$split2","_slicedToArray","key","push","_defineProperty","decodeURIComponent","err","e","f","Context","createContext","initialContextUserState","UserContextProvider","_ref","children","auth","_useState","useState","_useState2","userContext","setUserContext","_jsx","Provider","initialState","EntityContextProvider","entityContext","setEntityContext","GlobalProvider","props","theme","createMuiTheme","palette","primary","main","lightBlue","secondary","deepOrange","urls","home","login","index","third","thirdMigrationForm","list","account","concept","costCenter","receipt","report","electronicBill","internalTransaction","useStyles","makeStyles","createStyles","root","minHeight","width","backgroundColor","position","rootResponsive","maxWidth","fixed","fixedResponsive","hidden","display","textPrimary","color","fontSize","icon","menuTitle","fontWeight","textAlign","secondaryMenuTitle","logo","nestedList","background","nested","paddingLeft","spacing","initState","selected","menu","itemHeader","title","path","alt","InsertChart","permission","view","AccountBalanceWallet","indexedMenu","open","QueueRounded","create","ListIcon","Contacts","ContactMail","RecentActors","migrate","Category","Store","cost_center","Keyboard","ImportExport","movement_internal","Description","electronic_bill","FindInPage","movement_receipt","Assignment","MainMenu","classes","history","useHistory","_React$useState","React","_React$useState2","setState","useContext","UserContext","sizeScreen","setSizeScreen","matches","useMediaQuery","handleListMenu","event","savedItem","className","_jsxs","List","component","aria-label","ListItem","ListItemIcon","onClick","src","Typography","variant","Divider","some","Fragment","button","ListItemText","ExpandLess","ExpandMore","Collapse","in","timeout","unmountOnExit","disablePadding","indexedItem","grow","flexGrow","toolBar","borderRadius","shape","fade","common","white","marginRight","marginLeft","breakpoints","up","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","transition","transitions","sectionDesktop","sectionMobile","AppBarComponent","anchorEl","setAnchorEl","_React$useState3","_React$useState4","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleProfileMenuOpen","currentTarget","handleMobileMenuClose","handleMenuClose","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","mobileMenuId","renderMobileMenu","IconButton","Badge","badgeContent","MailIcon","NotificationsIcon","aria-controls","aria-haspopup","AccountCircle","AppBar","elevation","Toolbar","SearchIcon","InputBase","placeholder","input","inputProps","edge","MoreIcon","thirdMapper","_third$entityId","_third$document","_third$dv","_third$documentType","_third$organizationTy","_third$liabilityType","_third$regimeType","_third$name","_third$lastname","_third$businessName","_third$phone","_third$address","_third$city","_third$email","dv","organizationType","liabilityType","regimeType","businessName","ThirdService","_classCallCheck","_createClass","_saveThird","_asyncToGenerator","_regeneratorRuntime","mark","_callee","thirdData","responseApi","wrap","_context","prev","next","process","axios","post","headers","authorization","sent","abrupt","t0","stop","_x","_x2","apply","arguments","_updateThird","_callee2","_context2","put","_x3","_x4","_getThirds","_callee3","thirds","_context3","limit","lastEvaluatedKey","JSON","stringify","_x5","_x6","_getThirdByDocument","_callee4","_context4","_x7","_x8","conceptMapper","_concept$entityId","_concept$account","_concept$description","_code$description","_concept$type$code","_concept$type","_concept$type$descrip","_concept$type2","type","ConceptService","_saveConcept","_updateConcept","conceptData","_getConceptByAccount","_getConcepts","concepts","table","minWidth","texts","delete","DataTableReceipt","rows","handleTable","disabledForm","reload","setReload","useEffect","TableContainer","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","row","disabled","DeleteIcon","accountMapper","_account$entityId","_account$account","_account$description","_account$balance","_account$document","balance","AccountService","_saveAccount","_updateAccount","accountData","_getAccountByAccount","accountId","_getAccounts","accounts","createAccounts","costCenterCode","createConcepts","receiptMapper","_item$entityId","_item$userId","_item$type$code","_item$type$descriptio","_item$date","_item$code","_item$description","_item$thirdDocument","_item$totalValueLette","userId","date","thirdDocument","totalValueLetter","ReceiptService","_saveReceipt","receiptData","_getReceiptByCode","_getReceipts","receipts","costCenterMapper","_costCenter$entityId","_costCenter$code","_costCenter$descripti","_costCenter$type$code","_costCenter$type","_costCenter$type$desc","_costCenter$type2","CostCenterService","_saveCostCenter","_updateCostCenter","costCenterData","_getCostCenterByCode","_getCostCenters","costCenters","margin","marginBottom","divider","alignRight","addButton","loadingContainer","bottom","right","opacity","paddingTop","header","body","subtitleConcepts","subtitleAccounts","field","helperText","options","currentAccount","currentAccountCostCenter","currentAccountValue","currentConcept","currentConceptCostCenter","currentConceptValue","buttons","add","accountList","accountTotal","conceptTotal","conceptList","costCenterList","suggestionsThirds","selectedAccounts","selectedConcepts","thirdSelected","status","loading","ReceiptForm","_state$form$type$code","_state$form$type","_state$currentAccount","_state$currentAccount2","_state$currentAccount3","_state$currentAccount4","_state$currentConcept","_state$currentConcept2","_state$currentConcept3","_state$currentConcept4","useLocation","EntityContext","_loadData","_entityContext$receip","thirdService","thirdsRes","accountService","accountRes","conceptService","conceptRes","costCenterService","costCenterRes","serverError","getThirds","getAccounts","getConcepts","getCostCenters","isAxiosError","response","toast","error","message","toString","loadData","handleChangeSelect","handleChange","_e$target","target","handleTableAccount","func","newAccount","filter","acc","handleTableConcept","newConcept","c","conc","handleSubmit","_ref3","_userContext$token","receiptService","receiptCreated","preventDefault","length","Error","saveReceipt","success","onSubmit","Grid","container","md","sm","xs","Select","fullWidth","required","FormHelperText","TextField","onChange","toLowerCase","includes","autoComplete","InputProps","endAdornment","InputAdornment","ArrowDropUp","ArrowDropDown","Box","sx","maxHeight","zIndex","bgcolor","overflow","cc","Button","size","startIcon","Save","style","_state$form$type2","_state$form$type3","NoteAdd","Cancel","CircularProgress","DataTable","DataGrid","columns","getRowId","keyId","pageSize","onCellEditCommit","gridEdit","onGridEdit","loadMoreButton","buttonLoadMore","label","headerName","flex","editable","renderCell","ActionButtons","loadMoreButtonDisabled","editPermission","setEditPermission","update","_props$params$row$cod","onEdit","Edit","ItemList","_useState3","_useState4","getReceipts","onLoadMore","CloudDownload","thirdClassTitle","validationError","validations","errorMinLengthAccount","isEdit","AccountForm","selectedThird","getAccountByAccount","_ref2","accountCreated","_userContext$token2","_userContext$token3","updateAccount","saveAccount","maxLength","_props$params$row$acc","AccountList","_ref4","accountToEdit","selectedAccount","accountUpdated","find","listObject","object","hasOwnProperty","PlemsiService","_getCities","apikey","_getBill","number","preview","one","two","errorOnMail","errorOnDocument","cities","ThirdForm","_state$form$name","_state$form$lastname","_state$form$dv","_state$form$businessN","_state$form$city$code","_state$form$city","_entityContext$apiKey","plemsiService","getCities","getThirdByDocument","test","thirdCreated","updateThird","saveThird","valueGetter","getValue","_props$params$row$doc","ThirdList","thirdToEdit","thirdUpdated","contentAside","lastThird","secondName","lastName","companyName","newThird","aside","content","initStateForm","ThirdMigration","setForm","newThirdOptions","setNewThirdOptions","console","log","ConceptForm","getConceptByAccount","conceptCreated","updateConcept","saveConcept","ConceptList","responseParsed","typeDescription","conceptToEdit","selectedConcept","conceptUpdated","serial","bank","optionOne","optionTwo","optionThree","secondBank","Date","InternalTransactionForm","valueStr","setValueStr","_useState5","_useState6","newBankOptions","setNewBankOptions","newValue","replace","_e$target2","newInput","join","reverse","output","aux","paginator","Math","ceil","i","j","fields","from","to","wayPay","CashReceiptReport","itemMapper","_item$price","_item$unitMeasure$cod","_item$unitMeasure","_item$unitMeasure$des","_item$unitMeasure2","_code$description2","_item$itemType$code","_item$itemType","_item$itemType$descri","_item$itemType2","unitMeasure","ItemService","_saveItem","itemData","_updateItem","_getItemByCode","_getItems","ItemForm","_state$form$price","_state$form$unitMeasu","_state$form$unitMeasu2","_state$form$itemType$","_state$form$itemType","itemService","getItemByCode","itemCreated","p","super_admin","updateItem","saveItem","columnsAdmin","getItems","itemToEdit","selectedItem","itemUpdated","electronicBillMapper","formToSchema","_form$third","orderReference","wayToPay","paymentMethod","paymentDueDate","moment","format","note","totalTaxes","totalToPay","schemaToForm","bill","ElectronicBillService","_saveBill","billData","_getElectronicBills","bills","ElectronicBillMapper","electronicBills","_getBillByNumber","ItemTable","subtitles","payment","itemsTable","addProduct","selectedItems","ElectronicBillForm","_state$form$currentIt","_state$form$currentIt2","_bill$form$third","_bill$form$third2","_bill$form$third3","_bill$form$third4","copy","billPlemsi","electronicBillService","_bill$form$number","itemsRes","_thirdService","_itemService","_thirds","_items","param","getBillByNumber","getBill","_toConsumableArray","_objectSpread3","saveBill","entityInformation","FormControlLabel","control","Checkbox","checked","onApplyTaxes","Link","pathname","card","cardBody","marginTop","cardPrefix","cardPorcent","BalanceCard","Card","CardContent","Tooltip","tooltip","ArrowUpwardIcon","ArrowDownwardIcon","uv","LineGraphic","ResponsiveContainer","BarChart","top","left","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","Bar","fill","submitButton","DailyReportForm","gridCard","cardGraphic","cards","cashBalance","bankBalance","percentBalance","respectPreviousMonth","IndexApp","Container","ProtectRoute","rest","_objectWithoutProperties","Route","render","Redirect","_props$params$row$num","onView","Visibility","_props$params$row$num2","onCopy","PostAdd","window","warn","ElectronicBillList","getElectronicBills","newBills","CostCenterForm","getCostCenterByCode","costCenterCreated","updateCostCenter","saveCostCenter","CostCenterList","costCenterToEdit","selectedCostCenter","costCenterUpdated","ContainerApp","CssBaseline","Switch","ReceiptList","InternalTransactionReport","UserService","_login","tokenData","userData","entityData","set","_getUsers","_saveUser","paper","flexDirection","avatar","submit","rememberCheck","signinButton","footer","forgotPasswordLink","createAccountLink","copyright","Copyright","href","getFullYear","SignIn","_onLogin","userService","Avatar","noValidate","autoFocus","mt","exact","Login","App","MuiThemeProvider","Router","ContainerPage","ToastContainer","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.455bba62.chunk.js","sourcesContent":["import { User } from \"../../schemas/User\";\r\n\r\nexport default function userMapper(user: any | unknown): User {\r\n  return {\r\n    id: user.id ?? '',\r\n    email: user.email ?? '',\r\n    password: user.password ?? '',\r\n    name: user.name ?? '',\r\n    lastname: user.lastname ?? '',\r\n    entityId: user.entityId ?? '',\r\n    state: user.state ?? '',\r\n    permissions: user.permissions ?? [''],\r\n    token: user.token ?? ''\r\n  }\r\n}\r\n","import { Address, Entity, ReceiptNumbers, Signatory } from \"../../schemas/Entity\";\r\n\r\nexport default function entityMapper(entity: any | unknown): Entity {\r\n  return {\r\n    id: entity.id ?? '',\r\n    name: entity.name ?? '',\r\n    entityTypeCode: entity.entityTypeCode ?? '',\r\n    document: entity.document ?? '',\r\n    signatories: entity.signatories ? signatoriesMapper(entity.signatories) : undefined,\r\n    address: entity.address ? addressMapper(entity.address) : undefined,\r\n    email: entity.email ?? '',\r\n    phone: entity.phone ?? '',\r\n    apiKeyPlemsi: entity.apiKeyPlemsi ?? '',\r\n    state: entity.state ?? '',\r\n    resolution: entity.resolution ?? '',\r\n    resolutionText: entity.resolutionText ?? '',\r\n    lastElectronicBillNumber: entity.lastElectronicBillNumber ?? 0,\r\n    receiptNumbers: entity.receiptNumbers ? receiptNumbersMapper(entity.receiptNumbers) : undefined\r\n  }\r\n}\r\n\r\nfunction receiptNumbersMapper(receiptNumbers: any[]): ReceiptNumbers[] {\r\n  const response = receiptNumbers.map(rn => {\r\n    return {\r\n      prefix: rn.prefix ?? '',\r\n      lastReceiptNumber: Number(rn.lastReceiptNumber) ?? 0\r\n    }\r\n  })\r\n\r\n  return response\r\n}\r\n\r\nfunction addressMapper(address: any): Address {\r\n  return {\r\n    description: address.description ?? '',\r\n    city: {\r\n      code: address.city.code ?? '',\r\n      description: address.city.description ?? ''\r\n    }\r\n  }\r\n}\r\n\r\nfunction signatoriesMapper(signatories: any[]): Signatory[] {\r\n  const response = signatories.map(signatory => {\r\n    return {\r\n      name: signatory.name ?? '',\r\n      lastname: signatory.lastname ?? '',\r\n      document: signatory.document ?? '',\r\n      documentType: {\r\n        code: signatory.documentType.code ?? '',\r\n        description: signatory.documentType.description ?? ''\r\n      }\r\n    }\r\n  })\r\n\r\n  return response\r\n}\r\n","import Cookies from 'js-cookie'\r\nimport jwt from 'jwt-decode'\r\nimport { ElectronicBillFormSchema, ItemComplete, Tax } from \"./schemas/ElectronicBill\"\r\nimport userMapper from './mappers/User/user.mapper'\r\nimport { User } from './schemas/User'\r\nimport entityMapper from './mappers/Entity/entity.mapper'\r\nimport { Entity } from './schemas/Entity'\r\n\r\nconst Utils = {\r\n  getUserByCookieAuth: () : User | undefined => {\r\n    type jwtDecode = {\r\n      data: {\r\n        user: any\r\n      }\r\n    }\r\n    const token = Cookies.get('auth')\r\n\r\n    if (token === undefined) return undefined\r\n\r\n    const tokenData = jwt<jwtDecode>(token)\r\n    const user = userMapper(tokenData.data.user)\r\n    user.token = token\r\n    return user\r\n  },\r\n\r\n  getEntityByCookieAuth: () : Entity | undefined => {\r\n    type jwtDecode = {\r\n      data: {\r\n        entity: any\r\n      }\r\n    }\r\n    const token = Cookies.get('auth')\r\n\r\n    if (token === undefined) return undefined\r\n\r\n    const tokenData = jwt<jwtDecode>(token)\r\n    const entity = entityMapper(tokenData.data.entity)\r\n    return entity\r\n  },\r\n\r\n  removeCookieAuth: () => {\r\n    Cookies.remove('auth')\r\n  },\r\n\r\n  buildItem: (form: ElectronicBillFormSchema, applyTaxes: boolean): ItemComplete => {\r\n    let tax = {\r\n      code: '',\r\n      description: '',\r\n      percent: 0,\r\n      taxAmount: 0,\r\n      taxableAmount: 0\r\n    }\r\n\r\n    if (applyTaxes) {\r\n      tax = {\r\n        ...form.selectedTax,\r\n        percent: form.currentPercentTax,\r\n        taxAmount: ((form.currentQuantity * form.currentPrice) * form.currentPercentTax / 100),\r\n        taxableAmount: (form.currentQuantity * form.currentPrice)\r\n      }\r\n    } else {\r\n      tax = {\r\n        code: '1',\r\n        description: 'Iva',\r\n        percent: 0,\r\n        taxAmount: 0,\r\n        taxableAmount: (form.currentQuantity * form.currentPrice)\r\n      }\r\n    }\r\n\r\n    return {\r\n      ...form.currentItem,\r\n      itemType: form.currentItemType,\r\n      price: form.currentPrice,\r\n      quantity: form.currentQuantity,\r\n      total: (form.currentQuantity * form.currentPrice),\r\n      taxes: [\r\n        tax\r\n      ]\r\n    }\r\n  },\r\n\r\n  buildTaxesForElectronicBill: (items: ItemComplete[]) : Tax[] | [] => {\r\n    let res: Tax[]| any[] = []\r\n    items.forEach(item => {\r\n      res = res.concat(item.taxes)\r\n    })\r\n    return res\r\n  },\r\n\r\n  getIdFromUrl: (search: string) : string | undefined => {\r\n    if (search !== undefined) {\r\n      const regex = /=\\s*(\\d+)/\r\n      const match = search.match(regex)\r\n\r\n      if (match) {\r\n        const document = match[1]\r\n        return document\r\n      }\r\n    } else {\r\n      return undefined\r\n    }\r\n  },\r\n\r\n  parseQueryString: (url: string) : { [key: string]: string }[] => {\r\n    const queryString = url.split('?')[1]\r\n    if (!queryString) {\r\n      return []\r\n    }\r\n    const params = queryString.split('&')\r\n    const result = []\r\n    for (const param of params) {\r\n      const [key, value] = param.split('=')\r\n      result.push({ [key]: decodeURIComponent(value) })\r\n    }\r\n    return result\r\n  }\r\n}\r\n\r\nexport default Utils","import { createContext, ReactNode, useState } from 'react'\r\nimport { User } from '../../schemas/User/index'\r\nimport Utils from '../../utils'\r\n\r\nconst Context = createContext({})\r\n\r\ninterface Props {\r\n  children: ReactNode\r\n}\r\n\r\nexport const initialContextUserState: User = {\r\n  id: '',\r\n  email: '',\r\n  name: '',\r\n  lastname: '',\r\n  entityId: '',\r\n  state: '',\r\n  permissions: ['']\r\n}\r\n\r\nexport function UserContextProvider({ children }: Props) {\r\n  const auth = Utils.getUserByCookieAuth()\r\n\r\n  const [userContext, setUserContext] = useState<User>(auth ?? initialContextUserState)\r\n\r\n  return (\r\n    <Context.Provider value={{ userContext, setUserContext }}>\r\n      {children}\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nexport default Context","import { createContext, ReactNode, useState } from 'react'\r\nimport { Entity } from '../../schemas/Entity/index'\r\nimport Utils from '../../utils'\r\n\r\nconst Context = createContext({})\r\n\r\ninterface Props {\r\n  children: ReactNode\r\n}\r\n\r\nconst initialState: Entity = {\r\n  id: '',\r\n  name: '',\r\n  entityTypeCode: '',\r\n  document: '',\r\n  signatories: undefined,\r\n  address: undefined,\r\n  email: undefined,\r\n  phone: undefined,\r\n  apiKeyPlemsi: undefined,\r\n  state: '',\r\n  resolution: undefined,\r\n  resolutionText: undefined,\r\n  lastElectronicBillNumber: undefined\r\n}\r\n\r\nexport function EntityContextProvider({ children }: Props) {\r\n  const auth = Utils.getEntityByCookieAuth()\r\n  const [entityContext, setEntityContext] = useState<Entity>(auth ?? initialState)\r\n  return (\r\n    <Context.Provider value={{ entityContext, setEntityContext }}>\r\n      {children}\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nexport default Context\r\n","import * as React from 'react'\r\nimport { UserContextProvider } from './User/index'\r\nimport { EntityContextProvider } from './Entity/index'\r\n\r\nexport default function GlobalProvider(props: any) {\r\n  return (\r\n    <EntityContextProvider>\r\n    <UserContextProvider>\r\n      {props.children}\r\n    </UserContextProvider>\r\n    </EntityContextProvider>\r\n  )\r\n}","import { createMuiTheme } from '@material-ui/core/styles';\r\nimport {\r\n    deepOrange,\r\n    lightBlue,\r\n} from '@material-ui/core/colors'\r\n\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            main: lightBlue[400]\r\n        },\r\n        secondary: {\r\n            main: deepOrange['A400']\r\n        }\r\n    }\r\n});\r\n\r\nexport default theme","export const urls = {\r\n    page: {\r\n      home: '/page',\r\n      login: '/page/login'\r\n    },\r\n    app: {\r\n      index: '/app',\r\n      main: {\r\n        home: '/app/home',\r\n        third: {\r\n          form: '/app/third/form',\r\n          thirdMigrationForm: '/app/third/migration/form',\r\n          list: '/app/third/list'\r\n        },\r\n        account: {\r\n          form: '/app/account/form',\r\n          list: '/app/account/list'\r\n        },\r\n        concept: {\r\n          form: '/app/concept/form',\r\n          list: '/app/concept/list'\r\n        },\r\n        costCenter: {\r\n          form: '/app/cost-center/form',\r\n          list: '/app/cost-center/list'\r\n        },\r\n        receipt: {\r\n          form: '/app/receipt/form',\r\n          list: '/app/receipt/list',\r\n          report: '/app/cash-receipt/report'\r\n        },\r\n        electronicBill: {\r\n          form: '/app/electronic-bill/form',\r\n          list: '/app/electronic-bill/list'\r\n        },\r\n        internalTransaction: {\r\n          form: '/app/internal-transaction/form',\r\n          report: '/app/internal-transaction/report'\r\n        },\r\n        item: {\r\n          form: '/app/item/form',\r\n          list: '/app/item/list'\r\n        }\r\n      }\r\n    }\r\n}","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { urls } from '../../../urls'\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\r\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport {\r\n  InsertChart,\r\n  Assignment,\r\n  Keyboard,\r\n  ImportExport,\r\n  Contacts,\r\n  FindInPage,\r\n  ExpandLess,\r\n  ExpandMore,\r\n  ContactMail,\r\n  QueueRounded,\r\n  RecentActors,\r\n  Description,\r\n  Category,\r\n  List as ListIcon,\r\n  AccountBalanceWallet,\r\n  Store\r\n} from '@material-ui/icons'\r\nimport { Collapse, Typography } from '@material-ui/core'\r\nimport permissions from '../../../permissions.json'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      minHeight: '100vh',\r\n      width: '320px',\r\n      backgroundColor: '#263238',\r\n      position: 'fixed'\r\n    },\r\n    rootResponsive: {\r\n      minHeight: '100%',\r\n      maxWidth: '60px',\r\n      backgroundColor: '#263238',\r\n      position: 'fixed'\r\n    },\r\n    fixed: {\r\n      minHeight: '100vh',\r\n      width: '320px'\r\n    },\r\n    fixedResponsive: {\r\n      minHeight: '100vh',\r\n      width: '60px',\r\n    },\r\n    hidden: {\r\n      display: 'none'\r\n    },\r\n    textPrimary: {\r\n      color: '#ffff',\r\n      fontSize: '1rem'\r\n    },\r\n    icon: {\r\n      color: '#ffff',\r\n      width: '1rem'\r\n    },\r\n    menuTitle: {\r\n      color: '#ffff',\r\n      fontWeight: 'bolder',\r\n      fontSize: '1.6rem',\r\n      textAlign: 'center'\r\n    },\r\n    secondaryMenuTitle: {\r\n      color: '#29b6f6',\r\n      fontSize: '1.3rem'\r\n    },\r\n    logo: {\r\n      width: '1.8rem'\r\n    },\r\n    nestedList: {\r\n      background: '#455a64'\r\n    },\r\n    nested: {\r\n      paddingLeft: theme.spacing(4),\r\n    },\r\n  }),\r\n)\r\n\r\n// - in this part all the component menu are housed\r\nconst initState = {\r\n  selected: '',\r\n  menu: {\r\n    itemHeader: {\r\n      title: {\r\n        main: 'Crecer',\r\n        secondary: 'DMC'\r\n      },\r\n      logo: {\r\n        path: '/images/logotipo-crecer-dmc.svg',\r\n        alt: 'logotipo de crecer dmc'\r\n      }\r\n    },\r\n    items: [\r\n      {\r\n        id: '001',\r\n        title: 'Inicio',\r\n        icon: <InsertChart />,\r\n        permission: permissions.home.view,\r\n        url: urls.app.main.home\r\n      },\r\n      {\r\n        id: '002',\r\n        title: 'Formas de pago',\r\n        icon: <AccountBalanceWallet/>,\r\n        permission: permissions.account.view,\r\n        indexedMenu: {\r\n          open: false,\r\n          items: [\r\n            {\r\n              id: '002-01',\r\n              title: 'Creacin de forma de pago',\r\n              icon: <QueueRounded />,\r\n              permission: permissions.account.create,\r\n              url: urls.app.main.account.form\r\n            },\r\n            {\r\n              id: '002-02',\r\n              title: 'Listar formas de pago',\r\n              icon: <ListIcon/>,\r\n              permission: permissions.account.view,\r\n              url: urls.app.main.account.list\r\n            },\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        id: '003',\r\n        title: 'Administracin de terceros',\r\n        icon: <Contacts />,\r\n        permission: permissions.third.view,\r\n        indexedMenu: {\r\n          open: false,\r\n          items: [\r\n            {\r\n              id: '003-01',\r\n              title: 'Creacin de terceros',\r\n              icon: <ContactMail />,\r\n              permission: permissions.third.create,\r\n              url: urls.app.main.third.form\r\n            },\r\n            {\r\n              id: '003-02',\r\n              title: 'Listar terceros',\r\n              icon: <RecentActors/>,\r\n              permission: permissions.third.view,\r\n              url: urls.app.main.third.list\r\n            },\r\n            {\r\n              id: '003-03',\r\n              title: 'Migracin de terceros',\r\n              icon: <ContactMail />,\r\n              permission: permissions.third.migrate,\r\n              url: urls.app.main.third.thirdMigrationForm\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        id: '004',\r\n        title: 'Conceptos',\r\n        icon: <Category/>,\r\n        permission: permissions.concept.view,\r\n        indexedMenu: {\r\n          open: false,\r\n          items: [\r\n            {\r\n              id: '004-01',\r\n              title: 'Creacin de conceptos',\r\n              icon: <QueueRounded />,\r\n              permission: permissions.concept.create,\r\n              url: urls.app.main.concept.form\r\n            },\r\n            {\r\n              id: '004-02',\r\n              title: 'Listar conceptos',\r\n              icon: <ListIcon/>,\r\n              permission: permissions.concept.view,\r\n              url: urls.app.main.concept.list\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        id: '005',\r\n        title: 'Centro de costos',\r\n        icon: <Store/>,\r\n        permission: permissions.cost_center.view,\r\n        indexedMenu: {\r\n          open: false,\r\n          items: [\r\n            {\r\n              id: '005-01',\r\n              title: 'Creacin de centro de costo',\r\n              icon: <QueueRounded />,\r\n              permission: permissions.cost_center.create,\r\n              url: urls.app.main.costCenter.form\r\n            },\r\n            {\r\n              id: '005-02',\r\n              title: 'Listar centros de costos',\r\n              icon: <ListIcon/>,\r\n              permission: permissions.cost_center.view,\r\n              url: urls.app.main.costCenter.list\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        id: '006',\r\n        title: 'Recibos de caja',\r\n        icon: <Keyboard />,\r\n        permission: permissions.receipt.view,\r\n        indexedMenu: {\r\n          open: false,\r\n          items: [\r\n            {\r\n              id: '006-01',\r\n              title: 'Crear recibo',\r\n              icon: <QueueRounded />,\r\n              permission: permissions.receipt.create,\r\n              url: urls.app.main.receipt.form\r\n            },\r\n            {\r\n              id: '006-02',\r\n              title: 'Listar recibos',\r\n              icon: <ListIcon/>,\r\n              permission: permissions.receipt.view,\r\n              url: urls.app.main.receipt.list\r\n            },\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        id: '007',\r\n        title: 'Transacciones internas',\r\n        icon: <ImportExport />,\r\n        permission: permissions.movement_internal.view,\r\n        url: urls.app.main.internalTransaction.form\r\n      },\r\n      {\r\n        id: '008',\r\n        title: 'Productos',\r\n        icon: <QueueRounded/>,\r\n        permission: permissions.item.view,\r\n        indexedMenu: {\r\n          open: false,\r\n          items: [\r\n            {\r\n              id: '008-01',\r\n              title: 'Creacin de productos',\r\n              icon: <QueueRounded />,\r\n              permission: permissions.item.create,\r\n              url: urls.app.main.item.form\r\n            },\r\n            {\r\n              id: '008-02',\r\n              title: 'Listar productos',\r\n              icon: <ListIcon/>,\r\n              permission: permissions.item.view,\r\n              url: urls.app.main.item.list\r\n            },\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        id: '009',\r\n        title: 'Factura electrnica',\r\n        icon: <Description/>,\r\n        permission: permissions.electronic_bill.view,\r\n        indexedMenu: {\r\n          open: false,\r\n          items: [\r\n            {\r\n              id: '009-01',\r\n              title: 'Crear factura electrnica',\r\n              icon: <Description/>,\r\n              permission: permissions.electronic_bill.view,\r\n              url: urls.app.main.electronicBill.form\r\n            },\r\n            {\r\n              id: '009-02',\r\n              title: 'Listar factura electrnica',\r\n              icon: <Description/>,\r\n              permission: permissions.electronic_bill.view,\r\n              url: urls.app.main.electronicBill.list\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        id: '010',\r\n        title: 'Reporte de recibos',\r\n        icon: <FindInPage />,\r\n        permission: permissions.movement_receipt.view,\r\n        url: urls.app.main.receipt.report\r\n      },\r\n      {\r\n        id: '011',\r\n        title: 'Reporte de transacciones',\r\n        icon: <Assignment />,\r\n        permission: permissions.movement_internal.view,\r\n        url: urls.app.main.internalTransaction.report\r\n      }\r\n    ]\r\n  }\r\n}\r\n\r\nexport default function MainMenu() {\r\n\r\n  const classes = useStyles()\r\n  const history = useHistory()\r\n  const [state, setState] = React.useState(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  const [sizeScreen, setSizeScreen] = useState(900)\r\n\r\n  const matches = useMediaQuery(`(min-width:${sizeScreen}px)`)\r\n\r\n  const handleListMenu = (\r\n    event: React.MouseEvent<HTMLDivElement, MouseEvent>,\r\n    item: any,\r\n  ) => {\r\n    if (item.indexedMenu) {\r\n      setState({\r\n        ...state,\r\n        selected: item.id,\r\n        menu: {\r\n          ...state.menu,\r\n          items: state.menu.items.map(savedItem => {\r\n            if (savedItem.id === item.id) {\r\n              if (savedItem.indexedMenu) {\r\n                savedItem.indexedMenu.open = !savedItem.indexedMenu.open\r\n              }\r\n            }\r\n            return savedItem\r\n          })\r\n        }\r\n      })\r\n    } else {\r\n      setState({\r\n        ...state,\r\n        selected: item.id\r\n      })\r\n      history.push(item.url)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={matches ? classes.fixed : classes.fixedResponsive}>\r\n      <div className={matches ? classes.root : classes.rootResponsive}>\r\n        <List\r\n          component=\"nav\"\r\n          aria-label=\"main mailbox folders\"\r\n        >\r\n          <ListItem>\r\n            <ListItemIcon\r\n              onClick={() => {\r\n                if (sizeScreen === 900) {\r\n                  setSizeScreen(100)\r\n                } else if (sizeScreen === 100) {\r\n                  setSizeScreen(900)\r\n                }\r\n              }}\r\n            >\r\n              <img\r\n                className={classes.logo}\r\n                src={state.menu.itemHeader.logo.path}\r\n                alt={state.menu.itemHeader.logo.alt}\r\n              />\r\n            </ListItemIcon>\r\n            <Typography\r\n              variant='h6'\r\n              className={matches ? classes.menuTitle : classes.hidden}\r\n            >\r\n              {state.menu.itemHeader.title.main} <span className={classes.secondaryMenuTitle}>{state.menu.itemHeader.title.secondary}</span>\r\n            </Typography>\r\n          </ListItem>\r\n\r\n          <Divider />\r\n          {\r\n            state.menu.items.map(item => (\r\n              userContext.permissions.some(permission => permission === item.permission) ? \r\n              (\r\n                <React.Fragment key={item.id}>\r\n                  <ListItem\r\n                    button\r\n                    selected={state.selected === item.id}\r\n                    onClick={(event) => handleListMenu(event, item)}\r\n                  >\r\n                    <ListItemIcon\r\n                      className={classes.icon}\r\n                    >\r\n                      {item.icon}\r\n                    </ListItemIcon>\r\n                    <ListItemText\r\n                      primary={item.title}\r\n                      className={matches ? classes.textPrimary : classes.hidden}\r\n                    />\r\n                    {\r\n                      item.indexedMenu && matches ?\r\n                        item.indexedMenu.open ? <ExpandLess color='primary' /> : <ExpandMore color='secondary' />\r\n                        :\r\n                        ''\r\n                    }\r\n                  </ListItem>\r\n                  {\r\n                    item.indexedMenu ?\r\n                      (\r\n                        <Collapse\r\n                          in={item.indexedMenu.open}\r\n                          timeout=\"auto\"\r\n                          unmountOnExit\r\n                        >\r\n                          <List\r\n                            component=\"div\"\r\n                            disablePadding\r\n                            className={classes.nestedList}\r\n                          >\r\n                            {\r\n                              item.indexedMenu.items.map(indexedItem => (\r\n                                userContext.permissions.some(permission => permission === indexedItem.permission) ?\r\n                                (\r\n                                  <ListItem\r\n                                    key={indexedItem.id}\r\n                                    button\r\n                                    className={classes.nested}\r\n                                    selected={state.selected === indexedItem.id}\r\n                                    onClick={(event) => handleListMenu(event, indexedItem)}\r\n                                  >\r\n                                    <ListItemIcon\r\n                                      className={classes.icon}\r\n                                    >\r\n                                      {indexedItem.icon}\r\n                                    </ListItemIcon>\r\n                                    <ListItemText\r\n                                      className={matches ? classes.textPrimary : classes.hidden}\r\n                                      primary={indexedItem.title}\r\n                                    />\r\n                                  </ListItem>\r\n                                ) : ''\r\n                              ))\r\n                            }\r\n                          </List>\r\n                        </Collapse>\r\n                      ) : ''\r\n                  }\r\n                </React.Fragment>\r\n              ) : ''\r\n            ))\r\n          }\r\n        </List>\r\n        <Divider />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { fade, makeStyles, Theme, createStyles } from '@material-ui/core/styles'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport InputBase from '@material-ui/core/InputBase'\r\nimport Badge from '@material-ui/core/Badge'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport AccountCircle from '@material-ui/icons/AccountCircle'\r\nimport MailIcon from '@material-ui/icons/Mail'\r\nimport NotificationsIcon from '@material-ui/icons/Notifications'\r\nimport MoreIcon from '@material-ui/icons/MoreVert'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport UserContext, { initialContextUserState } from '../../../contexts/User'\r\nimport Utils from '../../../utils'\r\nimport { urls } from '../../../urls'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    grow: {\r\n      flexGrow: 1,\r\n    },\r\n    toolBar: {\r\n        background: '#ffff'  \r\n    },\r\n    search: {\r\n      position: 'relative',\r\n      borderRadius: theme.shape.borderRadius,\r\n      backgroundColor: fade(theme.palette.common.white, 0.15),\r\n      '&:hover': {\r\n        backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      },\r\n      marginRight: theme.spacing(2),\r\n      marginLeft: 0,\r\n      width: '100%',\r\n      [theme.breakpoints.up('sm')]: {\r\n        marginLeft: theme.spacing(3),\r\n        width: 'auto',\r\n      },\r\n    },\r\n    searchIcon: {\r\n      padding: theme.spacing(0, 2),\r\n      height: '100%',\r\n      position: 'absolute',\r\n      pointerEvents: 'none',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n      color: 'inherit',\r\n    },\r\n    inputInput: {\r\n      padding: theme.spacing(1, 1, 1, 0),\r\n      // vertical padding + font size from searchIcon\r\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n      transition: theme.transitions.create('width'),\r\n      width: '100%',\r\n      [theme.breakpoints.up('md')]: {\r\n        width: '20ch',\r\n      },\r\n    },\r\n    sectionDesktop: {\r\n      display: 'none',\r\n      [theme.breakpoints.up('md')]: {\r\n        display: 'flex',\r\n      },\r\n    },\r\n    sectionMobile: {\r\n      display: 'flex',\r\n      [theme.breakpoints.up('md')]: {\r\n        display: 'none',\r\n      },\r\n    },\r\n  }),\r\n)\r\n\r\nexport default function AppBarComponent() {\r\n  const classes = useStyles()\r\n  const history = useHistory()\r\n  const { setUserContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null)\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState<null | HTMLElement>(null)\r\n\r\n  const isMenuOpen = Boolean(anchorEl)\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl)\r\n\r\n  const handleProfileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(event.currentTarget)\r\n  }\r\n\r\n  const handleMobileMenuClose = () => {\r\n    setMobileMoreAnchorEl(null)\r\n  }\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null)\r\n    handleMobileMenuClose()\r\n    setUserContext(initialContextUserState)\r\n    Utils.removeCookieAuth()\r\n    history.push(urls.page.login)\r\n  }\r\n\r\n  const handleMobileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n    setMobileMoreAnchorEl(event.currentTarget)\r\n  }\r\n\r\n  const menuId = 'primary-search-account-menu'\r\n  const renderMenu = (\r\n    <Menu\r\n      anchorEl={anchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={menuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMenuOpen}\r\n      onClose={handleMenuClose}\r\n    >\r\n      <MenuItem onClick={handleMenuClose}>Perfil</MenuItem>\r\n      <MenuItem onClick={handleMenuClose}>Cerrar sesin</MenuItem>\r\n    </Menu>\r\n  )\r\n\r\n  const mobileMenuId = 'primary-search-account-menu-mobile'\r\n  const renderMobileMenu = (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMobileMenuOpen}\r\n      onClose={handleMobileMenuClose}\r\n    >\r\n      <MenuItem>\r\n        <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\r\n          <Badge badgeContent={4} color=\"secondary\">\r\n            <MailIcon />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Mensajes</p>\r\n      </MenuItem>\r\n      <MenuItem>\r\n        <IconButton aria-label=\"show 11 new notifications\" color=\"inherit\">\r\n          <Badge badgeContent={11} color=\"secondary\">\r\n            <NotificationsIcon />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Notificaciones</p>\r\n      </MenuItem>\r\n      <MenuItem onClick={handleProfileMenuOpen}>\r\n        <IconButton\r\n          aria-label=\"account of current user\"\r\n          aria-controls=\"primary-search-account-menu\"\r\n          aria-haspopup=\"true\"\r\n          color=\"inherit\"\r\n        >\r\n          <AccountCircle />\r\n        </IconButton>\r\n        <p>Perfil</p>\r\n      </MenuItem>\r\n    </Menu>\r\n  )\r\n\r\n  return (\r\n    <div className={classes.grow}>\r\n      <AppBar position=\"static\" elevation={0}>\r\n        <Toolbar className={classes.toolBar}>\r\n          <div className={classes.search}>\r\n            <div className={classes.searchIcon}>\r\n              <SearchIcon />\r\n            </div>\r\n            <InputBase\r\n              placeholder=\"Buscar\"\r\n              classes={{\r\n                root: classes.inputRoot,\r\n                input: classes.inputInput,\r\n              }}\r\n              inputProps={{ 'aria-label': 'search' }}\r\n            />\r\n          </div>\r\n          <div className={classes.grow} />\r\n          <div className={classes.sectionDesktop}>\r\n            <IconButton aria-label=\"show new mails\" color=\"inherit\">\r\n              <Badge badgeContent={0} color=\"secondary\">\r\n                <MailIcon />\r\n              </Badge>\r\n            </IconButton>\r\n            <IconButton aria-label=\"show new notifications\" color=\"inherit\">\r\n              <Badge badgeContent={0} color=\"secondary\">\r\n                <NotificationsIcon />\r\n              </Badge>\r\n            </IconButton>\r\n            <IconButton\r\n              edge=\"end\"\r\n              aria-label=\"account of current user\"\r\n              aria-controls={menuId}\r\n              aria-haspopup=\"true\"\r\n              onClick={handleProfileMenuOpen}\r\n              color=\"inherit\"\r\n            >\r\n              <AccountCircle />\r\n            </IconButton>\r\n          </div>\r\n          <div className={classes.sectionMobile}>\r\n            <IconButton\r\n              aria-label=\"show more\"\r\n              aria-controls={mobileMenuId}\r\n              aria-haspopup=\"true\"\r\n              onClick={handleMobileMenuOpen}\r\n              color=\"inherit\"\r\n            >\r\n              <MoreIcon />\r\n            </IconButton>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      {renderMobileMenu}\r\n      {renderMenu}\r\n    </div>\r\n  )\r\n}\r\n","import { Third } from \"../../schemas/Third\";\r\n\r\nexport default function thirdMapper(third: any | unknown): Third {\r\n  return {\r\n    entityId: third.entityId ?? '',\r\n    document: third.document ?? '',\r\n    dv: third.dv ?? '',\r\n    documentType: third.documentType ?? { code: '', description: '' },\r\n    organizationType: third.organizationType ?? { code: '', description: '' },\r\n    liabilityType: third.liabilityType ?? { code: '', description: '' },\r\n    regimeType: third.regimeType ?? { code: '', description: '' },\r\n    name: third.name ?? undefined,\r\n    lastname: third.lastname ?? undefined,\r\n    businessName: third.businessName ?? undefined,\r\n    phone: third.phone ?? '',\r\n    address: third.address ?? '',\r\n    city: third.city ?? undefined,\r\n    email: third.email ?? ''\r\n  }\r\n}\r\n","import axios from 'axios'\r\nimport thirdMapper from '../../mappers/Third/third.mapper'\r\nimport { Third } from '../../schemas/Third'\r\n\r\nclass ThirdService {\r\n  async saveThird(thirdData: Third, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/third` \r\n      const responseApi = await axios.post(url, thirdData, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async updateThird(thirdData: Third, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/third` \r\n      const responseApi = await axios.put(url, thirdData, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getThirds(token: string, params?: { limit: number, lastEvaluatedKey?: string }) : Promise<{ lastEvaluatedKey: string, thirds: Third[] }> {\r\n    try {\r\n      let url = params !== undefined ? `${process.env.REACT_APP_API}/api/v2/third?limit=${params.limit}` : `${process.env.REACT_APP_API}/api/v2/third`\r\n      \r\n      if (params !== undefined && params.lastEvaluatedKey !== undefined) url = `${url}&lastEvaluatedKey=${params.lastEvaluatedKey}`\r\n  \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        } \r\n      })\r\n\r\n      const thirds = responseApi.data.thirds.map((third:any) => {\r\n        return thirdMapper(third) \r\n      })\r\n\r\n      return {\r\n        lastEvaluatedKey: JSON.stringify(responseApi.data.lastEvaluatedKey),\r\n        thirds: thirds\r\n      }\r\n\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getThirdByDocument(token: string, document: string) : Promise<Third> {\r\n    try {\r\n      let url = `${process.env.REACT_APP_API}/api/v2/third/${document}`\r\n  \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        } \r\n      })\r\n\r\n      const third = thirdMapper(responseApi.data) \r\n\r\n      return third\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default ThirdService\r\n","import { Concept } from \"../../schemas/Concept\";\r\n\r\nexport default function conceptMapper(concept: any | unknown): Concept {\r\n  return {\r\n    entityId: concept.entityId ?? '',\r\n    account: concept.account ?? 0,\r\n    description: concept.description ?? '',\r\n    type: {\r\n      code: concept.type?.code ?? '',\r\n      description: concept.type?.description ?? ''\r\n    } ?? undefined\r\n  }\r\n}\r\n","import axios from 'axios'\r\nimport conceptMapper from '../../mappers/Concept/concept.mapper'\r\nimport { Concept } from '../../schemas/Concept'\r\n\r\nclass ConceptService {\r\n  async saveConcept(concept: Concept, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/concept` \r\n      const responseApi = await axios.post(url, concept, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async updateConcept(conceptData: Concept, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/concept` \r\n      const responseApi = await axios.put(url, conceptData, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getConceptByAccount(token: string, account: string) : Promise<Concept> {\r\n    try {\r\n      let url = `${process.env.REACT_APP_API}/api/v2/concept/${account}`\r\n  \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        } \r\n      })\r\n\r\n      const concept = conceptMapper(responseApi.data) \r\n\r\n      return concept\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getConcepts(token: string, params?: { limit: number, lastEvaluatedKey?: string }) : Promise<{ lastEvaluatedKey: string, concepts: Concept[] }>{\r\n    try {\r\n      let url = params !== undefined ? `${process.env.REACT_APP_API}/api/v2/concept?limit=${params.limit}` : `${process.env.REACT_APP_API}/api/v2/concept`\r\n      if (params !== undefined && params.lastEvaluatedKey !== undefined) url = `${url}&lastEvaluatedKey=${params.lastEvaluatedKey}`\r\n      \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n\r\n      const concepts = responseApi.data.concepts.map((item:any) => {\r\n        return conceptMapper(item)\r\n      })\r\n\r\n      return {\r\n        lastEvaluatedKey: JSON.stringify(responseApi.data.lastEvaluatedKey),\r\n        concepts: concepts\r\n      }\r\n\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default ConceptService\r\n","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { IconButton } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n});\r\n\r\nconst texts = {\r\n  table: {\r\n    headers: {\r\n      account: 'Cuenta',\r\n      description: 'Descripcin',\r\n      costCenter: 'Centro de costo',\r\n      value: 'Valor',\r\n      delete: 'Eliminar'\r\n    }\r\n  }\r\n}\r\nexport default function DataTableReceipt({ rows, handleTable, disabledForm }: { rows: Array<any>, handleTable: Function, disabledForm: boolean }) {\r\n\r\n  const classes = useStyles();\r\n  const [reload, setReload] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setReload(false)\r\n  }, [reload])\r\n\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table className={classes.table} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>{texts.table.headers.account}</TableCell>\r\n            <TableCell>{texts.table.headers.description}</TableCell>\r\n            <TableCell>{texts.table.headers.costCenter}</TableCell>\r\n            <TableCell align=\"right\">{texts.table.headers.value}</TableCell>\r\n            <TableCell align=\"right\">{texts.table.headers.delete}</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {\r\n            rows.map((row, index) => (\r\n              <TableRow key={index}>\r\n                <TableCell component=\"th\" >{row.account}</TableCell>\r\n                <TableCell component=\"th\">{row.description}</TableCell>\r\n                <TableCell component=\"th\">{row.costCenter.description}</TableCell>\r\n                <TableCell align=\"right\">{row.value}</TableCell>\r\n                <TableCell align=\"right\">\r\n                  <IconButton\r\n                    aria-label=\"delete\"\r\n                    onClick={() => handleTable('REMOVE', row)}\r\n                    disabled={disabledForm}\r\n                  >\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))\r\n          }\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n","import { Account } from \"../../schemas/Account\";\r\n\r\nexport default function accountMapper(account: any | unknown): Account {\r\n  return {\r\n    entityId: account.entityId ?? '',\r\n    account: account.account ?? 0,\r\n    description: account.description ?? '',\r\n    balance: account.balance ?? 0,\r\n    document: account.document ?? 0\r\n  }\r\n}\r\n","import axios from 'axios'\r\nimport accountMapper from '../../mappers/Account/account.mapper'\r\nimport { Account } from '../../schemas/Account'\r\n\r\nclass AccountService {\r\n  async saveAccount(account: Account, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/account` \r\n      const responseApi = await axios.post(url, account, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async updateAccount(accountData: Account, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/account` \r\n      const responseApi = await axios.put(url, accountData, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getAccountByAccount(token: string, accountId: string) : Promise<Account> {\r\n    try {\r\n      let url = `${process.env.REACT_APP_API}/api/v2/account/${accountId}`\r\n  \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        } \r\n      })\r\n\r\n      const account = accountMapper(responseApi.data) \r\n\r\n      return account\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getAccounts(token: string, params?: { limit: number, lastEvaluatedKey?: string }) : Promise<{ lastEvaluatedKey: string, accounts: Account[] }>{\r\n    try {\r\n      let url = params !== undefined ? `${process.env.REACT_APP_API}/api/v2/account?limit=${params.limit}` : `${process.env.REACT_APP_API}/api/v2/account`\r\n      if (params !== undefined && params.lastEvaluatedKey !== undefined) url = `${url}&lastEvaluatedKey=${params.lastEvaluatedKey}`\r\n      \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n\r\n      const accounts = responseApi.data.accounts.map((item:any) => {\r\n        return accountMapper(item)\r\n      })\r\n\r\n      return {\r\n        lastEvaluatedKey: JSON.stringify(responseApi.data.lastEvaluatedKey),\r\n        accounts: accounts\r\n      }\r\n\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default AccountService\r\n","import { AccountReceipt, ConceptReceipt, Receipt } from \"../../schemas/Receipt\";\r\n\r\nexport function createAccounts(data: any[], type?: any): AccountReceipt[] {\r\n  const res: any[] = []\r\n  data.forEach((item: any) => {\r\n    res.push({\r\n      account: Number(item.account),\r\n      value: type && type.code === 'EGR' ? Number(item.value * -1) : Number(item.value),\r\n      costCenterCode: item.costCenterCode ? item.costCenterCode :  item.costCenter.code\r\n    })\r\n  })\r\n\r\n  return res\r\n}\r\n\r\nexport function createConcepts(data: any[]): ConceptReceipt[] {\r\n  const res: any[] = []\r\n  data.forEach((item: any) => {\r\n    res.push({\r\n      account: Number(item.account),\r\n      value: Number(item.value),\r\n      description: item.description,\r\n      costCenterCode: item.costCenterCode ? item.costCenterCode :  item.costCenter.code\r\n    })\r\n  })\r\n\r\n  return res\r\n}\r\n\r\nexport function receiptMapper(item: any | unknown): Receipt {\r\n  return {\r\n    entityId: item.entityId ?? '',\r\n    userId: item.userId ?? '',\r\n    type: {\r\n      code: item.type.code ?? '',\r\n      description: item.type.description ?? ''\r\n    },\r\n    date: item.date ?? '',\r\n    code: item.code ?? '',\r\n    description: item.description ?? '',\r\n    thirdDocument: item.thirdDocument ?? '',\r\n    totalValueLetter: item.totalValueLetter ?? '',\r\n    total: Number(item.total) ?? 0,\r\n    accounts: createAccounts(item.accounts),\r\n    concepts: createConcepts(item.concepts)\r\n  }\r\n}","import axios from 'axios'\r\nimport { receiptMapper } from '../../mappers/Receipt/receipt.mapper'\r\nimport { Receipt } from '../../schemas/Receipt'\r\n\r\nclass ReceiptService {\r\n  async saveReceipt(receiptData: Receipt, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/receipt` \r\n      const responseApi = await axios.post(url, receiptData, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n\r\n  async getReceiptByCode(token: string, code: string) : Promise<Receipt> {\r\n    try {\r\n      let url = `${process.env.REACT_APP_API}/api/v2/receipt/${code}`\r\n  \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        } \r\n      })\r\n\r\n      const concept = receiptMapper(responseApi.data) \r\n\r\n      return concept\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getReceipts(token: string, params?: { limit: number, lastEvaluatedKey?: string }) : Promise<{ lastEvaluatedKey: string, receipts: Receipt[] }> {\r\n    try {\r\n      let url = params !== undefined ? `${process.env.REACT_APP_API}/api/v2/receipt?limit=${params.limit}` : `${process.env.REACT_APP_API}/api/v2/receipt`\r\n      if (params !== undefined && params.lastEvaluatedKey !== undefined) url = `${url}&lastEvaluatedKey=${params.lastEvaluatedKey}`\r\n  \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n\r\n      const receipts = responseApi.data.receipts.map((receipt:any) => {\r\n        return receiptMapper(receipt)\r\n      })\r\n\r\n      return {\r\n        lastEvaluatedKey: JSON.stringify(responseApi.data.lastEvaluatedKey),\r\n        receipts: receipts\r\n      }\r\n\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default ReceiptService\r\n","import { CostCenter } from \"../../schemas/CostCenter\";\r\n\r\nexport default function costCenterMapper(costCenter: any | unknown): CostCenter {\r\n  return {\r\n    entityId: costCenter.entityId ?? '',\r\n    code: costCenter.code ?? '',\r\n    description: costCenter.description ?? '',\r\n    type: {\r\n      code: costCenter.type?.code ?? '',\r\n      description: costCenter.type?.description ?? ''\r\n    } ?? undefined\r\n  }\r\n}\r\n","import axios from 'axios'\r\nimport costCenterMapper from '../../mappers/CostCenter/costCenter.mapper'\r\nimport { CostCenter } from '../../schemas/CostCenter'\r\n\r\nclass CostCenterService {\r\n  async saveCostCenter(costCenter: CostCenter, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/cost-center` \r\n      const responseApi = await axios.post(url, costCenter, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async updateCostCenter(costCenterData: CostCenter, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/cost-center` \r\n      const responseApi = await axios.put(url, costCenterData, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getCostCenterByCode(token: string, code: string) : Promise<CostCenter> {\r\n    try {\r\n      let url = `${process.env.REACT_APP_API}/api/v2/cost-center/${code}`\r\n  \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        } \r\n      })\r\n\r\n      const costCenter = costCenterMapper(responseApi.data) \r\n\r\n      return costCenter\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getCostCenters(token: string, params?: { limit: number, lastEvaluatedKey?: string }) : Promise<{ lastEvaluatedKey: string, costCenters: CostCenter[] }>{\r\n    try {\r\n      let url = params !== undefined ? `${process.env.REACT_APP_API}/api/v2/cost-center?limit=${params.limit}` : `${process.env.REACT_APP_API}/api/v2/cost-center`\r\n      if (params !== undefined && params.lastEvaluatedKey !== undefined) url = `${url}&lastEvaluatedKey=${params.lastEvaluatedKey}`\r\n      \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n\r\n      const costCenters = responseApi.data.costCenters.map((item:any) => {\r\n        return costCenterMapper(item)\r\n      })\r\n\r\n      return {\r\n        lastEvaluatedKey: JSON.stringify(responseApi.data.lastEvaluatedKey),\r\n        costCenters: costCenters\r\n      }\r\n\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default CostCenterService\r\n","import React, { useState } from 'react'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Box,\r\n  Button,\r\n  CircularProgress,\r\n  Divider,\r\n  FormHelperText,\r\n  Grid,\r\n  IconButton,\r\n  InputAdornment,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Typography\r\n} from '@material-ui/core'\r\nimport { NoteAdd, Cancel, ArrowDropUp, ArrowDropDown, Save } from '@material-ui/icons'\r\nimport { Receipt } from '../../../schemas/Receipt'\r\nimport { Account } from '../../../schemas/Account'\r\nimport { Third } from '../../../schemas/Third'\r\nimport { Concept } from '../../../schemas/Concept'\r\nimport ThirdService from '../../../services/Third'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport { toast } from 'react-toastify'\r\nimport ConceptService from '../../../services/Concept'\r\nimport EntityContext from '../../../contexts/Entity'\r\nimport { EntityContextType, ReceiptNumbers } from '../../../schemas/Entity'\r\nimport DataTableReceipt from './DataTableReceipt'\r\nimport AccountService from '../../../services/Account'\r\nimport { createAccounts, createConcepts } from '../../../mappers/Receipt/receipt.mapper'\r\nimport ReceiptService from '../../../services/Receipt'\r\nimport { urls } from '../../../urls'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport { CostCenter } from '../../../schemas/CostCenter'\r\nimport CostCenterService from '../../../services/CostCenter'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  title: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  addButton: {\r\n    width: '100%',\r\n    height: '70%',\r\n    color: '#ffff',\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    title: 'Recibos de ingreso y egreso'\r\n  },\r\n  body: {\r\n    subtitleConcepts: 'Tabla de conceptos',\r\n    subtitleAccounts: 'Formas de pago',\r\n    field: {\r\n      type: {\r\n        name: 'type',\r\n        helperText: 'Escoja el tipo de recibo',\r\n        options: [\r\n          { description: 'INGRESO', code: 'ING' },\r\n          { description: 'EGRESO', code: 'EGR' }\r\n        ]\r\n      },\r\n      code: {\r\n        name: 'code',\r\n        helperText: 'Escoja el prefijo'\r\n      },\r\n      description: {\r\n        name: 'description',\r\n        helperText: 'Detalle del recibo',\r\n        placeholder: 'Detalle'\r\n      },\r\n      date: {\r\n        name: 'date',\r\n        helperText: 'Indique la fecha'\r\n      },\r\n      thirdDocument: {\r\n        name: 'thirdDocument',\r\n        helperText: 'Escoja el tercero',\r\n        placeholder: 'Tercero'\r\n      },\r\n      totalValueLetter: {\r\n        name: 'totalValueLetter',\r\n        helperText: 'Escriba el valor total del recibo en letras',\r\n        placeholder: 'Valor en letras'\r\n      },\r\n      currentAccount: {\r\n        name: 'currentAccount',\r\n        helperText: 'Escoja la cuenta'\r\n      },\r\n      currentAccountCostCenter: {\r\n        name: 'currentAccountCostCenter',\r\n        helperText: 'Escoja el centro de costo'\r\n      },\r\n      currentAccountValue: {\r\n        name: 'currentAccountValue',\r\n        helperText: 'Valor',\r\n        placeholder: 'Valor'\r\n      },\r\n      currentConcept: {\r\n        name: 'currentConcept',\r\n        helperText: 'Escoja un cencepto'\r\n      },\r\n      currentConceptCostCenter: {\r\n        name: 'currentConceptCostCenter',\r\n        helperText: 'Escoja el centro de costo'\r\n      },\r\n      currentConceptValue: {\r\n        name: 'currentConceptValue',\r\n        helperText: 'Valor',\r\n        placeholder: 'Valor'\r\n      }\r\n    },\r\n    buttons: {\r\n      add: 'Agregar'\r\n    }\r\n  }\r\n}\r\n\r\ninterface State {\r\n  form: Receipt,\r\n  currentAccount?: Account\r\n  currentAccountValue: number\r\n  accountList: Account[]\r\n  accountTotal: number\r\n  currentConcept?: Concept\r\n  currentConceptValue: number\r\n  conceptTotal: number\r\n  currentAccountCostCenter?: any\r\n  currentConceptCostCenter?: any\r\n  thirds: Third[]\r\n  conceptList: Concept[]\r\n  costCenterList: CostCenter[]\r\n  suggestionsThirds: any[]\r\n  selectedAccounts: any[]\r\n  selectedConcepts: any[]\r\n  prefix: ReceiptNumbers[]\r\n  status: boolean\r\n  thirdSelected?: string\r\n  loading: boolean\r\n  disabledForm: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  form: {\r\n    type: undefined,\r\n    date: '',\r\n    code: '',\r\n    description: '',\r\n    thirdDocument: '',\r\n    totalValueLetter: '',\r\n    total: 0,\r\n    accounts: [],\r\n    concepts: []\r\n  },\r\n  currentAccount: undefined,\r\n  currentAccountValue: 0,\r\n  accountList: [],\r\n  accountTotal: 0,\r\n  currentConcept: undefined,\r\n  currentConceptValue: 0,\r\n  conceptTotal: 0,\r\n  thirds: [],\r\n  conceptList: [],\r\n  costCenterList: [],\r\n  suggestionsThirds: [],\r\n  selectedAccounts: [],\r\n  selectedConcepts: [],\r\n  prefix: [],\r\n  thirdSelected: '',\r\n  status: false,\r\n  loading: false,\r\n  disabledForm: false\r\n}\r\n\r\nexport default function ReceiptForm() {\r\n\r\n  const classes = useStyles()\r\n  const { search } = useLocation()\r\n  const history = useHistory()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  const { entityContext } = React.useContext(\r\n    EntityContext\r\n  ) as EntityContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n\r\n      setState({\r\n        ...state,\r\n        loading: true\r\n      })\r\n\r\n      try {\r\n        // get thirds\r\n        const thirdService = new ThirdService()\r\n        const thirdsRes = await thirdService.getThirds(userContext.token || '')\r\n        const thirds = thirdsRes.thirds\r\n\r\n        // get accounts\r\n        const accountService = new AccountService()\r\n        const accountRes = await accountService.getAccounts(userContext.token || '')\r\n        const accounts = accountRes.accounts\r\n\r\n        // get concepts\r\n        const conceptService = new ConceptService()\r\n        const conceptRes = await conceptService.getConcepts(userContext.token || '')\r\n        const concepts = conceptRes.concepts\r\n\r\n        // get cost center\r\n        const costCenterService = new CostCenterService()\r\n        const costCenterRes = await costCenterService.getCostCenters(userContext.token || '')\r\n        const costCenters = costCenterRes.costCenters\r\n\r\n        setState({\r\n          ...state,\r\n          thirds,\r\n          suggestionsThirds: thirds,\r\n          conceptList: concepts,\r\n          accountList: accounts,\r\n          costCenterList: costCenters,\r\n          prefix: entityContext.receiptNumbers ?? [],\r\n          loading: false\r\n        })\r\n      } catch (error) {\r\n        setState({\r\n          ...state,\r\n          loading: false\r\n        })\r\n\r\n        if (axios.isAxiosError(error)) {\r\n          const serverError = error as AxiosError<ServerError>\r\n          if (serverError && serverError.response) {\r\n            return toast.error(serverError.response.data.message || error.toString())\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    loadData()\r\n  }, [])\r\n\r\n  const handleChangeSelect = (\r\n    name: string,\r\n    item: any) => {\r\n    if (name === texts.body.field.thirdDocument.name) {\r\n      setState({\r\n        ...state,\r\n        form: {\r\n          ...state.form,\r\n          [name]: item.document\r\n        },\r\n        thirdSelected: item.name !== undefined ? `${item.name} ${item.lastname}` : `${item.businessName}`,\r\n        status: false\r\n      })\r\n    } else if (name === texts.body.field.code.name) {\r\n      setState({\r\n        ...state,\r\n        form: {\r\n          ...state.form,\r\n          code: item.code\r\n        }\r\n      })\r\n    } else if (name === texts.body.field.currentAccount.name || name === texts.body.field.currentAccountCostCenter.name || name === texts.body.field.currentConceptCostCenter.name || name === texts.body.field.currentConcept.name) {\r\n      setState({\r\n        ...state,\r\n        [name]: item\r\n      })\r\n    } else {\r\n      setState({\r\n        ...state,\r\n        form: {\r\n          ...state.form,\r\n          [name]: item\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user writes on an input.\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target\r\n    if (name === texts.body.field.currentAccountValue.name || name === texts.body.field.currentConceptValue.name) {\r\n      setState({\r\n        ...state,\r\n        [name]: value\r\n      })\r\n    } else {\r\n      setState({\r\n        ...state,\r\n        form: {\r\n          ...state.form,\r\n          [name]: value\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleSuggestions = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { value } = e.target\r\n\r\n    const suggestionsThirds = state.thirds.filter(third => {\r\n      if (third.name?.toLowerCase().includes(value.toLowerCase())) {\r\n        return third\r\n      } else if (third.lastname?.toLowerCase().includes(value.toLowerCase())) {\r\n        return third\r\n      } else if (third.businessName?.toLowerCase().includes(value.toLowerCase())) {\r\n        return third\r\n      }\r\n    })\r\n\r\n    setState({\r\n      ...state,\r\n      thirdSelected: value,\r\n      suggestionsThirds,\r\n      status: value.length > 0 ? true : false\r\n    })\r\n  }\r\n\r\n  // Function for thousand separator\r\n  // this function adds thousand separator to numbers in:\r\n  // fields: valueNumber.\r\n  const thousandSeparator = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target\r\n    // setConceptValue(value)\r\n    if (name === 'conceptValue') {\r\n      let input = value.split(',').join('')\r\n      let newInput = input.split('').reverse()\r\n\r\n      let output = []\r\n      let aux = ''\r\n      let paginator = Math.ceil(newInput.length / 3)\r\n\r\n      for (let i = 0; i < paginator; i++) {\r\n        for (let j = 0; j < 3; j++) {\r\n          if (newInput[j + (i * 3)] !== undefined) {\r\n            aux += newInput[j + (i * 3)]\r\n          }\r\n        }\r\n        output.push(aux)\r\n        aux = ''\r\n        // setConceptValue(output.join(',').split('').reverse().join(''))\r\n      }\r\n    }\r\n  }\r\n\r\n  // HandleTable is the handler to add and remove items\r\n  // from the concept table, it also adds or subtracts \r\n  // the value of the total receipt.\r\n  const handleTableAccount = (func: string, selected?: any) => {\r\n    if (func === 'ADD') {\r\n      // add total account for validations\r\n      const total = Number(state.accountTotal) + Number(state.currentAccountValue)\r\n      const newAccount = {\r\n        ...state.currentAccount,\r\n        value: state.currentAccountValue,\r\n        costCenter: state.currentAccountCostCenter\r\n      }\r\n      const accounts = state.selectedAccounts\r\n      accounts.push(newAccount)\r\n      setState({\r\n        ...state,\r\n        selectedAccounts: accounts,\r\n        currentAccount: undefined,\r\n        currentAccountCostCenter: undefined,\r\n        currentAccountValue: 0,\r\n        accountTotal: total\r\n      })\r\n    } else if (func === 'REMOVE') {\r\n      // substract total account\r\n      const total = Number(state.accountTotal) - Number(selected.value)\r\n      const accounts = state.selectedAccounts.filter(acc => acc.account !== selected.account)\r\n      setState({\r\n        ...state,\r\n        selectedAccounts: accounts,\r\n        accountTotal: total\r\n      })\r\n    }\r\n  }\r\n\r\n  // HandleTable is the handler to add and remove items\r\n  // from the concept table, it also adds or subtracts \r\n  // the value of the total receipt.\r\n  const handleTableConcept = (func: string, selected?: any) => {\r\n    if (func === 'ADD') {\r\n      // add total concept for validations\r\n      const total = Number(state.conceptTotal) + Number(state.currentConceptValue)\r\n      const newConcept = {\r\n        ...state.currentConcept,\r\n        value: state.currentConceptValue,\r\n        costCenter: state.currentConceptCostCenter\r\n      }\r\n      const concepts = state.selectedConcepts\r\n      concepts.push(newConcept)\r\n      setState({\r\n        ...state,\r\n        form: {\r\n          ...state.form,\r\n          total: total\r\n        },\r\n        selectedConcepts: concepts.map((c, index) => {\r\n          return {\r\n            ...c,\r\n            id: index\r\n          }\r\n        }),\r\n        currentConcept: undefined,\r\n        currentConceptCostCenter: undefined,\r\n        currentConceptValue: 0,\r\n        conceptTotal: total\r\n      })\r\n    } else if (func === 'REMOVE') {\r\n      // substract total concept\r\n      const total = Number(state.conceptTotal) - Number(selected.value)\r\n      const concepts = state.selectedConcepts.filter(conc => conc.id !== selected.id)\r\n      setState({\r\n        ...state,\r\n        form: {\r\n          ...state.form,\r\n          total: total\r\n        },\r\n        selectedConcepts: concepts.map((c, index) => {\r\n          return {\r\n            ...c,\r\n            id: index\r\n          }\r\n        }),\r\n        conceptTotal: total\r\n      })\r\n    }\r\n  }\r\n\r\n  // HandleSubmit is the handler to verify and send\r\n  // the form to redux (redux send the info to backend)\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    try {\r\n      // validations\r\n      if (state.selectedAccounts.length === 0) throw new Error('Debe seleccionar al menos una cuenta')\r\n      if (state.selectedConcepts.length === 0) throw new Error('Debe seleccionar al menos un concepto')\r\n      if (Number(state.accountTotal) !== Number(state.conceptTotal)) throw new Error('Los valores totales de las cuentas y conceptos no concuerdan')\r\n\r\n      const accounts = createAccounts(state.selectedAccounts, state.form.type)\r\n      const concepts = createConcepts(state.selectedConcepts)\r\n      const receipt = {\r\n        ...state.form,\r\n        accounts,\r\n        concepts\r\n      }\r\n\r\n      const receiptService = new ReceiptService()\r\n      const receiptCreated = await receiptService.saveReceipt(receipt, userContext.token ?? '')\r\n\r\n      setState({\r\n        ...initState,\r\n        selectedAccounts: [],\r\n        selectedConcepts: [],\r\n        prefix: state.prefix,\r\n        accountList: state.accountList,\r\n        thirds: state.thirds,\r\n        conceptList: state.conceptList,\r\n        loading: false\r\n      })\r\n  \r\n      history.push(urls.app.main.receipt.form)\r\n      return toast.success(`El comprobante ${receiptCreated.code} fue creado con xito`)\r\n\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      } else if (error instanceof Error) {\r\n        return toast.error(error.message)\r\n      }\r\n    }\r\n  }\r\n\r\n  const cancel = () => {\r\n    setState({\r\n      ...initState,\r\n      selectedAccounts: [],\r\n      selectedConcepts: [],\r\n      prefix: state.prefix,\r\n      accountList: state.accountList,\r\n      thirds: state.thirds,\r\n      conceptList: state.conceptList,\r\n      loading: false\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ------- *Header --------- */}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant='h5'\r\n          className={classes.title}\r\n        >\r\n          {texts.header.title}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n\r\n      {/* ------- *Body ----------- */}\r\n      <form onSubmit={(e) => handleSubmit(e)}>\r\n        <Grid container spacing={3}>\r\n\r\n          {/* ----- Form: item **type ------*/}\r\n          <Grid item md={4} sm={4} xs={12}>\r\n            <Select\r\n              name={texts.body.field.type.name}\r\n              value={state.form.type?.code ?? ''}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              required\r\n            >\r\n              {\r\n                texts.body.field.type.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.type.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.type.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: prefix ------*/}\r\n          <Grid item md={4} sm={4} xs={12}>\r\n            <Select\r\n              name={texts.body.field.code.name}\r\n              value={state.form.code}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              required\r\n            >\r\n              {\r\n                state.prefix.map((item) =>\r\n                  <MenuItem\r\n                    key={item.prefix}\r\n                    value={item.prefix}\r\n                    onClick={() => handleChangeSelect(texts.body.field.code.name, { code: item.prefix, description: item.prefix })}\r\n                  >\r\n                    {item.prefix}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.code.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: item **date ------*/}\r\n          <Grid item md={4} sm={6} xs={12}>\r\n            <TextField\r\n              name={texts.body.field.date.name}\r\n              value={state.form.date}\r\n              id='outlined-helperText'\r\n              variant='outlined'\r\n              fullWidth\r\n              type='date'\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.date.helperText}\r\n              required\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: third ------*/}\r\n          <Grid item md={12} sm={12} xs={12}>\r\n            <TextField\r\n              name=\"thirdSelected\"\r\n              value={state.thirdSelected}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              onChange={handleSuggestions}\r\n              required\r\n              autoComplete='off'\r\n              InputProps={{\r\n                endAdornment: <InputAdornment position=\"end\">\r\n                  <IconButton onClick={() => setState({ ...state, status: !state.status })}>\r\n                    {\r\n                      state.status ?\r\n                        (\r\n                          <ArrowDropUp fontSize={\"small\"} color=\"secondary\" />\r\n                        ) :\r\n                        (\r\n                          <ArrowDropDown fontSize={\"small\"} color=\"primary\" />\r\n                        )\r\n                    }\r\n                  </IconButton>\r\n                </InputAdornment>,\r\n              }}\r\n            />\r\n            {\r\n              state.status === true && (\r\n                <Box sx={{\r\n                  width: '100%',\r\n                  maxHeight: 100,\r\n                  display: 'relative',\r\n                  zIndex: 1,\r\n                  bgcolor: '#E1E1E1',\r\n                  overflow: 'auto'\r\n                }}>\r\n                  {\r\n                    state.suggestionsThirds.map((third) =>\r\n                      <MenuItem\r\n                        key={third.document}\r\n                        onClick={() => handleChangeSelect(texts.body.field.thirdDocument.name, third)}\r\n                      >\r\n                        {third.name !== undefined ? `${third.name} ${third.lastname}` : `${third.businessName}`}\r\n                      </MenuItem>\r\n                    )\r\n                  }\r\n                </Box>\r\n              )\r\n            }\r\n            <FormHelperText>{texts.body.field.thirdDocument.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          <Grid item md={12} sm={12} xs={12}>\r\n            <TextField\r\n              name={texts.body.field.description.name}\r\n              value={state.form.description}\r\n              id='outlined-helperText'\r\n              variant='outlined'\r\n              fullWidth\r\n              required\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.description.helperText}\r\n              placeholder={texts.body.field.description.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: item **value in text ------*/}\r\n          <Grid item md={12} sm={12} xs={12}>\r\n            <TextField\r\n              name={texts.body.field.totalValueLetter.name}\r\n              value={state.form.totalValueLetter}\r\n              id='outlined-helperText'\r\n              variant='outlined'\r\n              fullWidth\r\n              required\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.totalValueLetter.helperText}\r\n              placeholder={texts.body.field.totalValueLetter.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item md={12} sm={12} xs={12}>\r\n            <Typography\r\n              variant='h6'\r\n            >\r\n              {texts.body.subtitleAccounts}\r\n            </Typography>\r\n          </Grid>\r\n\r\n          <Grid item md={12} sm={12} xs={12}>\r\n            <Divider className={classes.divider} />\r\n          </Grid>\r\n\r\n          <Grid item md={4} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.currentAccount.name}\r\n              value={state.currentAccount?.account ?? ''}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              disabled={state.disabledForm}\r\n            >\r\n              {\r\n                state.accountList.map((account) =>\r\n                  <MenuItem\r\n                    key={account.description}\r\n                    value={account.account}\r\n                    onClick={() => handleChangeSelect(texts.body.field.currentAccount.name, account)}\r\n                  >\r\n                    {account.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.currentAccount.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          <Grid item md={3} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.currentAccountCostCenter.name}\r\n              value={state.currentAccountCostCenter?.code ?? ''}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              disabled={state.disabledForm}\r\n            >\r\n              {\r\n                state.costCenterList.filter(costCenter => {\r\n                  if (costCenter.type.code === 'PAY') {\r\n                    return costCenter\r\n                  }\r\n                }).map((cc) =>\r\n                  <MenuItem\r\n                    key={cc.description}\r\n                    value={cc.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.currentAccountCostCenter.name, cc)}\r\n                  >\r\n                    {cc.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.currentAccountCostCenter.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          <Grid item md={3} sm={6} xs={12}>\r\n            <TextField\r\n              name={texts.body.field.currentAccountValue.name}\r\n              value={state.currentAccountValue}\r\n              id='outlined-helperText'\r\n              variant='outlined'\r\n              fullWidth\r\n              type='number'\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.currentAccountValue.helperText}\r\n              placeholder={texts.body.field.currentAccountValue.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item md={2} sm={6} xs={12}>\r\n            <Button\r\n              variant=\"contained\"\r\n              type=\"button\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              onClick={() => handleTableAccount(\"ADD\")}\r\n              className={classes.addButton}\r\n              startIcon={<Save />}\r\n              disabled={state.disabledForm}\r\n            >\r\n              {texts.body.buttons.add}\r\n            </Button>\r\n          </Grid>\r\n\r\n          {/* ----- Form: item **concepts table rendering ------*/}\r\n          <Grid item md={12} sm={12} xs={12} style={{ marginBottom: '6vh' }}>\r\n            <DataTableReceipt rows={state.selectedAccounts} handleTable={handleTableAccount} disabledForm={state.disabledForm} />\r\n          </Grid>\r\n\r\n          <Grid item md={12} sm={12} xs={12}>\r\n            <Typography\r\n              variant='h6'\r\n            >\r\n              {texts.body.subtitleConcepts}\r\n            </Typography>\r\n          </Grid>\r\n\r\n          <Grid item md={12} sm={12} xs={12}>\r\n            <Divider className={classes.divider} />\r\n          </Grid>\r\n\r\n          <Grid item md={4} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.currentConcept.name}\r\n              value={state.currentConcept?.account ?? ''}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              disabled={state.disabledForm}\r\n            >\r\n              {\r\n                state.conceptList.filter(concept => {\r\n                  if (state.form.type?.code === 'ING' && concept.type.code === 'CREDIT') {\r\n                    return concept\r\n                  } else if (state.form.type?.code === 'EGR' && concept.type.code === 'DEBIT') {\r\n                    return concept\r\n                  }\r\n                }).map((concept) =>\r\n                  <MenuItem\r\n                    key={concept.description}\r\n                    value={concept.account}\r\n                    onClick={() => handleChangeSelect(texts.body.field.currentConcept.name, concept)}\r\n                  >\r\n                    {concept.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.currentConcept.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          <Grid item md={3} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.currentConceptCostCenter.name}\r\n              value={state.currentConceptCostCenter?.code ?? ''}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              disabled={state.disabledForm}\r\n            >\r\n              {\r\n                state.costCenterList.filter(costCenter => {\r\n                  if (costCenter.type.code === 'CONCEPT') {\r\n                    return costCenter\r\n                  }\r\n                }).map((cc) =>\r\n                  <MenuItem\r\n                    key={cc.description}\r\n                    value={cc.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.currentConceptCostCenter.name, cc)}\r\n                  >\r\n                    {cc.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.currentConceptCostCenter.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          <Grid item md={3} sm={6} xs={12}>\r\n            <TextField\r\n              name={texts.body.field.currentConceptValue.name}\r\n              value={state.currentConceptValue}\r\n              id='outlined-helperText'\r\n              variant='outlined'\r\n              fullWidth\r\n              type='number'\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.currentConceptValue.helperText}\r\n              placeholder={texts.body.field.currentConceptValue.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item md={2} sm={6} xs={12}>\r\n            <Button\r\n              variant=\"contained\"\r\n              type=\"button\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              onClick={() => handleTableConcept(\"ADD\")}\r\n              className={classes.addButton}\r\n              startIcon={<Save />}\r\n              disabled={state.disabledForm}\r\n            >\r\n              {texts.body.buttons.add}\r\n            </Button>\r\n          </Grid>\r\n\r\n          {/* ----- Form: item **concepts table rendering ------*/}\r\n          <Grid item md={12} sm={12} xs={12} style={{ marginBottom: '6vh' }}>\r\n            <DataTableReceipt rows={state.selectedConcepts} handleTable={handleTableConcept} disabledForm={state.disabledForm} />\r\n          </Grid>\r\n\r\n          {/* ----- Form: item **total ------*/}\r\n          <Grid item md={4} sm={4} xs={6}>\r\n            <Typography variant=\"h6\">\r\n              <span>Total: </span>$ {state.form.total}\r\n            </Typography>\r\n          </Grid>\r\n\r\n          <Grid item md={12} sm={12} xs={12} className={classes.alignRight}>\r\n            <IconButton\r\n              type=\"submit\"\r\n            >\r\n              <NoteAdd fontSize={\"large\"} color=\"primary\" />\r\n            </IconButton>\r\n\r\n            <IconButton\r\n              onClick={cancel}\r\n              type=\"button\"\r\n            >\r\n              <Cancel fontSize={\"large\"} color=\"secondary\" />\r\n            </IconButton>\r\n          </Grid>\r\n        </Grid>\r\n      </form>\r\n      {\r\n        state.loading ?\r\n          (\r\n            <div className={classes.loadingContainer}>\r\n              <Box>\r\n                <CircularProgress />\r\n              </Box>\r\n            </div>\r\n          ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\n","import * as React from 'react'\r\nimport { DataGrid, GridColDef, GridCellEditCommitParams, GridValueGetterParams } from '@material-ui/data-grid'\r\n\r\ninterface Props {\r\n  keyId: string\r\n  rows: any[]\r\n  columns: GridColDef[]\r\n  gridEdit?: (params: GridCellEditCommitParams) => void\r\n}\r\n\r\nexport default function DataTable(props: Props) {\r\n\r\n  function onGridEdit (params:GridCellEditCommitParams) {\r\n    if (props.gridEdit) {\r\n      props.gridEdit(params)\r\n    } else {\r\n      return\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={{ height: 400, width: '100%' }}>\r\n      <DataGrid\r\n        rows={props.rows}\r\n        columns={props.columns}\r\n        getRowId={(row: any) => row[props.keyId]}\r\n        pageSize={5}\r\n        onCellEditCommit={(params: GridCellEditCommitParams) => onGridEdit(params)}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Divider,\r\n  Grid,\r\n  IconButton,\r\n  Button,\r\n  Typography,\r\n  Box,\r\n  CircularProgress\r\n} from '@material-ui/core'\r\nimport { GridColDef } from '@material-ui/data-grid'\r\nimport { CloudDownload, Edit } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport DataTable from '../DataTable/DataTable'\r\nimport { urls } from '../../../urls'\r\nimport permissions from '../../../permissions.json'\r\nimport ReceiptService from '../../../services/Receipt'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  loadMoreButton: {\r\n    width: '25%',\r\n    height: '70%'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Lista de recibos'\r\n  },\r\n  body: {\r\n    buttonLoadMore: {\r\n      label: 'Cargar ms ...'\r\n    }\r\n  }\r\n}\r\n\r\nconst columns: GridColDef[] = [\r\n  {\r\n    field: 'code',\r\n    headerName: 'Cdigo',\r\n    flex: 1,\r\n    editable: false,\r\n  },\r\n  {\r\n    field: 'date',\r\n    headerName: 'Fecha',\r\n    editable: false,\r\n    flex: 2\r\n  },\r\n  {\r\n    field: 'description',\r\n    headerName: 'Detalle',\r\n    editable: false,\r\n    flex: 2\r\n  },\r\n  {\r\n    field: 'thirdDocument',\r\n    headerName: 'Tercero',\r\n    editable: false,\r\n    flex: 1\r\n  },\r\n  {\r\n    field: 'total',\r\n    headerName: 'Total',\r\n    editable: false,\r\n    flex: 1\r\n  },\r\n  {\r\n    field: 'actions',\r\n    headerName: 'Acciones',\r\n    flex: 1,\r\n    type: 'actions',\r\n    renderCell: (params: any) => (\r\n      <ActionButtons params={params} />\r\n    )\r\n  }\r\n]\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  loadMoreButtonDisabled: boolean\r\n  lastEvaluatedKey?: string\r\n  receipts: any[]\r\n  loading: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  loadMoreButtonDisabled: false,\r\n  receipts: [],\r\n  loading: true\r\n}\r\n\r\nfunction ActionButtons(props: any) {\r\n  const [editPermission, setEditPermission] = useState<boolean>(false)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n  const history = useHistory()\r\n\r\n  const onEdit = () => {\r\n    history.push(`${urls.app.main.item.form}?document=${props.params.row.code ?? ''}`)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setEditPermission(userContext.permissions.some(permission => permission === permissions.receipt.update))\r\n  }, [userContext])\r\n\r\n  return (\r\n    <IconButton\r\n      type=\"submit\"\r\n      onClick={() => onEdit()}\r\n      disabled={!editPermission}\r\n    >\r\n      <Edit fontSize={\"small\"} color={editPermission ? \"primary\" : \"inherit\"} />\r\n    </IconButton>\r\n  )\r\n}\r\n\r\nexport default function ItemList() {\r\n\r\n  const classes = useStyles()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n      const receiptService = new ReceiptService()\r\n      const response = await receiptService.getReceipts(userContext.token || '', { limit: 5 })\r\n      setState({\r\n        ...state,\r\n        receipts: response.receipts,\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true,\r\n        loading: false\r\n      })\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  const onLoadMore = async () => {\r\n    try {\r\n      const receiptService = new ReceiptService()\r\n      const response = await receiptService.getReceipts(userContext.token || '', { limit: 5, lastEvaluatedKey: state.lastEvaluatedKey })\r\n      setState({\r\n        ...state,\r\n        receipts: state.receipts.concat(response.receipts),\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true\r\n      })\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ----- Header ------*/}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n      <Grid container spacing={3}>\r\n\r\n        {/* ----- Form: item thrid type ------*/}\r\n        <Grid item md={12} sm={12} xs={12}>\r\n          <DataTable rows={state.receipts} columns={columns} keyId='code'/>\r\n        </Grid>\r\n\r\n        <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n          <Button\r\n            type=\"button\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            className={classes.loadMoreButton}\r\n            startIcon={<CloudDownload />}\r\n            disabled={state.loadMoreButtonDisabled}\r\n            onClick={() => onLoadMore()}\r\n          >\r\n            {texts.body.buttonLoadMore.label}\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n      {\r\n        state.loading ?\r\n        (\r\n          <div className={classes.loadingContainer}>\r\n            <Box>\r\n              <CircularProgress/>\r\n            </Box>\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Box,\r\n  CircularProgress,\r\n  Divider,\r\n  FormHelperText,\r\n  Grid,\r\n  IconButton,\r\n  InputAdornment,\r\n  MenuItem,\r\n  TextField,\r\n  Typography\r\n} from '@material-ui/core'\r\nimport { ArrowDropDown, ArrowDropUp, Cancel, NoteAdd } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport { Account } from '../../../schemas/Account'\r\nimport AccountService from '../../../services/Account'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport Utils from '../../../utils'\r\nimport { urls } from '../../../urls'\r\nimport ThirdService from '../../../services/Third'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  thirdClassTitle: {\r\n    color: '#757575',\r\n    marginBottom: '6vh'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Crear forma de pago'\r\n  },\r\n  body: {\r\n    field: {\r\n      account: {\r\n        name: 'account',\r\n        helperText: 'Cuenta contable',\r\n        placeholder: 'Cuenta contable',\r\n        validationError: 'Debe ser de 10 dgitos'\r\n      },\r\n      thirdSelected: {\r\n        name: 'thirdSelected',\r\n        helperText: 'Entidad o persona asociada'\r\n      },\r\n      description: {\r\n        name: 'description',\r\n        helperText: 'Escriba la descripcin de la cuenta',\r\n        placeholder: 'Descripcin de cuenta'\r\n      },\r\n      balance: {\r\n        name: 'balance',\r\n        helperText: 'Escriba el saldo',\r\n        placeholder: 'Saldo'\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  form: Account,\r\n  validations: {\r\n    errorMinLengthAccount: boolean\r\n  }\r\n  suggestionsThirds: any[]\r\n  thirds: any[]\r\n  thirdSelected: string\r\n  isEdit: boolean\r\n  loading: boolean\r\n  status: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  form: {\r\n    account: 0,\r\n    description: '',\r\n    balance: 0,\r\n    document: 0\r\n  },\r\n  validations: {\r\n    errorMinLengthAccount: false\r\n  },\r\n  suggestionsThirds: [],\r\n  thirds: [],\r\n  thirdSelected: '',\r\n  isEdit: false,\r\n  loading: false,\r\n  status: false,\r\n}\r\n\r\nexport default function AccountForm() {\r\n\r\n  const classes = useStyles()\r\n  const { search } = useLocation()\r\n  const history = useHistory()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n      // get thirds\r\n      const thirdService = new ThirdService()\r\n      const thirdsRes = await thirdService.getThirds(userContext.token || '')\r\n      const thirds = thirdsRes.thirds\r\n\r\n      const account = Utils.getIdFromUrl(search)\r\n\r\n      if (account) {\r\n        setState({\r\n          ...state,\r\n          loading: true\r\n        })\r\n        const accountService = new AccountService()\r\n        const accountRes = await accountService.getAccountByAccount(userContext.token ?? '', account)\r\n        if (accountRes) {\r\n          // get document name\r\n          let selectedThird = '';\r\n          thirds.forEach(third => {\r\n            if (Number(third.document) === Number(accountRes.document)) {\r\n              selectedThird = third.name !== undefined ? `${third.name} ${third.lastname}` : `${third.businessName}`\r\n            }\r\n          })\r\n          setState({\r\n            ...state,\r\n            form: accountRes,\r\n            loading: false,\r\n            isEdit: true,\r\n            suggestionsThirds: thirds,\r\n            thirdSelected: selectedThird,\r\n            thirds\r\n          })\r\n        }\r\n      } else {\r\n        setState({\r\n          ...state,\r\n          suggestionsThirds: thirds,\r\n          thirds\r\n        })\r\n      }\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user writes on an input.\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target\r\n    let errorMinLengthAccount = state.validations.errorMinLengthAccount\r\n\r\n    if (name === 'account') {\r\n      errorMinLengthAccount = value.length < Number(process.env.REACT_APP_MAX_LENGTH_CONTABLE_ACCOUNT)\r\n    }\r\n\r\n    setState({\r\n      ...state,\r\n      form: {\r\n        ...state.form,\r\n        [name]: value\r\n      },\r\n      validations: {\r\n        errorMinLengthAccount\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleChangeSelect = (\r\n    name: string,\r\n    item: any) => {\r\n    if (name === texts.body.field.thirdSelected.name) {\r\n      setState({\r\n        ...state,\r\n        form: {\r\n          ...state.form,\r\n          document: item.document\r\n        },\r\n        thirdSelected: item.name !== undefined ? `${item.name} ${item.lastname}` : `${item.businessName}`,\r\n        status: false\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleSuggestions = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { value } = e.target\r\n\r\n    const suggestionsThirds = state.thirds.filter(third => {\r\n      if (third.name?.toLowerCase().includes(value.toLowerCase())) {\r\n        return third\r\n      } else if (third.lastname?.toLowerCase().includes(value.toLowerCase())) {\r\n        return third\r\n      } else if (third.businessName?.toLowerCase().includes(value.toLowerCase())) {\r\n        return third\r\n      }\r\n    })\r\n\r\n    setState({\r\n      ...state,\r\n      thirdSelected: value,\r\n      suggestionsThirds,\r\n      status: value.length > 0 ? true : false\r\n    })\r\n  }\r\n\r\n  // HandleSubmit is the handler to verify and send\r\n  // the state to redux (redux send the info to backend\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    try {\r\n      // validations\r\n      if (state.validations.errorMinLengthAccount) {\r\n        throw new Error(`La cuenta debe tener ${process.env.REACT_APP_MAX_LENGTH_CONTABLE_ACCOUNT} dgitos`)\r\n      }\r\n\r\n      const accountService = new AccountService()\r\n      let accountCreated\r\n\r\n      if (state.isEdit) {\r\n        accountCreated = await accountService.updateAccount(state.form, userContext.token ?? '')\r\n      } else {\r\n        accountCreated = await accountService.saveAccount(state.form, userContext.token ?? '')\r\n      }\r\n\r\n      setState(initState)\r\n      history.push(urls.app.main.account.form)\r\n      return toast.success(`La cuenta ${accountCreated.account} fue ${state.isEdit ? 'actualizado' : 'creado'} con xito`)\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      } else if (error instanceof Error) {\r\n        return toast.error(error.message)\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  const cancel = () => {\r\n    setState(initState)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ----- Header -----*/}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n\r\n      {/* ----- Body ------*/}\r\n      <form onSubmit={(e) => handleSubmit(e)}>\r\n        <Grid container spacing={3}>\r\n\r\n          {/* ----- Form: description ------*/}\r\n          <Grid item md={8} sm={8} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.description.name}\r\n              value={state.form.description}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.description.helperText}\r\n              placeholder={texts.body.field.description.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: account ------*/}\r\n          <Grid item md={4} sm={4} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.account.name}\r\n              value={state.form.account}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={ state.validations.errorMinLengthAccount ? texts.body.field.account.validationError : texts.body.field.account.helperText}\r\n              error={state.validations.errorMinLengthAccount}\r\n              placeholder={texts.body.field.account.placeholder}\r\n              inputProps={{ maxLength: 10 }}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: third ------*/}\r\n          <Grid item md={8} sm={8} xs={12}>\r\n            <TextField\r\n              name=\"document\"\r\n              value={state.thirdSelected}\r\n              autoComplete='off'\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              onChange={handleSuggestions}\r\n              required\r\n              InputProps={{\r\n                endAdornment: <InputAdornment position=\"end\">\r\n                  <IconButton onClick={() => setState({ ...state, status: !state.status })}>\r\n                    {\r\n                      state.status ?\r\n                        (\r\n                          <ArrowDropUp fontSize={\"small\"} color=\"secondary\" />\r\n                        ) :\r\n                        (\r\n                          <ArrowDropDown fontSize={\"small\"} color=\"primary\" />\r\n                        )\r\n                    }\r\n                  </IconButton>\r\n                </InputAdornment>,\r\n              }}\r\n            />\r\n            {\r\n              state.status === true && (\r\n                <Box sx={{\r\n                  width: '100%',\r\n                  maxHeight: 100,\r\n                  display: 'relative',\r\n                  zIndex: 1,\r\n                  bgcolor: '#E1E1E1',\r\n                  overflow: 'auto'\r\n                }}>\r\n                  {\r\n                    state.suggestionsThirds.map((third) =>\r\n                      <MenuItem\r\n                        key={third.document}\r\n                        onClick={() => handleChangeSelect(texts.body.field.thirdSelected.name, third)}\r\n                      >\r\n                        {third.name !== undefined ? `${third.name} ${third.lastname}` : `${third.businessName}`}\r\n                      </MenuItem>\r\n                    )\r\n                  }\r\n                </Box>\r\n              )\r\n            }\r\n            <FormHelperText>{texts.body.field.thirdSelected.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: balance ------*/}\r\n          <Grid item md={4} sm={4} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.balance.name}\r\n              value={state.form.balance}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.balance.helperText}\r\n              placeholder={texts.body.field.balance.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n            <IconButton\r\n              type=\"submit\"\r\n            >\r\n              <NoteAdd fontSize={\"large\"} color=\"primary\" />\r\n            </IconButton>\r\n\r\n            <IconButton\r\n              type=\"button\"\r\n              onClick={cancel}\r\n            >\r\n              <Cancel fontSize={\"large\"} color=\"secondary\" />\r\n            </IconButton>\r\n          </Grid>\r\n\r\n        </Grid>\r\n      </form>\r\n      {\r\n        state.loading ?\r\n        (\r\n          <div className={classes.loadingContainer}>\r\n            <Box>\r\n              <CircularProgress/>\r\n            </Box>\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Divider,\r\n  Grid,\r\n  IconButton,\r\n  Button,\r\n  Typography,\r\n  Box,\r\n  CircularProgress\r\n} from '@material-ui/core'\r\nimport { GridCellEditCommitParams, GridColDef } from '@material-ui/data-grid'\r\nimport { CloudDownload, Edit } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport DataTable from '../DataTable/DataTable'\r\nimport { urls } from '../../../urls'\r\nimport AccountService from '../../../services/Account'\r\nimport { Account } from '../../../schemas/Account'\r\nimport permissions from '../../../permissions.json'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  loadMoreButton: {\r\n    width: '25%',\r\n    height: '70%'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Lista de cuentas'\r\n  },\r\n  body: {\r\n    buttonLoadMore: {\r\n      label: 'Cargar ms ...'\r\n    }\r\n  }\r\n}\r\n\r\nconst columns: GridColDef[] = [\r\n  {\r\n    field: 'account',\r\n    headerName: 'Cuenta',\r\n    flex: 1,\r\n    editable: false,\r\n  },\r\n  {\r\n    field: 'description',\r\n    headerName: 'Descripcin',\r\n    editable: true,\r\n    flex: 2\r\n  },\r\n  {\r\n    field: 'balance',\r\n    headerName: 'Saldo',\r\n    editable: false,\r\n    flex: 2\r\n  },\r\n  {\r\n    field: 'actions',\r\n    headerName: 'Acciones',\r\n    flex: 1,\r\n    type: 'actions',\r\n    renderCell: (params: any) => (\r\n      <ActionButtons params={params} />\r\n    )\r\n  }\r\n]\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  loadMoreButtonDisabled: boolean\r\n  lastEvaluatedKey?: string\r\n  accounts: Account[]\r\n  loading: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  loadMoreButtonDisabled: false,\r\n  accounts: [],\r\n  loading: true\r\n}\r\n\r\nfunction ActionButtons(props: any) {\r\n  const [editPermission, setEditPermission] = useState<boolean>(false)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n  const history = useHistory()\r\n\r\n  const onEdit = () => {\r\n    history.push(`${urls.app.main.account.form}?document=${props.params.row.account ?? ''}`)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setEditPermission(userContext.permissions.some(permission => permission === permissions.account.update))\r\n  }, [userContext])\r\n\r\n  return (\r\n    <IconButton\r\n      type=\"submit\"\r\n      onClick={() => onEdit()}\r\n      disabled={!editPermission}\r\n    >\r\n      <Edit fontSize={\"small\"} color={editPermission ? \"primary\" : \"inherit\"} />\r\n    </IconButton>\r\n  )\r\n}\r\n\r\nexport default function AccountList() {\r\n\r\n  const classes = useStyles()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n      const accountService = new AccountService()\r\n      const response = await accountService.getAccounts(userContext.token || '', { limit: 5 })\r\n      setState({\r\n        ...state,\r\n        accounts: response.accounts,\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true,\r\n        loading: false\r\n      })\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  const onLoadMore = async () => {\r\n    try {\r\n      const accountService = new AccountService()\r\n      const response = await accountService.getAccounts(userContext.token || '', { limit: 5, lastEvaluatedKey: state.lastEvaluatedKey })\r\n      setState({\r\n        ...state,\r\n        accounts: state.accounts.concat(response.accounts),\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true\r\n      })\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const gridEdit = async (params: GridCellEditCommitParams) => {\r\n\r\n    let accountToEdit: any = {}\r\n\r\n    const selectedAccount = state.accounts.find(account => account.account === params.id)\r\n    if (selectedAccount !== undefined) {\r\n      accountToEdit = {\r\n        ...selectedAccount,\r\n        [params.field]: params.value\r\n      }\r\n    } else {\r\n      return\r\n    }\r\n\r\n    try {\r\n      const accountService = new AccountService()\r\n      const accountUpdated = await accountService.updateAccount(accountToEdit, userContext.token ?? '')\r\n\r\n      return toast.success(`La cuenta ${accountUpdated.account} fue editada con xito`)\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ----- Header ------*/}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n      <Grid container spacing={3}>\r\n\r\n        {/* ----- Form: item thrid type ------*/}\r\n        <Grid item md={12} sm={12} xs={12}>\r\n          <DataTable rows={state.accounts} columns={columns} keyId='account' gridEdit={gridEdit} />\r\n        </Grid>\r\n\r\n        <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n          <Button\r\n            type=\"button\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            className={classes.loadMoreButton}\r\n            startIcon={<CloudDownload />}\r\n            disabled={state.loadMoreButtonDisabled}\r\n            onClick={() => onLoadMore()}\r\n          >\r\n            {texts.body.buttonLoadMore.label}\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n      {\r\n        state.loading ?\r\n        (\r\n          <div className={classes.loadingContainer}>\r\n            <Box>\r\n              <CircularProgress/>\r\n            </Box>\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","interface Response {\r\n  code: string;\r\n  description: string;\r\n}\r\n\r\nexport function listObject(object: any): Response[] {\r\n  const res: Response[] = [];\r\n\r\n  for (const code in object) {\r\n    if (object.hasOwnProperty(code)) {\r\n      const description = object[code];\r\n      res.push({ code, description });\r\n    }\r\n  }\r\n\r\n  return res;\r\n}\r\n","import axios from 'axios'\r\nimport { listObject } from '../../mappers/Common/comon.mapper'\r\n\r\nclass PlemsiService {\r\n  async getCities(apikey: string) {\r\n    try {\r\n      const responseApi = await axios.get(`${process.env.REACT_APP_PLEMSI_API}/common/list/municipality`, {\r\n        headers: {\r\n          authorization: `Bearer ${apikey}`\r\n        }\r\n      })\r\n      const data = listObject(responseApi.data.data)\r\n      return data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getBill(apikey: string, number: number) {\r\n    try {\r\n      const responseApi = await axios.get(`${process.env.REACT_APP_PLEMSI_API}/billing/invoice/one?by=number&value=${number}&prefix=${process.env.REACT_APP_PLEMSI_PREFIX}`, {\r\n        headers: {\r\n          authorization: `Bearer ${apikey}`\r\n        }\r\n      })\r\n      return responseApi.data.data.preview\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default PlemsiService\r\n","import React, { useState } from 'react'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Box,\r\n  CircularProgress,\r\n  Divider,\r\n  FormHelperText,\r\n  Grid,\r\n  IconButton,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Typography\r\n} from '@material-ui/core'\r\nimport { Cancel, NoteAdd } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport EntityContext from '../../../contexts/Entity'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport { Third } from '../../../schemas/Third'\r\nimport ThirdService from '../../../services/Third'\r\nimport PlemsiService from '../../../services/Plemsi'\r\nimport Utils from '../../../utils'\r\nimport { EntityContextType } from '../../../schemas/Entity'\r\nimport { urls } from '../../../urls'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  thirdClassTitle: {\r\n    color: '#757575',\r\n    marginBottom: '6vh'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Crear terceros'\r\n  },\r\n  body: {\r\n    field: {\r\n      organizationType: {\r\n        name: 'organizationType',\r\n        helperText: 'Escoja un tipo de persona',\r\n        options: [\r\n          { description: 'Jurdica', code: '1' },\r\n          { description: 'Natural', code: '2' }\r\n        ]\r\n      },\r\n      documentType: {\r\n        name: 'documentType',\r\n        helperText: 'Escoja el tipo de documento',\r\n        options: {\r\n          one: [\r\n            { description: 'NIT', code: '6' }\r\n          ],\r\n          two: [\r\n            { description: 'Registro civil', code: '1' },\r\n            { description: 'Tarjeta de identidad', code: '2' },\r\n            { description: 'Cdula de ciudadana', code: '3' },\r\n            { description: 'Cdula de extranjera', code: '5' },\r\n            { description: 'Pasaporte', code: '7' },\r\n            { description: 'Documento de identificacin extranjero', code: '8' }\r\n          ]\r\n        }\r\n      },\r\n      liabilityType: {\r\n        name: 'liabilityType',\r\n        helperText: 'Escoja el tipo de responsabilidad',\r\n        options: [\r\n          { description: 'Gran contribuyente', code: '7' },\r\n          { description: 'Autorretenedor', code: '9' },\r\n          { description: 'Agente de retencin en el impuesto sobre las ventas', code: '14' },\r\n          { description: 'Rgimen Simple de Tributacin  SIMPLE', code: '112' },\r\n          { description: 'No responsable', code: '117' }\r\n        ]\r\n      },\r\n      regimeType: {\r\n        name: 'regimeType',\r\n        helperText: 'Escoja el tipo de rgimen',\r\n        options: [\r\n          { description: 'Responsable de IVA', code: '1' },\r\n          { description: 'No responsable de IVA', code: '2' }\r\n        ]\r\n      },\r\n      document: {\r\n        name: 'document',\r\n        helperText: {\r\n          main: 'Escriba el nmero de documento',\r\n          error: 'El documento ingresado no tiene el formato correcto'\r\n        },\r\n        placeholder: 'Documento'\r\n      },\r\n      dv: {\r\n        name: 'dv',\r\n        helperText: 'DV',\r\n        placeholder: 'DV'\r\n      },\r\n      name: {\r\n        one: {\r\n          name: {\r\n            name: 'name',\r\n            helperText: 'Escriba el/los nombre(s) de la persona',\r\n            placeholder: 'Nombre'\r\n          },\r\n          lastname: {\r\n            name: 'lastname',\r\n            helperText: 'Escriba el/los apellido(s) de la persona',\r\n            placeholder: 'Apellido(s)'\r\n          }\r\n        },\r\n        two: {\r\n          businessName: {\r\n            name: 'businessName',\r\n            helperText: 'Escriba el nombre de la empresa',\r\n            placeholder: 'Razn social'\r\n          }\r\n        }\r\n      },\r\n      email: {\r\n        name: 'email',\r\n        helperText: {\r\n          main: 'Escriba el email',\r\n          error: 'El correo ingresado no tiene el formato correcto'\r\n        },\r\n        placeholder: 'Email'\r\n      },\r\n      phone: {\r\n        name: 'phone',\r\n        helperText: 'Escriba el nmero telefnico',\r\n        placeholder: 'Nmero telefnico'\r\n      },\r\n      address: {\r\n        name: 'address',\r\n        helperText: 'Escriba la direccin',\r\n        placeholder: 'Direccin'\r\n      },\r\n      city: {\r\n        name: 'city',\r\n        helperText: 'Ciudad o municipio'\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  form: Third\r\n  errorOnMail: boolean\r\n  errorOnDocument: boolean\r\n  cities: any[]\r\n  loading: boolean\r\n  isEdit: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  form: {\r\n    document: '',\r\n    dv: undefined,\r\n    documentType: {\r\n      code: '',\r\n      description: ''\r\n    },\r\n    organizationType: {\r\n      code: '',\r\n      description: ''\r\n    },\r\n    liabilityType: {\r\n      code: '',\r\n      description: ''\r\n    },\r\n    regimeType: {\r\n      code: '',\r\n      description: ''\r\n    },\r\n    name: undefined,\r\n    lastname: undefined,\r\n    businessName: undefined,\r\n    phone: '',\r\n    address: '',\r\n    city: undefined,\r\n    email: ''\r\n  },\r\n  errorOnMail: false,\r\n  errorOnDocument: false,\r\n  cities: [],\r\n  loading: false,\r\n  isEdit: false\r\n}\r\n\r\nexport default function ThirdForm() {\r\n\r\n  const classes = useStyles()\r\n  const { search } = useLocation()\r\n  const history = useHistory()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  const { entityContext } = React.useContext(\r\n    EntityContext\r\n  ) as EntityContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n      setState({\r\n        ...state,\r\n        loading: true\r\n      })\r\n\r\n      const document = Utils.getIdFromUrl(search)\r\n\r\n      const plemsiService = new PlemsiService()\r\n      const cities = await plemsiService.getCities(entityContext.apiKeyPlemsi ?? '')\r\n\r\n      if (document) {\r\n        const thirdService = new ThirdService()\r\n        const third = await thirdService.getThirdByDocument(userContext.token ?? '', document)\r\n        if (third) {\r\n          setState({\r\n            ...state,\r\n            form: third,\r\n            cities,\r\n            loading: false,\r\n            isEdit: true\r\n          })\r\n        }\r\n      } else {\r\n        setState({\r\n          ...state,\r\n          cities,\r\n          loading: false\r\n        })\r\n      }\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user change the options \r\n  // on an input select.\r\n  const handleChangeSelect = (name: string, item: { code: string, description: string }) => {\r\n    setState({\r\n      ...state,\r\n      form:{\r\n        ...state.form,\r\n        [name]: item\r\n      }\r\n    })\r\n  }\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user writes on an input.\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target\r\n\r\n    // Validaciones\r\n    let errorOnDocument = state.errorOnDocument\r\n    let errorOnMail = state.errorOnMail\r\n\r\n    if (name === 'document') {\r\n      const regex = /^[0-9]+$/\r\n      errorOnDocument = !regex.test(value)\r\n    }\r\n\r\n    if (name === 'email') {\r\n      const regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\r\n      errorOnMail = !regex.test(value)\r\n    }\r\n\r\n    setState({\r\n      ...state,\r\n      form: {\r\n        ...state.form,\r\n        [name]: value,\r\n      },\r\n      errorOnMail: errorOnMail,\r\n      errorOnDocument: errorOnDocument\r\n    })\r\n  }\r\n\r\n  // HandleSubmit is the handler to verify and send\r\n  // the state to redux (redux send the info to backend)\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n  \r\n    // validaciones\r\n    if (state.errorOnDocument) {\r\n      return toast.error('Documento con formato incorrecto')\r\n    }\r\n\r\n    if (state.errorOnMail) {\r\n      return toast.error('Mail con formato incorrecto')\r\n    }\r\n\r\n    try {\r\n      const thirdService = new ThirdService()\r\n      let thirdCreated: any = {}\r\n\r\n      if (state.isEdit) {\r\n        thirdCreated = await thirdService.updateThird(state.form, userContext.token ?? '')\r\n      } else {\r\n        thirdCreated = await thirdService.saveThird(state.form, userContext.token ?? '')\r\n      }\r\n      setState({\r\n        ...initState,\r\n        cities: state.cities,\r\n        loading: false\r\n      })\r\n\r\n      history.push(urls.app.main.third.form)\r\n\r\n      return toast.success(`El tercero ${thirdCreated.document} fue ${state.isEdit ? 'actualizado' : 'creado'} con xito`)\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const cancel = () => {\r\n    setState(initState)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ----- Header ------*/}\r\n      <React.Fragment>\r\n        <Typography \r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n\r\n      {/* ----- Body ------*/}\r\n      <form onSubmit={(e) => handleSubmit(e)}>\r\n        <Grid container spacing={3}>\r\n\r\n          {/* ----- Form: item thrid type ------*/}\r\n          <Grid item md={state.form.organizationType.code === '2' ? 4 : 3} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.organizationType.name}\r\n              value={state.form.organizationType.code}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              disabled={state.isEdit}\r\n            >\r\n              {\r\n                texts.body.field.organizationType.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.organizationType.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.organizationType.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: item document type ------*/}\r\n          <Grid item md={4} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.documentType.name}\r\n              value={state.form.documentType.code}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            >\r\n              {\r\n                // this will depend of organizationType field\r\n                state.form.organizationType.code === texts.body.field.organizationType.options[0].code ?\r\n                  texts.body.field.documentType.options.one.map((item) =>\r\n                    <MenuItem\r\n                      key={item.description}\r\n                      value={item.code}\r\n                      onClick={() => handleChangeSelect(texts.body.field.documentType.name, item)}\r\n                    >\r\n                      {item.description}\r\n                    </MenuItem>\r\n                  )\r\n                  :\r\n                  texts.body.field.documentType.options.two.map((item) =>\r\n                    <MenuItem\r\n                      key={item.description}\r\n                      value={item.code}\r\n                      onClick={() => handleChangeSelect(texts.body.field.documentType.name, item)}\r\n                    >\r\n                      {item.description}\r\n                    </MenuItem>\r\n                  )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.documentType.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: item document number ------*/}\r\n          <Grid item md={4} sm={6} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.document.name}\r\n              value={state.form.document}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={state.errorOnDocument ? texts.body.field.document.helperText.error : texts.body.field.document.helperText.main}\r\n              placeholder={texts.body.field.document.placeholder}\r\n              disabled={state.isEdit}\r\n              error={state.errorOnDocument}\r\n            />\r\n          </Grid>\r\n          {\r\n            /*\r\n            In this section the name, secondName, lastName and businessName\r\n            fields are conditioned to the organizationType field.\r\n            If typeThird field is NATURAL then the name, secondName and lastName\r\n            fields will be availabe while businessName field will be unavailable,\r\n            else if typeThird field is JURIDICA then the businessName field will\r\n            be available while the name, secondName and lastName fields will be\r\n            unavailable\r\n            */\r\n\r\n            state.form.organizationType.code === '2'\r\n              ?\r\n              <React.Fragment>\r\n                <Grid item md={6} sm={6} xs={12}>\r\n                  <TextField\r\n                    required={true}\r\n                    name={texts.body.field.name.one.name.name}\r\n                    value={state.form.name ?? ''}\r\n                    variant='outlined'\r\n                    fullWidth\r\n                    onChange={handleChange}\r\n                    helperText={texts.body.field.name.one.name.helperText}\r\n                    placeholder={texts.body.field.name.one.name.placeholder}\r\n                  />\r\n                </Grid>\r\n                <Grid item md={6} sm={6} xs={12}>\r\n                  <TextField\r\n                    required={true}\r\n                    name={texts.body.field.name.one.lastname.name}\r\n                    value={state.form.lastname ?? ''}\r\n                    variant='outlined'\r\n                    fullWidth\r\n                    onChange={handleChange}\r\n                    helperText={texts.body.field.name.one.lastname.helperText}\r\n                    placeholder={texts.body.field.name.one.lastname.placeholder}\r\n                  />\r\n                </Grid>\r\n              </React.Fragment>\r\n              :\r\n              <React.Fragment>\r\n                {/* ----- Form: item document dv ------*/}\r\n                <Grid item md={1} sm={3} xs={2}>\r\n                  <TextField\r\n                    required={true}\r\n                    name={texts.body.field.dv.name}\r\n                    value={state.form.dv ?? ''}\r\n                    variant='outlined'\r\n                    fullWidth\r\n                    onChange={handleChange}\r\n                    helperText={texts.body.field.dv.helperText}\r\n                    placeholder={texts.body.field.dv.placeholder}\r\n                  />\r\n                </Grid>\r\n                <Grid item md={12} sm={6} xs={12}>\r\n                  <TextField\r\n                    required={true}\r\n                    name={texts.body.field.name.two.businessName.name}\r\n                    value={state.form.businessName ?? ''}\r\n                    variant='outlined'\r\n                    fullWidth\r\n                    onChange={handleChange}\r\n                    helperText={texts.body.field.name.two.businessName.helperText}\r\n                    placeholder={texts.body.field.name.two.businessName.placeholder}\r\n                  />\r\n                </Grid>\r\n              </React.Fragment>\r\n          }\r\n\r\n          {/* ----- Form: item liability type ------*/}\r\n          <Grid item md={6} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.liabilityType.name}\r\n              value={state.form.liabilityType.code}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            >\r\n              {\r\n                texts.body.field.liabilityType.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.liabilityType.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.liabilityType.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: item regime type ------*/}\r\n          <Grid item md={6} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.regimeType.name}\r\n              value={state.form.regimeType.code}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            >\r\n              {\r\n                texts.body.field.regimeType.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.regimeType.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.regimeType.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: item email ------*/}\r\n          <Grid item md={6} sm={6} xs={12}>\r\n            <TextField\r\n              name={texts.body.field.email.name}\r\n              value={state.form.email}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={state.errorOnMail ? texts.body.field.email.helperText.error : texts.body.field.email.helperText.main}\r\n              placeholder={texts.body.field.email.placeholder}\r\n              error={state.errorOnMail}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: item phone ------*/}\r\n          <Grid item md={6} sm={6} xs={12}>\r\n            <TextField\r\n              name={texts.body.field.phone.name}\r\n              value={state.form.phone}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.phone.helperText}\r\n              placeholder={texts.body.field.phone.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: item address ------*/}\r\n          <Grid item md={6} sm={6} xs={12}>\r\n            <TextField\r\n              name={texts.body.field.address.name}\r\n              value={state.form.address}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.address.helperText}\r\n              placeholder={texts.body.field.address.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: City ------*/}\r\n          <Grid item md={6} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.city.name}\r\n              value={state.form.city?.code ?? ''}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            >\r\n              {\r\n                state.cities.map((item) =>\r\n                  <MenuItem\r\n                    key={item.code}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.city.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.city.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n            <IconButton\r\n              type=\"submit\"\r\n            >\r\n              <NoteAdd fontSize={\"large\"} color=\"primary\" />\r\n            </IconButton>\r\n\r\n            <IconButton\r\n              type=\"button\"\r\n              onClick={cancel}\r\n            >\r\n              <Cancel fontSize={\"large\"} color=\"secondary\" />\r\n            </IconButton>\r\n          </Grid>\r\n\r\n        </Grid>\r\n      </form>\r\n      {\r\n        state.loading ?\r\n        (\r\n          <div className={classes.loadingContainer}>\r\n            <Box>\r\n              <CircularProgress/>\r\n            </Box>\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Divider,\r\n  Grid,\r\n  IconButton,\r\n  Button,\r\n  Typography,\r\n  Box,\r\n  CircularProgress\r\n} from '@material-ui/core'\r\nimport { GridCellEditCommitParams, GridColDef, GridValueGetterParams } from '@material-ui/data-grid'\r\nimport { CloudDownload, Edit } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport { Third } from '../../../schemas/Third'\r\nimport ThirdService from '../../../services/Third'\r\nimport DataTable from '../DataTable/DataTable'\r\nimport { urls } from '../../../urls'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  loadMoreButton: {\r\n    width: '25%',\r\n    height: '70%'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Lista de terceros'\r\n  },\r\n  body: {\r\n    buttonLoadMore: {\r\n      label: 'Cargar ms ...'\r\n    }\r\n  }\r\n}\r\n\r\nconst columns: GridColDef[] = [\r\n  {\r\n    field: 'document',\r\n    headerName: 'Documento',\r\n    editable: false,\r\n    flex: 1\r\n  },\r\n  {\r\n    field: 'fullName',\r\n    headerName: 'Nombre',\r\n    editable: false,\r\n    flex: 2,\r\n    valueGetter: (params: GridValueGetterParams) =>\r\n      `${params.getValue(params.id, 'name') || params.getValue(params.id, 'businessName')} ${params.getValue(params.id, 'lastname') || ''\r\n      }`,\r\n  },\r\n  {\r\n    field: 'email',\r\n    headerName: 'Email',\r\n    flex: 1,\r\n    editable: true,\r\n  },\r\n  {\r\n    field: 'phone',\r\n    headerName: 'Telfono',\r\n    flex: 1,\r\n    editable: true,\r\n  },\r\n  {\r\n    field: 'actions',\r\n    headerName: 'Acciones',\r\n    flex: 1,\r\n    type: 'actions',\r\n    renderCell: (params: any) => (\r\n      <ActionButtons params={params} />\r\n    )\r\n  }\r\n]\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  loadMoreButtonDisabled: boolean\r\n  lastEvaluatedKey?: string\r\n  thirds: Third[]\r\n  loading: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  loadMoreButtonDisabled: false,\r\n  thirds: [],\r\n  loading: true\r\n}\r\n\r\nfunction ActionButtons(props: any) {\r\n\r\n  const history = useHistory()\r\n\r\n  const onEdit = () => {\r\n    history.push(`${urls.app.main.third.form}?document=${props.params.row.document ?? ''}`)\r\n  }\r\n\r\n  return (\r\n    <IconButton\r\n      type=\"submit\"\r\n      onClick={() => onEdit()}\r\n    >\r\n      <Edit fontSize={\"small\"} color=\"primary\" />\r\n    </IconButton>\r\n  )\r\n}\r\n\r\nexport default function ThirdList() {\r\n\r\n  const classes = useStyles()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n      const thirdService = new ThirdService()\r\n      const response = await thirdService.getThirds(userContext.token || '', { limit: 5 })\r\n      setState({\r\n        ...state,\r\n        thirds: response.thirds,\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true,\r\n        loading: false\r\n      })\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  const onLoadMore = async () => {\r\n    try {\r\n      const thirdService = new ThirdService()\r\n      const response = await thirdService.getThirds(userContext.token || '', { limit: 5, lastEvaluatedKey: state.lastEvaluatedKey })\r\n      setState({\r\n        ...state,\r\n        thirds: state.thirds.concat(response.thirds),\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true\r\n      })\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const gridEdit = async (params: GridCellEditCommitParams) => {\r\n\r\n    let thirdToEdit: any = {}\r\n\r\n    const selectedThird = state.thirds.find(third => third.document === params.id)\r\n    if (selectedThird !== undefined) {\r\n      thirdToEdit = {\r\n        ...selectedThird,\r\n        [params.field]: params.value\r\n      }\r\n    } else {\r\n      return\r\n    }\r\n\r\n    try {\r\n      const thirdService = new ThirdService()\r\n      const thirdUpdated = await thirdService.updateThird(thirdToEdit, userContext.token ?? '')\r\n\r\n      return toast.success(`El tercero ${thirdUpdated.document} fue editado con xito`)\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ----- Header ------*/}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n      <Grid container spacing={3}>\r\n\r\n        {/* ----- Form: item thrid type ------*/}\r\n        <Grid item md={12} sm={12} xs={12}>\r\n          <DataTable rows={state.thirds} columns={columns} keyId='document' gridEdit={gridEdit} />\r\n        </Grid>\r\n\r\n        <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n          <Button\r\n            type=\"button\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            className={classes.loadMoreButton}\r\n            startIcon={<CloudDownload />}\r\n            disabled={state.loadMoreButtonDisabled}\r\n            onClick={() => onLoadMore()}\r\n          >\r\n            {texts.body.buttonLoadMore.label}\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n      {\r\n        state.loading ?\r\n        (\r\n          <div className={classes.loadingContainer}>\r\n            <Box>\r\n              <CircularProgress/>\r\n            </Box>\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { makeStyles, Theme } from '@material-ui/core/styles';\r\nimport { Divider, FormHelperText, Grid, IconButton, MenuItem, Select, Typography } from '@material-ui/core';\r\nimport { NoteAdd } from '@material-ui/icons';\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n        width: '85%',\r\n        margin: '10vh auto 10vh auto',\r\n        height: 'auto'\r\n    },\r\n    title: {\r\n        fontWeight: 'bold',\r\n        marginBottom: '1vh'\r\n    },\r\n    divider: {\r\n        marginBottom: '6vh'\r\n    },\r\n    contentAside: {\r\n        textAlign: 'right',\r\n        padding: '5vh 5vh 0 10vh'\r\n    },\r\n    alignRight: {\r\n        textAlign: 'right',\r\n    },\r\n}));\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n    header: {\r\n        title: 'Migrar terceros'\r\n    },\r\n    body: {\r\n        field: {\r\n            lastThird: {\r\n                name: 'lastThird',\r\n                helperText: 'Escoja el tercero a migrar',\r\n                options: [\r\n                    {\r\n                        id: '12',\r\n                        name: 'Pedro',\r\n                        secondName: 'Alfonso',\r\n                        lastName: 'Marin'\r\n                    },\r\n                    {\r\n                        id: '13',\r\n                        companyName: 'Electrosuaza ltda'\r\n                    }\r\n                ]\r\n            },\r\n            newThird: {\r\n                name: 'newThird',\r\n                helperText: 'Escoja el nuevo tercero',\r\n                options: [\r\n                    {\r\n                        id: '12',\r\n                        name: 'Pedro',\r\n                        secondName: 'Alfonso',\r\n                        lastName: 'Marin'\r\n                    },\r\n                    {\r\n                        id: '13',\r\n                        companyName: 'Electrosuaza ltda'\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        aside: {\r\n            title: 'Necesitas ayuda?',\r\n            content: 'La migracin de terceros es la manera de transferir los recibos y dems registros de un tercero a otro tercero. Esto te ser til en caso de querer unificar un tercero que tengas duplicado.'\r\n        }\r\n    }\r\n}\r\n\r\n// ------------- Init state -----------\r\nconst initStateForm = {\r\n    lastThird: '',\r\n    newThird: ''\r\n}\r\n\r\nexport default function ThirdMigration() {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [ form, setForm ] = useState(initStateForm);\r\n    const [ newThirdOptions, setNewThirdOptions ] = useState(texts.body.field.lastThird.options);\r\n\r\n    // HandleChange is the handler to update the state\r\n    // of the form, while the user change the options \r\n    // on an input select.\r\n    const handleChangeSelect = (event: React.ChangeEvent<{ name?: string; value: unknown }>) => {\r\n        const name = event.target.name as string;\r\n\r\n        // this code removes the option slected on the lastThird\r\n        // from the third array, with this if the user wants to\r\n        // transfer from one third to another the new options will\r\n        // be the other thirds.\r\n        if(name === 'lastThird'){\r\n            let res = texts.body.field.lastThird.options.filter(e => e.id !== event.target.value);\r\n            setNewThirdOptions(res);\r\n        }\r\n\r\n        setForm({\r\n            ...form,\r\n            [name]: event.target.value,\r\n        });\r\n    }\r\n\r\n    // HandleSubmit is the handler to verify and send\r\n    // the form to redux (redux send the info to backend)\r\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        console.log(form);\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            {/* ----- Header ------*/}\r\n            <React.Fragment>\r\n                <Typography\r\n                variant='h5'\r\n                className={classes.title}\r\n                >\r\n                    {texts.header.title}\r\n                </Typography>\r\n            </React.Fragment>\r\n\r\n            <Divider\r\n            className={classes.divider}\r\n            />\r\n\r\n            {/* ----- Body ------*/}\r\n            <Grid container spacing={5}>\r\n                <Grid item md={7} sm={12} xs={12}>\r\n\r\n                    <form onSubmit={(e) => handleSubmit(e)}>\r\n                        <Grid container spacing={3}>\r\n                            {/* ----- Form: item last thrid ------*/}\r\n                            <Grid item md={12} sm={12} xs={12}>\r\n                                <Select\r\n                                name={texts.body.field.lastThird.name}\r\n                                value = {form.lastThird}\r\n                                variant = \"outlined\"\r\n                                fullWidth\r\n                                onChange={handleChangeSelect}\r\n                                >\r\n                                    {\r\n                                        texts.body.field.lastThird.options.map((e, index) => \r\n                                            <MenuItem\r\n                                            key={index} \r\n                                            value={e.id}\r\n                                            >\r\n                                                {\r\n                                                    // if the third has a name, it will show it\r\n                                                    // else it will show the company name\r\n                                                    e.name \r\n                                                    ? \r\n                                                        `${e.name} ${e.secondName} ${e.lastName}`\r\n                                                    : \r\n                                                        e.companyName\r\n                                                }\r\n                                            </MenuItem>\r\n                                            )\r\n                                    }\r\n                                </Select>\r\n                                <FormHelperText>{texts.body.field.lastThird.helperText}</FormHelperText>\r\n                            </Grid>\r\n\r\n                            {/* ----- Form: item new thrid ------*/}\r\n                            <Grid item md={12} sm={12} xs={12}>\r\n                                <Select\r\n                                name={texts.body.field.newThird.name}\r\n                                value = {form.newThird}\r\n                                variant = \"outlined\"\r\n                                fullWidth\r\n                                onChange={handleChangeSelect}\r\n                                >\r\n                                    {\r\n                                        newThirdOptions.map((e, index) =>\r\n                                            <MenuItem\r\n                                            key={index} \r\n                                            value={e.id}\r\n                                            >\r\n                                                {\r\n                                                    // if the third has a name, it will show it\r\n                                                    // else it will show the company name\r\n                                                    e.name \r\n                                                    ? \r\n                                                        `${e.name} ${e.secondName} ${e.lastName}`\r\n                                                    : \r\n                                                        e.companyName\r\n                                                }\r\n                                            </MenuItem>\r\n                                            )\r\n                                    }\r\n                                </Select>\r\n                                <FormHelperText>{texts.body.field.newThird.helperText}</FormHelperText>\r\n                            </Grid>\r\n                            \r\n                            <Grid item md={12} sm={6} xs ={12} className={classes.alignRight}>\r\n                                <IconButton\r\n                                type=\"submit\"\r\n                                >\r\n                                    <NoteAdd fontSize={\"large\"} color=\"primary\"/>\r\n                                </IconButton>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </form>\r\n\r\n                </Grid>\r\n\r\n                {/* ------------ Aside -----------------*/}\r\n                <Grid md={5} sm={12} xs={12} className={classes.contentAside}>\r\n                    <Typography color='primary' variant='h6'>{texts.body.aside.title}</Typography>\r\n                    <Typography variant='body2'>{texts.body.aside.content}</Typography>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Box,\r\n  CircularProgress,\r\n  Divider,\r\n  FormHelperText,\r\n  Grid,\r\n  IconButton,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Typography\r\n} from '@material-ui/core'\r\nimport { Cancel, NoteAdd } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport { Concept } from '../../../schemas/Concept'\r\nimport ConceptService from '../../../services/Concept'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport Utils from '../../../utils'\r\nimport { urls } from '../../../urls'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  thirdClassTitle: {\r\n    color: '#757575',\r\n    marginBottom: '6vh'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Crear conceptos'\r\n  },\r\n  body: {\r\n    field: {\r\n      account: {\r\n        name: 'account',\r\n        helperText: 'Cuenta contable del concepto',\r\n        placeholder: 'Cuenta',\r\n        validationError: 'Debe ser de 10 dgitos'\r\n      },\r\n      description: {\r\n        name: 'description',\r\n        helperText: 'Escriba la descripcin del concepto',\r\n        placeholder: 'Nombre de concepto'\r\n      },\r\n      type: {\r\n        name: 'type',\r\n        helperText: 'Tipo de concepto',\r\n        options: [\r\n          { description: 'Crdito', code: 'CREDIT' },\r\n          { description: 'Dbito', code: 'DEBIT' },\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  form: Concept,\r\n  validations: {\r\n    errorMinLengthAccount: boolean\r\n  }\r\n  isEdit: boolean\r\n  loading: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  form: {\r\n    account: 0,\r\n    description: '',\r\n    type: {\r\n      code: '',\r\n      description: ''\r\n    }\r\n  },\r\n  validations: {\r\n    errorMinLengthAccount: false\r\n  },\r\n  isEdit: false,\r\n  loading: false\r\n}\r\n\r\nexport default function ConceptForm() {\r\n\r\n  const classes = useStyles()\r\n  const { search } = useLocation()\r\n  const history = useHistory()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n      const account = Utils.getIdFromUrl(search)\r\n\r\n      if (account) {\r\n        setState({\r\n          ...state,\r\n          loading: true\r\n        })\r\n        const conceptService = new ConceptService()\r\n        const concept = await conceptService.getConceptByAccount(userContext.token ?? '', account)\r\n        if (concept) {\r\n          setState({\r\n            ...state,\r\n            form: concept,\r\n            loading: false,\r\n            isEdit: true\r\n          })\r\n        }\r\n      }\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user change the options \r\n  // on an input select.\r\n  const handleChangeSelect = (name: string, item: { code: string, description: string }) => {\r\n    setState({\r\n      ...state,\r\n      form: {\r\n        ...state.form,\r\n        [name]: item\r\n      }\r\n    })\r\n  }\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user writes on an input.\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target\r\n    let errorMinLengthAccount = state.validations.errorMinLengthAccount\r\n\r\n    if (name === 'account') {\r\n      errorMinLengthAccount = value.length < Number(process.env.REACT_APP_MAX_LENGTH_CONTABLE_ACCOUNT)\r\n    }\r\n\r\n    setState({\r\n      ...state,\r\n      form: {\r\n        ...state.form,\r\n        [name]: value\r\n      },\r\n      validations: {\r\n        errorMinLengthAccount\r\n      }\r\n    })\r\n  }\r\n\r\n  // HandleSubmit is the handler to verify and send\r\n  // the state to redux (redux send the info to backend\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    try {\r\n      // validations\r\n      if (state.validations.errorMinLengthAccount) {\r\n        throw new Error(`La cuenta debe tener ${process.env.REACT_APP_MAX_LENGTH_CONTABLE_ACCOUNT} dgitos`)\r\n      }\r\n\r\n      const conceptService = new ConceptService()\r\n      let conceptCreated\r\n\r\n      if (state.isEdit) {\r\n        conceptCreated = await conceptService.updateConcept(state.form, userContext.token ?? '')\r\n      } else {\r\n        conceptCreated = await conceptService.saveConcept(state.form, userContext.token ?? '')\r\n      }\r\n\r\n      setState(initState)\r\n      history.push(urls.app.main.concept.form)\r\n      return toast.success(`El concepto ${conceptCreated.account} fue ${state.isEdit ? 'actualizado' : 'creado'} con xito`)\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      } else if (error instanceof Error) {\r\n        return toast.error(error.message)\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  const cancel = () => {\r\n    setState(initState)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ----- Header -----*/}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n\r\n      {/* ----- Body ------*/}\r\n      <form onSubmit={(e) => handleSubmit(e)}>\r\n        <Grid container spacing={3}>\r\n\r\n          {/* ----- Form: account ------*/}\r\n          <Grid item md={6} sm={6} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.account.name}\r\n              value={state.form.account}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={ state.validations.errorMinLengthAccount ? texts.body.field.account.validationError : texts.body.field.account.helperText}\r\n              error={state.validations.errorMinLengthAccount}\r\n              placeholder={texts.body.field.account.placeholder}\r\n              inputProps={{ maxLength: 10 }}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: description ------*/}\r\n          <Grid item md={6} sm={6} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.description.name}\r\n              value={state.form.description}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.description.helperText}\r\n              placeholder={texts.body.field.description.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: type ------*/}\r\n          <Grid item md={6} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.type.name}\r\n              value={state.form.type?.code ?? ''}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            >\r\n              {\r\n                texts.body.field.type.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.type.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.type.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n            <IconButton\r\n              type=\"submit\"\r\n            >\r\n              <NoteAdd fontSize={\"large\"} color=\"primary\" />\r\n            </IconButton>\r\n\r\n            <IconButton\r\n              type=\"button\"\r\n              onClick={cancel}\r\n            >\r\n              <Cancel fontSize={\"large\"} color=\"secondary\" />\r\n            </IconButton>\r\n          </Grid>\r\n\r\n        </Grid>\r\n      </form>\r\n      {\r\n        state.loading ?\r\n        (\r\n          <div className={classes.loadingContainer}>\r\n            <Box>\r\n              <CircularProgress/>\r\n            </Box>\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Divider,\r\n  Grid,\r\n  IconButton,\r\n  Button,\r\n  Typography,\r\n  Box,\r\n  CircularProgress\r\n} from '@material-ui/core'\r\nimport { GridCellEditCommitParams, GridColDef } from '@material-ui/data-grid'\r\nimport { CloudDownload, Edit } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport DataTable from '../DataTable/DataTable'\r\nimport { urls } from '../../../urls'\r\nimport ConceptService from '../../../services/Concept'\r\nimport { Concept } from '../../../schemas/Concept'\r\nimport permissions from '../../../permissions.json'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  loadMoreButton: {\r\n    width: '25%',\r\n    height: '70%'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Lista de conceptos'\r\n  },\r\n  body: {\r\n    buttonLoadMore: {\r\n      label: 'Cargar ms ...'\r\n    }\r\n  }\r\n}\r\n\r\nconst columns: GridColDef[] = [\r\n  {\r\n    field: 'account',\r\n    headerName: 'Cuenta',\r\n    flex: 1,\r\n    editable: false,\r\n  },\r\n  {\r\n    field: 'description',\r\n    headerName: 'Concepto',\r\n    editable: true,\r\n    flex: 2\r\n  },\r\n  {\r\n    field: 'typeDescription',\r\n    headerName: 'Tipo',\r\n    editable: false,\r\n    flex: 1\r\n  },\r\n  {\r\n    field: 'actions',\r\n    headerName: 'Acciones',\r\n    flex: 1,\r\n    type: 'actions',\r\n    renderCell: (params: any) => (\r\n      <ActionButtons params={params} />\r\n    )\r\n  }\r\n]\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  loadMoreButtonDisabled: boolean\r\n  lastEvaluatedKey?: string\r\n  concepts: any[]\r\n  loading: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  loadMoreButtonDisabled: false,\r\n  concepts: [],\r\n  loading: true\r\n}\r\n\r\nfunction ActionButtons(props: any) {\r\n  const [editPermission, setEditPermission] = useState<boolean>(false)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n  const history = useHistory()\r\n\r\n  const onEdit = () => {\r\n    history.push(`${urls.app.main.concept.form}?account=${props.params.row.account ?? ''}`)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setEditPermission(userContext.permissions.some(permission => permission === permissions.concept.update))\r\n  }, [userContext])\r\n\r\n  return (\r\n    <IconButton\r\n      type=\"submit\"\r\n      onClick={() => onEdit()}\r\n      disabled={!editPermission}\r\n    >\r\n      <Edit fontSize={\"small\"} color={editPermission ? \"primary\" : \"inherit\"} />\r\n    </IconButton>\r\n  )\r\n}\r\n\r\nexport default function ConceptList() {\r\n\r\n  const classes = useStyles()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n      const conceptService = new ConceptService()\r\n      const response = await conceptService.getConcepts(userContext.token || '', { limit: 5 })\r\n      const responseParsed = response.concepts.map((concept: Concept) => {\r\n        return {\r\n          ...concept,\r\n          typeDescription: concept.type.description\r\n        }\r\n      })\r\n      setState({\r\n        ...state,\r\n        concepts: responseParsed,\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true,\r\n        loading: false\r\n      })\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  const onLoadMore = async () => {\r\n    try {\r\n      const conceptService = new ConceptService()\r\n      const response = await conceptService.getConcepts(userContext.token || '', { limit: 5, lastEvaluatedKey: state.lastEvaluatedKey })\r\n      const responseParsed = response.concepts.map((concept: Concept) => {\r\n        return {\r\n          ...concept,\r\n          typeDescription: concept.type.description\r\n        }\r\n      })\r\n      setState({\r\n        ...state,\r\n        concepts: state.concepts.concat(responseParsed),\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true\r\n      })\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const gridEdit = async (params: GridCellEditCommitParams) => {\r\n\r\n    let conceptToEdit: any = {}\r\n\r\n    const selectedConcept = state.concepts.find(concept => concept.account === params.id)\r\n    if (selectedConcept !== undefined) {\r\n      conceptToEdit = {\r\n        ...selectedConcept,\r\n        [params.field]: params.value\r\n      }\r\n    } else {\r\n      return\r\n    }\r\n\r\n    try {\r\n      const conceptService = new ConceptService()\r\n      const conceptUpdated = await conceptService.updateConcept(conceptToEdit, userContext.token ?? '')\r\n\r\n      return toast.success(`El concepto ${conceptUpdated.account} fue editado con xito`)\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ----- Header ------*/}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n      <Grid container spacing={3}>\r\n\r\n        {/* ----- Form: item thrid type ------*/}\r\n        <Grid item md={12} sm={12} xs={12}>\r\n          <DataTable rows={state.concepts} columns={columns} keyId='account' gridEdit={gridEdit} />\r\n        </Grid>\r\n\r\n        <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n          <Button\r\n            type=\"button\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            className={classes.loadMoreButton}\r\n            startIcon={<CloudDownload />}\r\n            disabled={state.loadMoreButtonDisabled}\r\n            onClick={() => onLoadMore()}\r\n          >\r\n            {texts.body.buttonLoadMore.label}\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n      {\r\n        state.loading ?\r\n        (\r\n          <div className={classes.loadingContainer}>\r\n            <Box>\r\n              <CircularProgress/>\r\n            </Box>\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { makeStyles, Theme } from '@material-ui/core/styles';\r\nimport { \r\n    Divider,\r\n    FormHelperText,\r\n    Grid, \r\n    IconButton, \r\n    MenuItem, \r\n    Select, \r\n    TextField, \r\n    Typography \r\n} from '@material-ui/core';\r\nimport { Cancel, NoteAdd } from '@material-ui/icons';\r\nimport { InternalTransaction } from './internalTransaction.slice';\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n        width: '85%',\r\n        margin: '10vh auto 10vh auto',\r\n        height: 'auto'\r\n    },\r\n    title: {\r\n        fontWeight: 'bold',\r\n        marginBottom: '1vh'\r\n    },\r\n    divider: {\r\n        marginBottom: '6vh'\r\n    },\r\n    alignRight: {\r\n        textAlign: 'right',\r\n    }\r\n}));\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n    header: {\r\n        title: 'Transacciones internas'\r\n    },\r\n    body: {\r\n        field: {\r\n            type: {\r\n                name: 'type',\r\n                helperText: 'Escoja el tipo de transaccin',\r\n                options: [\r\n                    {title: 'Consignacin de efectivo a un banco', value: 'CONSIGNACION'},\r\n                    {title: 'Retiro de efectivo de un banco', value: 'RETIRO'},\r\n                    {title: 'Transferencia de un banco a otro banco', value: 'TRANSFERENCIA'}\r\n                ]\r\n            },\r\n            date: {\r\n                name: 'date',\r\n                helperText: 'Ingrese la fecha del movimiento',\r\n                placeholder: 'Fecha *'\r\n            },\r\n            serial: {\r\n                name: 'serial',\r\n                helperText: 'Ingrese el serial o cdigo de transaccin',\r\n                placeholder: 'Serial *'\r\n            },\r\n            bank: {\r\n                name: 'bank',\r\n                helperText: {\r\n                    optionOne: 'Escoja el banco a consignar',\r\n                    optionTwo: 'Escoja el banco a retirar',\r\n                    optionThree: 'Escoja el banco que transfiere'\r\n                },\r\n                options: [\r\n                    {title: 'Bancolombia', value: '674867836'},\r\n                    {title: 'BBVA', value: '7786786687'}\r\n                ]\r\n            },\r\n            secondBank: {\r\n                name: 'secondBank',\r\n                helperText: 'Escoja el banco a transferir'\r\n            },\r\n            value: {\r\n                name: 'value',\r\n                helperText: 'Ingrese el valor de la transaccin',\r\n                placeholder: 'Value *'\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// ------------- Init state -----------\r\nconst initState: InternalTransaction = {\r\n    type: '',\r\n    date: new Date(),\r\n    serial: '',\r\n    bank: '',\r\n    secondBank: undefined,\r\n    value: 0\r\n}\r\n\r\nexport default function InternalTransactionForm() {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [ form, setForm ] = useState<InternalTransaction>(initState);\r\n    const [ valueStr, setValueStr ] = useState('');\r\n    const [ newBankOptions, setNewBankOptions ] = useState(texts.body.field.bank.options);\r\n\r\n    // HandleChange is the handler to update the state\r\n    // of the form, while the user change the options \r\n    // on an input select.\r\n    const handleChangeSelect = (event: React.ChangeEvent<{ name?: string; value: unknown }>) => {\r\n        const name = event.target.name as string;\r\n\r\n        // this code removes the option slected on the bank\r\n        // from the bank array, with this if the user wants \r\n        // to transfer from one bank to another the new options\r\n        // will be the other banks.\r\n        if(name === texts.body.field.bank.name){\r\n            let res = texts.body.field.bank.options.filter(e => e.value !== event.target.value);\r\n            setNewBankOptions(res);\r\n        }\r\n\r\n        setForm({\r\n            ...form,\r\n            [name]: event.target.value,\r\n        });\r\n    }\r\n\r\n    // HandleChange is the handler to update the state\r\n    // of the form, while the user writes on an input\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const {name, value} = e.target\r\n        setForm(prev => {\r\n            (prev as any)[name] = value\r\n            const newValue = {...prev}\r\n            return newValue\r\n        })\r\n    }\r\n\r\n    // Function for thousand separator\r\n    // this function adds thousand separator to numbers in:\r\n    // fields: valueNumber\r\n    const thousandSeparator = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const {name, value} = e.target\r\n\r\n        if(name === texts.body.field.value.name){\r\n            setValueStr(value);\r\n\r\n            let input = value.split(',').join('');\r\n            let newInput = input.split('').reverse();\r\n            \r\n            let output = [];\r\n            let aux = '';\r\n            let paginator = Math.ceil(newInput.length / 3);\r\n            \r\n            for(let i = 0; i < paginator; i ++){\r\n                for(let j = 0; j < 3; j ++){\r\n                    if(newInput[j + (i * 3)] !== undefined){\r\n                        aux += newInput[j + (i * 3)];\r\n                    }\r\n                }\r\n                output.push(aux)\r\n                aux = '';\r\n                setValueStr(output.join(',').split('').reverse().join(''));\r\n            }\r\n        }\r\n    }\r\n\r\n    // HandleSubmit is the handler to verify and send\r\n    // the form to redux (redux send the info to backend)\r\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n\r\n        // this code become the valueStr to number\r\n        const r = /,/gi;\r\n        const newValue = valueStr.replace(r, '');\r\n        setForm({\r\n            ...form,\r\n            value: Number(newValue)\r\n        });\r\n    }\r\n\r\n    const cancel = () => {\r\n        setForm(initState);\r\n        setValueStr('');\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n\r\n             {/* ----- Header ------*/}\r\n             <React.Fragment>\r\n                <Typography \r\n                variant='h5'\r\n                className={classes.title}\r\n                >\r\n                    {texts.header.title}\r\n                </Typography>\r\n            </React.Fragment>\r\n\r\n            <Divider\r\n            className={classes.divider}\r\n            />\r\n\r\n            {/* ----- Body ------*/}\r\n            <form onSubmit={(e) => handleSubmit(e)}>\r\n                <Grid container spacing={3}>\r\n\r\n                \r\n                    {/* ----- Form: item **type ------*/}\r\n                    <Grid item md={8} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.body.field.type.name}\r\n                        value = {form.type}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.body.field.type.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e.value} \r\n                                    >\r\n                                        {e.title}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>{texts.body.field.type.helperText}</FormHelperText>\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **date ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <TextField\r\n                        required={true}\r\n                        name = {texts.body.field.date.name}\r\n                        value = {form.date}\r\n                        id = 'outlined-helperText'\r\n                        variant = 'outlined'\r\n                        fullWidth\r\n                        type = 'date'\r\n                        onChange = {handleChange}\r\n                        helperText = {texts.body.field.date.helperText}\r\n                        />\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **serial ------*/}\r\n                    <Grid item md={6} sm={6} xs={12}>\r\n                        <TextField\r\n                        required={true}\r\n                        name = {texts.body.field.serial.name}\r\n                        value = {form.serial}\r\n                        id = 'outlined-helperText'\r\n                        variant = 'outlined'\r\n                        fullWidth\r\n                        onChange= {handleChange}\r\n                        helperText = {texts.body.field.serial.helperText}\r\n                        placeholder = {texts.body.field.serial.placeholder}\r\n                        />\r\n                    </Grid>\r\n\r\n                    {/* ----- Form: item **bank ------*/}\r\n                    <Grid item md={6} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.body.field.bank.name}\r\n                        value = {form.bank}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.body.field.bank.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e.value} \r\n                                    >\r\n                                        {e.title} - {e.value}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>\r\n                            {\r\n                                form.type === texts.body.field.type.options[0].value \r\n                                ? \r\n                                texts.body.field.bank.helperText.optionOne\r\n                                : \r\n                                form.type === texts.body.field.type.options[1].value\r\n                                ?\r\n                                texts.body.field.bank.helperText.optionTwo\r\n                                :\r\n                                form.type === texts.body.field.type.options[2].value\r\n                                ?\r\n                                texts.body.field.bank.helperText.optionThree\r\n                                :\r\n                                texts.body.field.bank.helperText.optionOne\r\n                            }\r\n                                \r\n                        </FormHelperText>\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **secondBank ------*/}\r\n                    {\r\n                        // this item will depend on the value in form.type \r\n                        form.type === texts.body.field.type.options[2].value\r\n                        ?\r\n                        <Grid item md={6} sm={6} xs={12}>\r\n                            <Select\r\n                            name={texts.body.field.secondBank.name}\r\n                            value = {form.secondBank}\r\n                            variant = \"outlined\"\r\n                            fullWidth\r\n                            onChange={handleChangeSelect}\r\n                            >\r\n                                {\r\n                                    newBankOptions.map((e, index) => \r\n                                        <MenuItem\r\n                                        key={index} \r\n                                        value={e.value} \r\n                                        >\r\n                                            {e.title} - {e.value}\r\n                                        </MenuItem>\r\n                                        )\r\n                                }\r\n                            </Select>\r\n                            <FormHelperText>{texts.body.field.secondBank.helperText}</FormHelperText>\r\n                        </Grid>\r\n                        :\r\n                        ''\r\n                    }\r\n\r\n                    {/* ----- Form: item **value ------*/}\r\n                    <Grid item md={6} sm={6} xs={12}>\r\n                        <TextField\r\n                        required={true}\r\n                        name={texts.body.field.value.name}\r\n                        value = {valueStr}\r\n                        onChange={thousandSeparator}\r\n                        fullWidth\r\n                        variant = \"outlined\"\r\n                        helperText = {texts.body.field.value.helperText}\r\n                        placeholder = {texts.body.field.value.placeholder}\r\n                        />\r\n                    </Grid>\r\n                    \r\n                    <Grid item md={12} sm={12} xs ={12} className={classes.alignRight}>\r\n                        <IconButton\r\n                        type=\"submit\"\r\n                        >\r\n                            <NoteAdd fontSize={\"large\"} color=\"primary\"/>\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                        type=\"button\"\r\n                        onClick={cancel}\r\n                        >\r\n                            <Cancel fontSize={\"large\"} color=\"secondary\"/>\r\n                        </IconButton>\r\n                    </Grid>\r\n                \r\n                </Grid>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { makeStyles, Theme } from '@material-ui/core/styles';\r\nimport { \r\n    Divider,\r\n    FormHelperText,\r\n    Grid, \r\n    IconButton,\r\n    MenuItem,\r\n    Select,\r\n    TextField, \r\n    Typography \r\n} from '@material-ui/core';\r\nimport { Cancel, NoteAdd } from '@material-ui/icons';\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n        width: '85%',\r\n        margin: '10vh auto 10vh auto',\r\n        height: 'auto'\r\n    },\r\n    title: {\r\n        fontWeight: 'bold',\r\n        marginBottom: '1vh'\r\n    },\r\n    divider: {\r\n        marginBottom: '6vh'\r\n    },\r\n    alignRight: {\r\n        textAlign: 'right',\r\n    }\r\n}));\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n    header: {\r\n        title: 'Reporte de recibos de caja'\r\n    },\r\n    body: {\r\n        fields: {\r\n            from: {\r\n                name: 'from',\r\n                helperText: 'Desde'\r\n            },\r\n            to: {\r\n                name: 'to',\r\n                helperText: 'Hasta'\r\n            },\r\n            serial: {\r\n                name: 'serial',\r\n                helperText: 'Ingrese el serial de la transaccin',\r\n                placeholder: 'Serial'\r\n            },\r\n            third: {\r\n                name: 'third',\r\n                helperText: 'Escoja un tercero para filtrar',\r\n                options: [\r\n                    {title: 'Pedro Mario Carranza', value: '33344554'},\r\n                    {title: 'Elctricos don pipe', value: '987675656'},\r\n                    {title: 'Maria Perdomo', value: '35765633'}\r\n                ]\r\n            },\r\n            wayPay: {\r\n                name: 'wayPay',\r\n                helperText: 'Escoja la manera de pago',\r\n                options: [\r\n                    {title: 'Efectivo', value: 'efectivo'},\r\n                    {title: 'Consignacin', value: 'consignacion'},\r\n                    {title: 'Cheque', value: 'cheque'}\r\n                ]\r\n            },\r\n            concept: {\r\n                name: 'concept',\r\n                helperText: 'Escoja un concepto',\r\n                options: [\r\n                    {title: 'Exequias', value: '12005'},\r\n                    {title: 'Partidas', value: '11002'},\r\n                    {title: 'Donaciones', value: '10250'}\r\n                ]\r\n            },\r\n            type: {\r\n                name: 'type',\r\n                helperText: 'Escoja el tipo de recibo',\r\n                options: [\r\n                    {title: 'Ingreso', value: 'ingreso'},\r\n                    {title: 'Egreso', value: 'egreso'}\r\n                ]\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// ------------- Init state -----------\r\nconst initState = {\r\n    from: new Date(),\r\n    to: new Date(),\r\n    serial: '',\r\n    third: '',\r\n    wayPay: '',\r\n    concept: '',\r\n    type: ''\r\n}\r\n\r\nexport default function CashReceiptReport() {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [ form, setForm ] = useState(initState);\r\n\r\n    // HandleChange is the handler to update the state\r\n    // of the form, while the user change the options \r\n    // on an input select.\r\n    const handleChangeSelect = (event: React.ChangeEvent<{ name?: string; value: unknown }>) => {\r\n        const name = event.target.name as string;\r\n        setForm({\r\n            ...form,\r\n            [name]: event.target.value,\r\n        });\r\n    }\r\n\r\n    // HandleChange is the handler to update the state\r\n    // of the form, while the user writes on an input\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const {name, value} = e.target\r\n        setForm(prev => {\r\n            (prev as any)[name] = value\r\n            const newValue = {...prev}\r\n            return newValue\r\n        })\r\n    }\r\n\r\n    // HandleSubmit is the handler to verify and send\r\n    // the form to redux (redux send the info to backend)\r\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        console.log(form);\r\n    }\r\n\r\n    const cancel = () => {\r\n        setForm(initState);\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n\r\n             {/* ----- Header ------*/}\r\n             <React.Fragment>\r\n                <Typography \r\n                variant='h5'\r\n                className={classes.title}\r\n                >\r\n                    {texts.header.title}\r\n                </Typography>\r\n            </React.Fragment>\r\n\r\n            <Divider\r\n            className={classes.divider}\r\n            />\r\n\r\n            {/* ----- Body ------*/}\r\n            <form onSubmit={(e) => handleSubmit(e)}>\r\n                <Grid container spacing={3}>\r\n\r\n                    {/* ----- Form: item **from ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <TextField\r\n                        required={true}\r\n                        name = {texts.body.fields.from.name}\r\n                        value = {form.from}\r\n                        id = 'outlined-helperText'\r\n                        variant = 'outlined'\r\n                        fullWidth\r\n                        type = 'date'\r\n                        onChange = {handleChange}\r\n                        helperText = {texts.body.fields.from.helperText}\r\n                        />\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **to ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <TextField\r\n                        required={true}\r\n                        name = {texts.body.fields.to.name}\r\n                        value = {form.to}\r\n                        id = 'outlined-helperText'\r\n                        variant = 'outlined'\r\n                        fullWidth\r\n                        type = 'date'\r\n                        onChange = {handleChange}\r\n                        helperText = {texts.body.fields.to.helperText}\r\n                        />\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **serial ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <TextField\r\n                        required={true}\r\n                        name = {texts.body.fields.serial.name}\r\n                        value = {form.serial}\r\n                        id = 'outlined-helperText'\r\n                        variant = 'outlined'\r\n                        fullWidth\r\n                        onChange= {handleChange}\r\n                        helperText = {texts.body.fields.serial.helperText}\r\n                        placeholder = {texts.body.fields.serial.placeholder}\r\n                        />\r\n                    </Grid>\r\n\r\n                    {/* ----- Form: item **third ------*/}\r\n                    <Grid item md={8} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.body.fields.third.name}\r\n                        value = {form.third}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.body.fields.third.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e.value} \r\n                                    >\r\n                                        {e.title}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>{texts.body.fields.third.helperText}</FormHelperText>\r\n                    </Grid>\r\n\r\n                    {/* ----- Form: item **way pay ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.body.fields.wayPay.name}\r\n                        value = {form.wayPay}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.body.fields.wayPay.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e.value} \r\n                                    >\r\n                                        {e.title}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>{texts.body.fields.wayPay.helperText}</FormHelperText>\r\n                    </Grid>\r\n\r\n                    {/* ----- Form: item **Concept ------*/}\r\n                    <Grid item md={8} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.body.fields.concept.name}\r\n                        value = {form.concept}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.body.fields.concept.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e.value} \r\n                                    >\r\n                                        {e.title}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>{texts.body.fields.concept.helperText}</FormHelperText>\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **Type of cash receipt ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.body.fields.type.name}\r\n                        value = {form.type}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.body.fields.type.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e.value} \r\n                                    >\r\n                                        {e.title}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>{texts.body.fields.type.helperText}</FormHelperText>\r\n                    </Grid>\r\n\r\n                    <Grid item md={12} sm={12} xs ={12} className={classes.alignRight}>\r\n                        <IconButton\r\n                        type=\"submit\"\r\n                        >\r\n                            <NoteAdd fontSize={\"large\"} color=\"primary\"/>\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                        type=\"button\"\r\n                        onClick={cancel}\r\n                        >\r\n                            <Cancel fontSize={\"large\"} color=\"secondary\"/>\r\n                        </IconButton>\r\n                    </Grid>\r\n                \r\n                </Grid>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { makeStyles, Theme } from '@material-ui/core/styles';\r\nimport { \r\n    Divider,\r\n    FormHelperText,\r\n    Grid, \r\n    IconButton,\r\n    MenuItem,\r\n    Select,\r\n    TextField, \r\n    Typography \r\n} from '@material-ui/core';\r\nimport { Cancel, NoteAdd } from '@material-ui/icons';\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n        width: '85%',\r\n        margin: '10vh auto 10vh auto',\r\n        height: 'auto'\r\n    },\r\n    title: {\r\n        fontWeight: 'bold',\r\n        marginBottom: '1vh'\r\n    },\r\n    divider: {\r\n        marginBottom: '6vh'\r\n    },\r\n    alignRight: {\r\n        textAlign: 'right',\r\n    }\r\n}));\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n    header: {\r\n        title: 'Reporte de transacciones internas'\r\n    },\r\n    body: {\r\n        fields: {\r\n            from: {\r\n                name: 'from',\r\n                helperText: 'Desde'\r\n            },\r\n            to: {\r\n                name: 'to',\r\n                helperText: 'Hasta'\r\n            },\r\n            bank: {\r\n                name: 'bank',\r\n                helperText: 'Escoja un banco',\r\n                options: [\r\n                    {title: 'Bancolombia', value: '786786765'},\r\n                    {title: 'BBVA', value: '110546502'},\r\n                    {title: 'Galicia', value: '10250345'}\r\n                ]\r\n            },\r\n            type: {\r\n                name: 'type',\r\n                helperText: 'Escoja el tipo de recibo',\r\n                options: [\r\n                    {title: 'Ingreso', value: 'ingreso'},\r\n                    {title: 'Egreso', value: 'egreso'}\r\n                ]\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// ------------- Init state -----------\r\nconst initState = {\r\n    from: new Date(),\r\n    to: new Date(),\r\n    bank: '',\r\n    type: ''\r\n}\r\n\r\nexport default function CashReceiptReport() {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [ form, setForm ] = useState(initState);\r\n\r\n    // HandleChange is the handler to update the state\r\n    // of the form, while the user change the options \r\n    // on an input select.\r\n    const handleChangeSelect = (event: React.ChangeEvent<{ name?: string; value: unknown }>) => {\r\n        const name = event.target.name as string;\r\n        setForm({\r\n            ...form,\r\n            [name]: event.target.value,\r\n        });\r\n    }\r\n\r\n    // HandleChange is the handler to update the state\r\n    // of the form, while the user writes on an input\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const {name, value} = e.target\r\n        setForm(prev => {\r\n            (prev as any)[name] = value\r\n            const newValue = {...prev}\r\n            return newValue\r\n        })\r\n    }\r\n\r\n    // HandleSubmit is the handler to verify and send\r\n    // the form to redux (redux send the info to backend)\r\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        console.log(form);\r\n    }\r\n\r\n    const cancel = () => {\r\n        setForm(initState);\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n\r\n             {/* ----- Header ------*/}\r\n             <React.Fragment>\r\n                <Typography \r\n                variant='h5'\r\n                className={classes.title}\r\n                >\r\n                    {texts.header.title}\r\n                </Typography>\r\n            </React.Fragment>\r\n\r\n            <Divider\r\n            className={classes.divider}\r\n            />\r\n\r\n            {/* ----- Body ------*/}\r\n            <form onSubmit={(e) => handleSubmit(e)}>\r\n                <Grid container spacing={3}>\r\n\r\n                    {/* ----- Form: item **from ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <TextField\r\n                        required={true}\r\n                        name = {texts.body.fields.from.name}\r\n                        value = {form.from}\r\n                        id = 'outlined-helperText'\r\n                        variant = 'outlined'\r\n                        fullWidth\r\n                        type = 'date'\r\n                        onChange = {handleChange}\r\n                        helperText = {texts.body.fields.from.helperText}\r\n                        />\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **to ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <TextField\r\n                        required={true}\r\n                        name = {texts.body.fields.to.name}\r\n                        value = {form.to}\r\n                        id = 'outlined-helperText'\r\n                        variant = 'outlined'\r\n                        fullWidth\r\n                        type = 'date'\r\n                        onChange = {handleChange}\r\n                        helperText = {texts.body.fields.to.helperText}\r\n                        />\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **Type of internal transaction ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.body.fields.type.name}\r\n                        value = {form.type}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.body.fields.type.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e.value} \r\n                                    >\r\n                                        {e.title}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>{texts.body.fields.type.helperText}</FormHelperText>\r\n                    </Grid>\r\n\r\n                    {/* ----- Form: item **Bank ------*/}\r\n                    <Grid item md={8} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.body.fields.bank.name}\r\n                        value = {form.bank}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.body.fields.bank.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e.value} \r\n                                    >\r\n                                        {e.title}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>{texts.body.fields.bank.helperText}</FormHelperText>\r\n                    </Grid>\r\n\r\n                    <Grid item md={12} sm={12} xs ={12} className={classes.alignRight}>\r\n                        <IconButton\r\n                        type=\"submit\"\r\n                        >\r\n                            <NoteAdd fontSize={\"large\"} color=\"primary\"/>\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                        type=\"button\"\r\n                        onClick={cancel}\r\n                        >\r\n                            <Cancel fontSize={\"large\"} color=\"secondary\"/>\r\n                        </IconButton>\r\n                    </Grid>\r\n                \r\n                </Grid>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import { Item } from \"../../schemas/Item\";\r\n\r\nexport default function itemMapper(item: any | unknown): Item {\r\n  return {\r\n    entityId: item.entityId ?? '',\r\n    code: item.code ?? '',\r\n    account: Number(item.account) ?? 0,\r\n    description: item.description ?? '',\r\n    price: item.price ?? undefined,\r\n    unitMeasure: {\r\n      code: item.unitMeasure?.code ?? '',\r\n      description: item.unitMeasure?.description ?? ''\r\n    } ?? undefined,\r\n    itemType: {\r\n      code: item.itemType?.code ?? 0,\r\n      description: item.itemType?.description ?? ''\r\n    } ?? undefined\r\n  }\r\n}\r\n","import axios from 'axios'\r\nimport itemMapper from '../../mappers/Item/item.mapper'\r\nimport { Item } from '../../schemas/Item'\r\n\r\nclass ItemService {\r\n  async saveItem(itemData: Item, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/item` \r\n      const responseApi = await axios.post(url, itemData, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async updateItem(itemData: Item, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/item` \r\n      const responseApi = await axios.put(url, itemData, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getItemByCode(token: string, code: string) : Promise<Item> {\r\n    try {\r\n      let url = `${process.env.REACT_APP_API}/api/v2/item/${code}`\r\n  \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        } \r\n      })\r\n\r\n      const concept = itemMapper(responseApi.data) \r\n\r\n      return concept\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getItems(token: string, params?: { limit: number, lastEvaluatedKey?: string }) : Promise<{ lastEvaluatedKey: string, items: Item[] }> {\r\n    try {\r\n      let url = params !== undefined ? `${process.env.REACT_APP_API}/api/v2/item?limit=${params.limit}` : `${process.env.REACT_APP_API}/api/v2/item`\r\n      if (params !== undefined && params.lastEvaluatedKey !== undefined) url = `${url}&lastEvaluatedKey=${params.lastEvaluatedKey}`\r\n  \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n\r\n      const items = responseApi.data.items.map((item:any) => {\r\n        return itemMapper(item)\r\n      })\r\n\r\n      return {\r\n        lastEvaluatedKey: JSON.stringify(responseApi.data.lastEvaluatedKey),\r\n        items: items\r\n      }\r\n\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default ItemService\r\n","import React, { useState } from 'react'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Box,\r\n  CircularProgress,\r\n  Divider,\r\n  FormHelperText,\r\n  Grid,\r\n  IconButton,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Typography\r\n} from '@material-ui/core'\r\nimport { Cancel, NoteAdd } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport { Item } from '../../../schemas/Item'\r\nimport ItemService from '../../../services/Item'\r\nimport permissions from '../../../permissions.json'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport Utils from '../../../utils'\r\nimport { urls } from '../../../urls'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  thirdClassTitle: {\r\n    color: '#757575',\r\n    marginBottom: '6vh'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Crear productos'\r\n  },\r\n  body: {\r\n    field: {\r\n      code: {\r\n        name: 'code',\r\n        helperText: 'Escriba el cdigo del producto',\r\n        placeholder: 'Cdigo'\r\n      },\r\n      account: {\r\n        name: 'account',\r\n        helperText: 'Cuenta contable del producto',\r\n        placeholder: 'Cuenta',\r\n        validationError: 'Debe ser de 10 dgitos'\r\n      },\r\n      description: {\r\n        name: 'description',\r\n        helperText: 'Escriba la descripcin del producto',\r\n        placeholder: 'Nombre de producto'\r\n      },\r\n      price: {\r\n        name: 'price',\r\n        helperText: 'Escriba el precio en pesos colombianos sin decimales',\r\n        placeholder: 'Precio'\r\n      },\r\n      unitMeasure: {\r\n        name: 'unitMeasure',\r\n        helperText: 'Escoja una unidad de medida',\r\n        options: [\r\n          { description: 'Unidad', code: '70' },\r\n          { description: 'Kilogramo', code: '40' },\r\n          { description: 'Galn', code: '686' },\r\n          { description: 'Metro cbico', code: '594' },\r\n          { description: 'Metro cuadrado', code: '472' },\r\n        ]\r\n      },\r\n      itemType: {\r\n        name: 'itemType',\r\n        helperText: 'Tipo de producto',\r\n        options: [\r\n          { description: 'UNSPSC', code: '1' },\r\n          { description: 'GTIN', code: '2' },\r\n          { description: 'Partida Arancelarias', code: '3' },\r\n          { description: 'Estndar de adopcin del contribuyente', code: '4' }\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  form: Item\r\n  validations: {\r\n    errorMinLengthAccount: boolean\r\n  }\r\n  isEdit: boolean\r\n  loading: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  form: {\r\n    code: '',\r\n    account: 0,\r\n    description: '',\r\n    price: undefined,\r\n    unitMeasure: undefined,\r\n    itemType: undefined\r\n  },\r\n  validations: {\r\n    errorMinLengthAccount: false\r\n  },\r\n  isEdit: false,\r\n  loading: false\r\n}\r\n\r\nexport default function ItemForm() {\r\n\r\n  const classes = useStyles()\r\n  const { search } = useLocation()\r\n  const history = useHistory()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n      const account = Utils.getIdFromUrl(search)\r\n\r\n      if (account) {\r\n        setState({\r\n          ...state,\r\n          loading: true\r\n        })\r\n        const itemService = new ItemService()\r\n        const item = await itemService.getItemByCode(userContext.token ?? '', account)\r\n        if (item) {\r\n          setState({\r\n            ...state,\r\n            form: item,\r\n            loading: false,\r\n            isEdit: true\r\n          })\r\n        }\r\n      }\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user change the options \r\n  // on an input select.\r\n  const handleChangeSelect = (name: string, item: { code: string, description: string }) => {\r\n    setState({\r\n      ...state,\r\n      form:{\r\n        ...state.form,\r\n        [name]: item\r\n      }\r\n    })\r\n  }\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user writes on an input.\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target\r\n    let errorMinLengthAccount = state.validations.errorMinLengthAccount\r\n\r\n    if (name === 'account') {\r\n      errorMinLengthAccount = value.length < Number(process.env.REACT_APP_MAX_LENGTH_CONTABLE_ACCOUNT)\r\n    }\r\n    setState({\r\n      ...state,\r\n      form: {\r\n        ...state.form,\r\n        [name]: value\r\n      },\r\n      validations: {\r\n        errorMinLengthAccount\r\n      }\r\n    })\r\n  }\r\n\r\n  // HandleSubmit is the handler to verify and send\r\n  // the state to redux (redux send the info to backend\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    try {\r\n      // validations\r\n      if (state.validations.errorMinLengthAccount && userContext.permissions.some(p => p === permissions.super_admin)) {\r\n        throw new Error(`La cuenta debe tener ${process.env.REACT_APP_MAX_LENGTH_CONTABLE_ACCOUNT} dgitos`)\r\n      }\r\n\r\n      const itemService = new ItemService()\r\n      let itemCreated\r\n\r\n      if (state.isEdit) {\r\n        itemCreated = await itemService.updateItem(state.form, userContext.token ?? '')\r\n      } else {\r\n        itemCreated = await itemService.saveItem(state.form, userContext.token ?? '')\r\n      }\r\n\r\n      setState(initState)\r\n      history.push(urls.app.main.item.form)\r\n      return toast.success(`El producto ${itemCreated.code} fue ${state.isEdit ? 'actualizado' : 'creado'} con xito`)\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      } else if (error instanceof Error) {\r\n        return toast.error(error.message)\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  const cancel = () => {\r\n    setState(initState)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ----- Header -----*/}\r\n      <React.Fragment>\r\n        <Typography \r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n\r\n      {/* ----- Body ------*/}\r\n      <form onSubmit={(e) => handleSubmit(e)}>\r\n        <Grid container spacing={3}>\r\n\r\n          {/* ----- Form: code ------*/}\r\n          <Grid item md={6} sm={6} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.code.name}\r\n              value={state.form.code}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.code.helperText}\r\n              placeholder={texts.body.field.code.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: account, only the admin can create this field ------*/}\r\n          {\r\n            userContext.permissions.find(permission => permission === permissions.super_admin) ?\r\n            (\r\n              <Grid item md={6} sm={6} xs={10}>\r\n                <TextField\r\n                  required={true}\r\n                  name={texts.body.field.account.name}\r\n                  value={state.form.account}\r\n                  variant='outlined'\r\n                  fullWidth\r\n                  onChange={handleChange}\r\n                  helperText={ state.validations.errorMinLengthAccount ? texts.body.field.account.validationError : texts.body.field.account.helperText}\r\n                  error={state.validations.errorMinLengthAccount}\r\n                  placeholder={texts.body.field.account.placeholder}\r\n                  inputProps={{ maxLength: process.env.REACT_APP_MAX_LENGTH_CONTABLE_ACCOUNT }}\r\n                />\r\n              </Grid>\r\n            ) : ''\r\n          }\r\n\r\n          {/* ----- Form: description ------*/}\r\n          <Grid item md={6} sm={6} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.description.name}\r\n              value={state.form.description}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.description.helperText}\r\n              placeholder={texts.body.field.description.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: price ------*/}\r\n          <Grid item md={6} sm={6} xs={10}>\r\n            <TextField\r\n              name={texts.body.field.price.name}\r\n              value={state.form.price ?? ''}\r\n              type='number'\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.price.helperText}\r\n              placeholder={texts.body.field.price.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: unit measure ------*/}\r\n          <Grid item md={6} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.unitMeasure.name}\r\n              value={state.form.unitMeasure?.code ?? ''}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            >\r\n              {\r\n                texts.body.field.unitMeasure.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.unitMeasure.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.unitMeasure.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: item type ------*/}\r\n          <Grid item md={6} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.itemType.name}\r\n              value={state.form.itemType?.code ?? ''}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            >\r\n              {\r\n                texts.body.field.itemType.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.itemType.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.itemType.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n            <IconButton\r\n              type=\"submit\"\r\n            >\r\n              <NoteAdd fontSize={\"large\"} color=\"primary\" />\r\n            </IconButton>\r\n\r\n            <IconButton\r\n              type=\"button\"\r\n              onClick={cancel}\r\n            >\r\n              <Cancel fontSize={\"large\"} color=\"secondary\" />\r\n            </IconButton>\r\n          </Grid>\r\n\r\n        </Grid>\r\n      </form>\r\n      {\r\n        state.loading ?\r\n        (\r\n          <div className={classes.loadingContainer}>\r\n            <Box>\r\n              <CircularProgress/>\r\n            </Box>\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Divider,\r\n  Grid,\r\n  IconButton,\r\n  Button,\r\n  Typography,\r\n  Box,\r\n  CircularProgress\r\n} from '@material-ui/core'\r\nimport { GridCellEditCommitParams, GridColDef } from '@material-ui/data-grid'\r\nimport { CloudDownload, Edit } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport DataTable from '../DataTable/DataTable'\r\nimport { urls } from '../../../urls'\r\nimport ItemService from '../../../services/Item'\r\nimport permissions from '../../../permissions.json'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  loadMoreButton: {\r\n    width: '25%',\r\n    height: '70%'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Lista de productos'\r\n  },\r\n  body: {\r\n    buttonLoadMore: {\r\n      label: 'Cargar ms ...'\r\n    }\r\n  }\r\n}\r\n\r\nconst columns: GridColDef[] = [\r\n  {\r\n    field: 'code',\r\n    headerName: 'Cdigo',\r\n    flex: 1,\r\n    editable: false,\r\n  },\r\n  {\r\n    field: 'description',\r\n    headerName: 'Producto',\r\n    editable: true,\r\n    flex: 2\r\n  },\r\n  {\r\n    field: 'price',\r\n    headerName: 'Precio',\r\n    editable: true,\r\n    flex: 1\r\n  },\r\n  {\r\n    field: 'actions',\r\n    headerName: 'Acciones',\r\n    flex: 1,\r\n    type: 'actions',\r\n    renderCell: (params: any) => (\r\n      <ActionButtons params={params} />\r\n    )\r\n  }\r\n]\r\n\r\nconst columnsAdmin: GridColDef[] = [\r\n  {\r\n    field: 'code',\r\n    headerName: 'Cdigo',\r\n    flex: 1,\r\n    editable: false,\r\n  },\r\n  {\r\n    field: 'description',\r\n    headerName: 'Producto',\r\n    editable: true,\r\n    flex: 2\r\n  },\r\n  {\r\n    field: 'account',\r\n    headerName: 'Cuenta contable',\r\n    editable: true,\r\n    flex: 1\r\n  },\r\n  {\r\n    field: 'price',\r\n    headerName: 'Precio',\r\n    editable: true,\r\n    flex: 1\r\n  },\r\n  {\r\n    field: 'actions',\r\n    headerName: 'Acciones',\r\n    flex: 1,\r\n    type: 'actions',\r\n    renderCell: (params: any) => (\r\n      <ActionButtons params={params} />\r\n    )\r\n  }\r\n]\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  loadMoreButtonDisabled: boolean\r\n  lastEvaluatedKey?: string\r\n  items: any[]\r\n  loading: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  loadMoreButtonDisabled: false,\r\n  items: [],\r\n  loading: true\r\n}\r\n\r\nfunction ActionButtons(props: any) {\r\n  const [editPermission, setEditPermission] = useState<boolean>(false)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n  const history = useHistory()\r\n\r\n  const onEdit = () => {\r\n    history.push(`${urls.app.main.item.form}?document=${props.params.row.code ?? ''}`)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setEditPermission(userContext.permissions.some(permission => permission === permissions.item.update))\r\n  }, [userContext])\r\n\r\n  return (\r\n    <IconButton\r\n      type=\"submit\"\r\n      onClick={() => onEdit()}\r\n      disabled={!editPermission}\r\n    >\r\n      <Edit fontSize={\"small\"} color={editPermission ? \"primary\" : \"inherit\"} />\r\n    </IconButton>\r\n  )\r\n}\r\n\r\nexport default function ItemList() {\r\n\r\n  const classes = useStyles()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n      const itemService = new ItemService()\r\n      const response = await itemService.getItems(userContext.token || '', { limit: 5 })\r\n      setState({\r\n        ...state,\r\n        items: response.items,\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true,\r\n        loading: false\r\n      })\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  const onLoadMore = async () => {\r\n    try {\r\n      const itemService = new ItemService()\r\n      const response = await itemService.getItems(userContext.token || '', { limit: 5, lastEvaluatedKey: state.lastEvaluatedKey })\r\n      setState({\r\n        ...state,\r\n        items: state.items.concat(response.items),\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true\r\n      })\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const gridEdit = async (params: GridCellEditCommitParams) => {\r\n    try {\r\n      // validations\r\n      if (params.field === \"account\" && params.value && params.value.toString().length !== Number(process.env.REACT_APP_MAX_LENGTH_CONTABLE_ACCOUNT)) {\r\n        throw new Error(`El nmero de cuenta contable debe ser de ${process.env.REACT_APP_MAX_LENGTH_CONTABLE_ACCOUNT} dgitos`)\r\n      }\r\n      let itemToEdit: any = {}\r\n\r\n      const selectedItem = state.items.find(item => item.code === params.id)\r\n\r\n      if (selectedItem !== undefined) {\r\n        itemToEdit = {\r\n          ...selectedItem,\r\n          [params.field]: params.value\r\n        }\r\n      } else {\r\n        return\r\n      }\r\n\r\n      const itemService = new ItemService()\r\n      const itemUpdated = await itemService.updateItem(itemToEdit, userContext.token ?? '')\r\n\r\n      return toast.success(`El producto ${itemUpdated.code} fue editado con xito`)\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      } else if (error instanceof Error) {\r\n        return toast.error(error.message)\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ----- Header ------*/}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n      <Grid container spacing={3}>\r\n\r\n        {/* ----- Form: item thrid type ------*/}\r\n        <Grid item md={12} sm={12} xs={12}>\r\n          <DataTable rows={state.items} columns={ userContext.permissions.some(p => p === permissions.super_admin) ? columnsAdmin : columns} keyId='code' gridEdit={gridEdit} />\r\n        </Grid>\r\n\r\n        <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n          <Button\r\n            type=\"button\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            className={classes.loadMoreButton}\r\n            startIcon={<CloudDownload />}\r\n            disabled={state.loadMoreButtonDisabled}\r\n            onClick={() => onLoadMore()}\r\n          >\r\n            {texts.body.buttonLoadMore.label}\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n      {\r\n        state.loading ?\r\n        (\r\n          <div className={classes.loadingContainer}>\r\n            <Box>\r\n              <CircularProgress/>\r\n            </Box>\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import moment from \"moment\";\r\nimport { ElectronicBill, ElectronicBillFormSchema, ItemComplete } from \"../../schemas/ElectronicBill\";\r\nimport Utils from \"../../utils\";\r\n\r\nconst electronicBillMapper = {\r\n  formToSchema: (form: ElectronicBillFormSchema, items: ItemComplete[]): ElectronicBill => {\r\n    return {\r\n      date: form.date,\r\n      orderReference: form.orderReference,\r\n      third: form.third ?? {\r\n        document: '',\r\n        dv: undefined,\r\n        documentType: {\r\n          code: '',\r\n          description: ''\r\n        },\r\n        organizationType: {\r\n          code: '',\r\n          description: ''\r\n        },\r\n        liabilityType: {\r\n          code: '',\r\n          description: ''\r\n        },\r\n        regimeType: {\r\n          code: '',\r\n          description: ''\r\n        },\r\n        name: undefined,\r\n        lastname: undefined,\r\n        businessName: undefined,\r\n        phone: '',\r\n        address: '',\r\n        email: ''\r\n      },\r\n      wayToPay: form.wayToPay,\r\n      paymentMethod: form.paymentMethod,\r\n      paymentDueDate: moment(form.paymentDueDate).format('YYYY/MM/DD'),\r\n      note: form.note,\r\n      items: items,\r\n      taxes: Utils.buildTaxesForElectronicBill(items),\r\n      total: form.total,\r\n      totalTaxes: form.totalTaxes,\r\n      totalToPay: form.totalToPay\r\n    }\r\n  },\r\n\r\n  schemaToForm: (bill: any): { form: ElectronicBillFormSchema, items: ItemComplete[], taxes: any[] } => {\r\n    return {\r\n      form: {\r\n        number: Number(bill.number),\r\n        date: moment(bill.date).format('YYYY-MM-DD'),\r\n        preview: bill.preview,\r\n        orderReference: bill.orderReference,\r\n        third: bill.third,\r\n        wayToPay: { code: bill.wayToPay.code, description: bill.wayToPay.description },\r\n        paymentMethod: { code: bill.paymentMethod.code, description: bill.paymentMethod.description },\r\n        paymentDueDate: moment(bill.paymentDueDate).format('YYYY-MM-DD'),\r\n        note: bill.note,\r\n        total: bill.total,\r\n        totalTaxes: bill.totalTaxes,\r\n        totalToPay: bill.totalToPay,\r\n        currentItemType: {\r\n          code: '',\r\n          description: ''\r\n        },\r\n        currentPrice: 0,\r\n        currentQuantity: 0,\r\n        selectedTax: {\r\n          code: '',\r\n          description: ''\r\n        },\r\n        currentPercentTax: 0\r\n      },\r\n      items: bill.items,\r\n      taxes: Utils.buildTaxesForElectronicBill(bill.items)\r\n    }\r\n  }\r\n}\r\n\r\nexport default electronicBillMapper\r\n","import axios from 'axios'\r\nimport { ElectronicBill, ElectronicBillFormSchema, ItemComplete } from '../../schemas/ElectronicBill'\r\nimport ElectronicBillMapper from '../../mappers/ElectronicBill/electronicBill.mapper'\r\n\r\nclass ElectronicBillService {\r\n  async saveBill(billData: ElectronicBill, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/bill/electronic`\r\n      const responseApi = await axios.post(url, billData, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getElectronicBills(token: string, params?: { limit: number, lastEvaluatedKey?: string }) : Promise<{ lastEvaluatedKey: string, electronicBills: ElectronicBillFormSchema[] }> {\r\n    try {\r\n      let url = params !== undefined ? `${process.env.REACT_APP_API}/api/v2/bill/electronic?limit=${params.limit}` : `${process.env.REACT_APP_API}/api/v2/bill/electronic`\r\n      \r\n      if (params !== undefined && params.lastEvaluatedKey !== undefined) url = `${url}&lastEvaluatedKey=${params.lastEvaluatedKey}`\r\n  \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        } \r\n      })\r\n\r\n      const bills = responseApi.data.bills.map((bill:any) => {\r\n        const parseBill = ElectronicBillMapper.schemaToForm(bill)\r\n        return parseBill.form\r\n      })\r\n\r\n      return {\r\n        lastEvaluatedKey: JSON.stringify(responseApi.data.lastEvaluatedKey),\r\n        electronicBills: bills\r\n      }\r\n\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getBillByNumber(token: string, number: number) : Promise<{ form: ElectronicBillFormSchema, items: ItemComplete[], taxes: any[] }> {\r\n    try {\r\n      let url = `${process.env.REACT_APP_API}/api/v2/bill/electronic/${number}`\r\n  \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        } \r\n      })\r\n\r\n      const bill = ElectronicBillMapper.schemaToForm(responseApi.data) \r\n\r\n      return bill\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default ElectronicBillService\r\n","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { IconButton } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n});\r\n\r\nconst texts = {\r\n  table: {\r\n    headers: {\r\n      code: 'Cdigo',\r\n      description: 'Descripcin',\r\n      price: 'Precio',\r\n      quantity: 'Cantidad',\r\n      delete: 'Eliminar'\r\n    }\r\n  }\r\n}\r\nexport default function ItemTable({ rows, handleTable, disabledForm }: { rows: Array<any>, handleTable: Function, disabledForm: boolean }) {\r\n\r\n  const classes = useStyles();\r\n  const [reload, setReload] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setReload(false)\r\n  }, [reload])\r\n\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table className={classes.table} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>{texts.table.headers.code}</TableCell>\r\n            <TableCell>{texts.table.headers.description}</TableCell>\r\n            <TableCell align=\"right\">{texts.table.headers.price}</TableCell>\r\n            <TableCell align=\"right\">{texts.table.headers.quantity}</TableCell>\r\n            <TableCell align=\"right\">{texts.table.headers.delete}</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {\r\n            rows.map((row, index) => (\r\n              <TableRow key={index}>\r\n                <TableCell component=\"th\" >{row.code}</TableCell>\r\n                <TableCell component=\"th\">{row.description}</TableCell>\r\n                <TableCell align=\"right\">{row.price}</TableCell>\r\n                <TableCell align=\"right\">{row.quantity}</TableCell>\r\n                <TableCell align=\"right\">\r\n                  <IconButton\r\n                    aria-label=\"delete\"\r\n                    onClick={() => handleTable('REMOVE', row)}\r\n                    disabled={disabledForm}\r\n                  >\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))\r\n          }\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n","import React, { useState } from 'react'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { Link, useHistory, useLocation } from 'react-router-dom'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Divider,\r\n  FormHelperText,\r\n  Grid,\r\n  IconButton,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Typography,\r\n  Button,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  Box,\r\n  CircularProgress,\r\n  InputAdornment\r\n} from '@material-ui/core'\r\nimport { Cancel, NoteAdd, Save, ArrowDropDown, ArrowDropUp } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport EntityContext from '../../../contexts/Entity'\r\nimport { EntityContextType } from '../../../schemas/Entity'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport { ElectronicBillFormSchema } from '../../../schemas/ElectronicBill'\r\nimport ElectronicBillService from '../../../services/ElectronicBill'\r\nimport Utils from '../../../utils'\r\nimport ItemTable from './ItemTable'\r\nimport ThirdService from '../../../services/Third'\r\nimport ElectronicBillMapper from '../../../mappers/ElectronicBill/electronicBill.mapper'\r\nimport ItemService from '../../../services/Item'\r\nimport PlemsiService from '../../../services/Plemsi'\r\nimport { urls } from '../../../urls'\r\n\r\n// -------------- Styles ---------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  thirdClassTitle: {\r\n    color: '#757575',\r\n    marginBottom: '6vh'\r\n  },\r\n  addButton: {\r\n    width: '100%',\r\n    height: '70%',\r\n    color: '#ffff',\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Facturacin electrnica'\r\n  },\r\n  body: {\r\n    field: {\r\n      date: {\r\n        name: 'date',\r\n        helperText: 'Fecha de facturacin',\r\n        placeholder: 'Fecha'\r\n      },\r\n      orderReference: {\r\n        name: 'orderReference',\r\n        helperText: 'Escriba la referencia de orden',\r\n        placeholder: 'Cdigo de orden'\r\n      },\r\n      third: {\r\n        name: 'third',\r\n        helperText: 'Escoja el tercero',\r\n        placeholder: 'Tercero'\r\n      },\r\n      wayToPay: {\r\n        name: 'wayToPay',\r\n        helperText: 'Escoja una forma de pago',\r\n        options: [\r\n          { description: 'Contado', code: '1' },\r\n          { description: 'Crdito', code: '2' },\r\n        ]\r\n      },\r\n      paymentMethod: {\r\n        name: 'paymentMethod',\r\n        helperText: 'Escoja una forma de pago',\r\n        options: [\r\n          { description: 'Cheque', code: '20' },\r\n          { description: 'Consignacin bancaria', code: '42' },\r\n          { description: 'Efectivo', code: '10' },\r\n          { description: 'Instrumento no definido', code: '1' },\r\n          { description: 'Pago y depsito pre acordado (PPD)', code: '34' },\r\n          { description: 'Tarjeta Crdito', code: '48' },\r\n          { description: 'Tarjeta Dbito', code: '49' },\r\n        ]\r\n      },\r\n      paymentDueDate: {\r\n        name: 'paymentDueDate',\r\n        helperText: 'Fecha de pago',\r\n        placeholder: 'AAAA/MM/DD'\r\n      },\r\n      note: {\r\n        name: 'note',\r\n        helperText: 'Nota para la factura',\r\n        placeholder: 'Nota para la factura'\r\n      },\r\n      item: {\r\n        name: 'currentItem',\r\n        helperText: 'Escoja el producto a facturar',\r\n        options: [\r\n          {\r\n            unitMeasure: { code: 12, description: 'Unidad' },\r\n            description: 'Producto de prueba',\r\n            code: '1',\r\n            price: 2500\r\n          }\r\n        ]\r\n      },\r\n      itemType: {\r\n        name: 'currentItemType',\r\n        helperText: 'Tipo de producto',\r\n        options: [\r\n          { description: 'UNSPSC', code: '1' },\r\n          { description: 'GTIN', code: '2' },\r\n          { description: 'Partida Arancelarias', code: '3' },\r\n          { description: 'Estndar de adopcin del contribuyente', code: '4' }\r\n        ]\r\n      },\r\n      price: {\r\n        name: 'currentPrice',\r\n        helperText: 'Precio sin impuestos',\r\n        placeholder: 'Precio'\r\n      },\r\n      quantity: {\r\n        name: 'currentQuantity',\r\n        helperText: 'Cantidad',\r\n        placeholder: 'Cantidad'\r\n      },\r\n      applyTaxes: {\r\n        name: 'applyTaxes',\r\n        helperText: 'Aplicar impuestos'\r\n      },\r\n      tax: {\r\n        name: 'selectedTax',\r\n        helperText: 'Escoja el impuesto',\r\n        options: [\r\n          { code: '1', description: 'IVA' },\r\n          { code: '4', description: 'Impuesto al consumo' }\r\n        ]\r\n      },\r\n      percent: {\r\n        name: 'currentPercentTax',\r\n        helperText: 'Porcentaje',\r\n        placeholder: '%',\r\n        options: [\r\n          { code: 0, description: '0%' },\r\n          { code: 5, description: '5%' },\r\n          { code: 8, description: '8%' },\r\n          { code: 19, description: '19%' },\r\n        ]\r\n      },\r\n      total: {\r\n        name: 'total',\r\n        helperText: 'Total sin impuestos',\r\n        placeholder: 'Total sin impuestos'\r\n      },\r\n      totalTaxes: {\r\n        name: 'totalTaxes',\r\n        helperText: 'Total de impuestos',\r\n        placeholder: 'Total de impuestos'\r\n      },\r\n      totalToPay: {\r\n        name: 'totalToPay',\r\n        helperText: 'Total final',\r\n        placeholder: 'Total'\r\n      }\r\n    },\r\n    subtitles: {\r\n      payment: 'Informacin acerca del pago',\r\n      itemsTable: 'Tabla de productos a facturar',\r\n      total: 'Informacin acerca de los totales de la factura'\r\n    },\r\n    buttons: {\r\n      addProduct: {\r\n        title: 'Agregar'\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  form: ElectronicBillFormSchema\r\n  applyTaxes: boolean\r\n  items: any[]\r\n  selectedItems: any[]\r\n  thirds: any[]\r\n  preview?: string\r\n  loading: boolean\r\n  disabledForm: boolean\r\n  status: boolean\r\n  thirdSelected?: string\r\n  suggestionsThirds: any[]\r\n}\r\n\r\nconst initState: State = {\r\n  form: {\r\n    date: '',\r\n    orderReference: '',\r\n    third: undefined,\r\n    wayToPay: { code: '', description: '' },\r\n    paymentMethod: { code: '', description: '' },\r\n    paymentDueDate: '',\r\n    note: '',\r\n    currentItem: undefined,\r\n    currentItemType: {\r\n      code: '',\r\n      description: ''\r\n    },\r\n    currentPrice: 0,\r\n    currentQuantity: 0,\r\n    total: 0,\r\n    totalTaxes: 0,\r\n    totalToPay: 0,\r\n    selectedTax: { code: '', description: '' },\r\n    currentPercentTax: 0\r\n  },\r\n  applyTaxes: false,\r\n  items: [],\r\n  selectedItems: [],\r\n  thirds: [],\r\n  preview: undefined,\r\n  loading: false,\r\n  disabledForm: false,\r\n  status: false,\r\n  thirdSelected: '',\r\n  suggestionsThirds: []\r\n}\r\n\r\nexport default function ElectronicBillForm() {\r\n\r\n  const classes = useStyles()\r\n  const { search } = useLocation()\r\n  const history = useHistory()\r\n\r\n  const [state, setState] = useState(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  const { entityContext } = React.useContext(\r\n    EntityContext\r\n  ) as EntityContextType\r\n\r\n  React.useEffect(() => {\r\n\r\n    async function loadData() {\r\n      try {\r\n        //Search bill on URL\r\n        const params = Utils.parseQueryString(search)\r\n        if (params.length > 0) {\r\n          let number = 0\r\n          let copy = false\r\n          let billPlemsi = undefined\r\n          let thirds = []\r\n          let items = []\r\n\r\n          params.forEach(param => {\r\n            if (param.number) {\r\n              number = Number(param.number)\r\n            }\r\n\r\n            if (param.copy) {\r\n              copy = true\r\n            }\r\n          })\r\n\r\n          setState({\r\n            ...state,\r\n            loading: true\r\n          })\r\n\r\n          const electronicBillService = new ElectronicBillService()\r\n          const bill = await electronicBillService.getBillByNumber(userContext.token ?? '', number)\r\n\r\n          if (!copy) {\r\n            const plemsiService = new PlemsiService()\r\n            billPlemsi = await plemsiService.getBill(entityContext.apiKeyPlemsi ?? '', bill.form.number ?? 0)\r\n            thirds = [...state.thirds, bill.form.third]\r\n            items = [...state.items, bill.items]\r\n          } else {\r\n            const thirdService = new ThirdService()\r\n            const itemService = new ItemService()\r\n            const thirdsRes = await thirdService.getThirds(userContext.token || '')\r\n            const itemsRes = await itemService.getItems(userContext.token || '')\r\n            thirds = thirdsRes.thirds\r\n            items = itemsRes.items\r\n          }\r\n\r\n          setState({\r\n            ...state,\r\n            form: bill.form,\r\n            thirdSelected: bill.form.third?.name !== undefined ? `${bill.form.third?.name} ${bill.form.third?.lastname}` : `${bill.form.third?.businessName}`,\r\n            thirds,\r\n            suggestionsThirds: thirds,\r\n            items,\r\n            selectedItems: bill.items,\r\n            loading: false,\r\n            disabledForm: !copy,\r\n            preview: billPlemsi\r\n          })\r\n\r\n        } else {\r\n          // Load service\r\n          const thirdService = new ThirdService()\r\n          const itemService = new ItemService()\r\n          const thirds = await thirdService.getThirds(userContext.token || '')\r\n          const items = await itemService.getItems(userContext.token || '')\r\n          setState({\r\n            ...state,\r\n            thirds: thirds.thirds,\r\n            suggestionsThirds: thirds.thirds,\r\n            items: items.items\r\n          })\r\n        }\r\n      } catch (error) {\r\n\r\n        setState({\r\n          ...state,\r\n          loading: false\r\n        })\r\n\r\n        if (axios.isAxiosError(error)) {\r\n          const serverError = error as AxiosError<ServerError>\r\n          if (serverError && serverError.response) {\r\n            return toast.error(serverError.response.data.message || error.toString())\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    loadData()\r\n  }, [])\r\n\r\n  const handleChangeSelectValue = (name: string, value: string | number) => {\r\n    setState({\r\n      ...state,\r\n      form: {\r\n        ...state.form,\r\n        [name]: value\r\n      }\r\n    })\r\n  }\r\n\r\n  // HandleChangeSelect is the handler to update the state\r\n  // of the state, while the user change the options \r\n  // on an input select.\r\n  const handleChangeSelect = (\r\n      name: string,\r\n      item: {\r\n        code: string,\r\n        description: string,\r\n        price?: number,\r\n        itemType?: any,\r\n        name?: string,\r\n        lastname?: string,\r\n        businessName?: string\r\n      }) => {\r\n    if (item.price && item.itemType) {\r\n      setState({\r\n        ...state,\r\n        form: {\r\n          ...state.form,\r\n          [name]: item,\r\n          currentPrice: item.price,\r\n          currentItemType: {\r\n            code: item.itemType.code,\r\n            description: item.itemType.description\r\n          }\r\n        }\r\n      })\r\n    } else if (name === texts.body.field.third.name) {\r\n      setState({\r\n        ...state,\r\n        form: {\r\n          ...state.form,\r\n          [name]: item\r\n        },\r\n        thirdSelected: item.name !== undefined ? `${item.name} ${item.lastname}` : `${item.businessName}`,\r\n        status: false\r\n      })\r\n    } else {\r\n      setState({\r\n        ...state,\r\n        form: {\r\n          ...state.form,\r\n          [name]: item\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user writes on an input.\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | {\r\n    name: string\r\n    value: unknown\r\n  }>) => {\r\n    const { name, value } = e.target\r\n    setState({\r\n      ...state,\r\n      form: {\r\n        ...state.form,\r\n        [name]: value\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleSuggestions = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { value } = e.target\r\n\r\n    const suggestionsThirds = state.thirds.filter(third => {\r\n      if (third.name?.toLowerCase().includes(value.toLowerCase())) {\r\n        return third\r\n      } else if (third.lastname?.toLowerCase().includes(value.toLowerCase())) {\r\n        return third\r\n      } else if (third.businessName?.toLowerCase().includes(value.toLowerCase())) {\r\n        return third\r\n      }\r\n    })\r\n\r\n    setState({\r\n      ...state,\r\n      thirdSelected: value,\r\n      suggestionsThirds,\r\n      status: value.length > 0 ? true : false\r\n    })\r\n  }\r\n\r\n  // HandleSubmit is the handler to verify and send\r\n  // the state to redux (redux send the info to backend)\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    setState({\r\n      ...state,\r\n      loading: true\r\n    })\r\n\r\n    try {\r\n      const res = ElectronicBillMapper.formToSchema(state.form, state.selectedItems)\r\n      const electronicBillService = new ElectronicBillService()\r\n      const plemsiService = new PlemsiService()\r\n      const bill = await electronicBillService.saveBill(res, userContext.token ?? '')\r\n      const billPlemsi = await plemsiService.getBill(bill.entityInformation.apikey, bill.entityInformation.number)\r\n      setState({\r\n        ...initState,\r\n        applyTaxes: false,\r\n        items: state.items,\r\n        selectedItems: [],\r\n        thirds: state.thirds,\r\n        preview: billPlemsi,\r\n        loading: false\r\n      })\r\n\r\n      history.push(urls.app.main.electronicBill.form)\r\n      return toast.success(`Factura creada con xito`)\r\n    } catch (error) {\r\n\r\n      setState({\r\n        ...state,\r\n        loading: false\r\n      })\r\n      \r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message || error.toString())\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // HandleTable is the handler to add and remove items\r\n  // from the concept table, it also adds or subtracts \r\n  // the value of the total receipt.\r\n  const handleTable = (func: string, selectedItem?: any) => {\r\n    if (func === 'ADD') {\r\n      const item = Utils.buildItem(state.form, state.applyTaxes)\r\n      const total = (state.form.total + item.total)\r\n      const totalTaxes = (state.form.totalTaxes + item.taxes[0].taxAmount)\r\n      const totalToPay = total + totalTaxes\r\n      const items = state.selectedItems\r\n      items.push(item)\r\n      setState({\r\n        ...state,\r\n        form: {\r\n          ...state.form,\r\n          total: total,\r\n          totalTaxes: totalTaxes,\r\n          totalToPay: totalToPay,\r\n          currentItemType: {\r\n            code: '',\r\n            description: ''\r\n          },\r\n          currentPrice: 0,\r\n          currentQuantity: 0,\r\n          selectedTax: { code: '', description: '' },\r\n          currentPercentTax: 0\r\n        },\r\n        applyTaxes: false,\r\n        selectedItems: items\r\n      })\r\n    }\r\n\r\n    if (func === 'REMOVE') {\r\n      const total = (state.form.total - selectedItem.total)\r\n      const totalTaxes = (state.form.totalTaxes - selectedItem.taxes[0].taxAmount)\r\n      const totalToPay = total + totalTaxes\r\n      const items = state.selectedItems.filter(item => item.code !== selectedItem.code)\r\n      setState({\r\n        ...state,\r\n        form: {\r\n          ...state.form,\r\n          total: total,\r\n          totalTaxes: totalTaxes,\r\n          totalToPay: totalToPay,\r\n        },\r\n        selectedItems: items\r\n      })\r\n    }\r\n  }\r\n\r\n  const onApplyTaxes = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { checked } = event.target\r\n    setState({\r\n      ...state,\r\n      applyTaxes: checked\r\n    })\r\n  }\r\n\r\n  const cancel = () => {\r\n    setState({\r\n      ...initState,\r\n      applyTaxes: false,\r\n      items: state.items,\r\n      selectedItems: [],\r\n      thirds: state.thirds,\r\n      preview: undefined,\r\n      loading: false\r\n    })\r\n  }\r\n\r\n  const onPreviewBill = () => {\r\n    // if the form is in view mode, it is not necessary to clear the preview\r\n    if (!state.disabledForm) {\r\n      setState({\r\n        ...state,\r\n        preview: undefined\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {/* ----- Header -----*/}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n\r\n      {/* ----- Body ------*/}\r\n      <form onSubmit={(e) => handleSubmit(e)}>\r\n        <Grid container spacing={3}>\r\n\r\n          {/* ----- Form: date ------*/}\r\n          <Grid item md={6} sm={6} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.date.name}\r\n              value={state.form.date}\r\n              variant='outlined'\r\n              type='date'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.date.helperText}\r\n              placeholder={texts.body.field.date.placeholder}\r\n              disabled={state.disabledForm}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: order reference ------*/}\r\n          <Grid item md={6} sm={6} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.orderReference.name}\r\n              value={state.form.orderReference}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.orderReference.helperText}\r\n              placeholder={texts.body.field.orderReference.placeholder}\r\n              disabled={state.disabledForm}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: third ------*/}\r\n          <Grid item md={12} sm={12} xs={12}>\r\n            <TextField \r\n              name=\"thirdSelected\"\r\n              value={state.thirdSelected}\r\n              autoComplete='off'\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              disabled={state.disabledForm}\r\n              onChange={handleSuggestions}\r\n              InputProps={{\r\n                endAdornment: <InputAdornment position=\"end\">\r\n                  <IconButton onClick={() => setState({...state, status: !state.status})}>\r\n                    {\r\n                      state.status ? \r\n                      (\r\n                        <ArrowDropUp fontSize={\"small\"} color=\"secondary\" />\r\n                      ) :\r\n                      (\r\n                        <ArrowDropDown fontSize={\"small\"} color=\"primary\" />\r\n                      )\r\n                    }\r\n                  </IconButton>\r\n                </InputAdornment>,\r\n              }}\r\n            />\r\n            {\r\n              state.status === true && (\r\n                <Box sx={{\r\n                  width: '100%',\r\n                  maxHeight: 100,\r\n                  display: 'relative',\r\n                  zIndex: 1,\r\n                  bgcolor: '#E1E1E1',\r\n                  overflow: 'auto'\r\n                }}>\r\n                  {\r\n                    state.suggestionsThirds.map((third) =>\r\n                      <MenuItem\r\n                        key={third.document}\r\n                        onClick={() => handleChangeSelect(texts.body.field.third.name, third)}\r\n                      >\r\n                        {third.name !== undefined ? `${third.name} ${third.lastname}` : `${third.businessName}`}\r\n                      </MenuItem>\r\n                    )\r\n                  }\r\n                </Box>\r\n              )\r\n            }\r\n            <FormHelperText>{texts.body.field.third.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: payment ------*/}\r\n\r\n          <Grid item md={4} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.wayToPay.name}\r\n              value={state.form.wayToPay.code}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              disabled={state.disabledForm}\r\n            >\r\n              {\r\n                texts.body.field.wayToPay.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.wayToPay.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.wayToPay.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: payment method ------*/}\r\n          <Grid item md={4} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.paymentMethod.name}\r\n              value={state.form.paymentMethod.code}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              disabled={state.disabledForm}\r\n            >\r\n              {\r\n                texts.body.field.paymentMethod.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.paymentMethod.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.paymentMethod.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: payment due date ------*/}\r\n          <Grid item md={4} sm={6} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.paymentDueDate.name}\r\n              value={state.form.paymentDueDate}\r\n              variant='outlined'\r\n              type='date'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.paymentDueDate.helperText}\r\n              placeholder={texts.body.field.paymentDueDate.placeholder}\r\n              disabled={state.disabledForm}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: note ------*/}\r\n\r\n          <Grid item md={12} sm={12} xs={12}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.note.name}\r\n              value={state.form.note}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.note.helperText}\r\n              placeholder={texts.body.field.note.placeholder}\r\n              disabled={state.disabledForm}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: item ------*/}\r\n\r\n          <Grid item md={12} sm={12} xs={12}>\r\n            <Typography\r\n              variant='h6'\r\n            >\r\n              {texts.body.subtitles.itemsTable}\r\n            </Typography>\r\n          </Grid>\r\n\r\n          <Grid item md={12} sm={12} xs={12}>\r\n            <Divider className={classes.divider} />\r\n          </Grid>\r\n\r\n          <Grid item md={8} sm={12} xs={12}>\r\n            <Select\r\n              name={texts.body.field.item.name}\r\n              value={state.form.currentItem?.code ?? ''}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              disabled={state.disabledForm}\r\n            >\r\n              {\r\n                state.items.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.item.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.item.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: item type ------*/}\r\n          <Grid item md={4} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.itemType.name}\r\n              value={state.form.currentItemType.code}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              disabled={state.disabledForm}\r\n            >\r\n              {\r\n                texts.body.field.itemType.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.itemType.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.itemType.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: price ------*/}\r\n          <Grid item md={8} sm={3} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.price.name}\r\n              value={state.form.currentPrice}\r\n              variant='outlined'\r\n              type='number'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.price.helperText}\r\n              placeholder={texts.body.field.price.placeholder}\r\n              disabled={state.disabledForm}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: quantity ------*/}\r\n          <Grid item md={4} sm={3} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.quantity.name}\r\n              value={state.form.currentQuantity}\r\n              variant='outlined'\r\n              type='number'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.quantity.helperText}\r\n              placeholder={texts.body.field.quantity.placeholder}\r\n              disabled={state.disabledForm}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item md={9} sm={6} xs={6}>\r\n            {/* ----- apply taxes check ------*/}\r\n            <FormControlLabel\r\n              control={<Checkbox checked={state.applyTaxes} name={texts.body.field.applyTaxes.name} value={state.applyTaxes} onChange={(e) => onApplyTaxes(e)} color=\"primary\" />}\r\n              label={texts.body.field.applyTaxes.helperText}\r\n              disabled={state.disabledForm}\r\n            />\r\n          </Grid>\r\n\r\n          {\r\n            state.applyTaxes ?\r\n              (\r\n                <React.Fragment>\r\n                  <Grid item md={6} sm={12} xs={12}>\r\n                    <Select\r\n                      name={texts.body.field.tax.name}\r\n                      value={state.form.selectedTax.code}\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                    >\r\n                      {\r\n                        texts.body.field.tax.options.map((item) =>\r\n                          <MenuItem\r\n                            key={item.description}\r\n                            value={item.code}\r\n                            onClick={() => handleChangeSelect(texts.body.field.tax.name, item)}\r\n                          >\r\n                            {item.description}\r\n                          </MenuItem>\r\n                        )\r\n                      }\r\n                    </Select>\r\n                    <FormHelperText>{texts.body.field.tax.helperText}</FormHelperText>\r\n                  </Grid>\r\n\r\n                  {/* ----- Form: percent ------*/}\r\n                  <Grid item md={3} sm={6} xs={10}>\r\n                    <Select\r\n                      name={texts.body.field.percent.name}\r\n                      value={state.form.currentPercentTax}\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                    >\r\n                      {\r\n                        texts.body.field.percent.options.map((item) =>\r\n                          <MenuItem\r\n                            key={item.description}\r\n                            value={item.code}\r\n                            onClick={() => handleChangeSelectValue(texts.body.field.percent.name, item.code)}\r\n                          >\r\n                            {item.description}\r\n                          </MenuItem>\r\n                        )\r\n                      }\r\n                    </Select>\r\n                    <FormHelperText>{texts.body.field.percent.helperText}</FormHelperText>\r\n                  </Grid>\r\n                </React.Fragment>\r\n              ) : ''\r\n          }\r\n\r\n          <Grid item md={3} sm={6} xs={12}>\r\n            <Button\r\n              variant=\"contained\"\r\n              type=\"button\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              onClick={() => handleTable(\"ADD\")}\r\n              className={classes.addButton}\r\n              startIcon={<Save />}\r\n              disabled={state.disabledForm}\r\n            >\r\n              {texts.body.buttons.addProduct.title}\r\n            </Button>\r\n          </Grid>\r\n\r\n          {/* ----- Form: item **concepts table rendering ------*/}\r\n          <Grid item md={12} sm={12} xs={12}>\r\n            <ItemTable rows={state.selectedItems} handleTable={handleTable} disabledForm={state.disabledForm} />\r\n          </Grid>\r\n\r\n          {/* ----- Form: total ------*/}\r\n          <Grid item md={4} sm={6} xs={10}>\r\n            <TextField\r\n              disabled={true}\r\n              name={texts.body.field.total.name}\r\n              value={state.form.total}\r\n              variant='outlined'\r\n              type='number'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.total.helperText}\r\n              placeholder={texts.body.field.total.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: total taxes ------*/}\r\n          <Grid item md={4} sm={6} xs={10}>\r\n            <TextField\r\n              disabled={true}\r\n              name={texts.body.field.totalTaxes.name}\r\n              value={state.form.totalTaxes}\r\n              variant='outlined'\r\n              type='number'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.totalTaxes.helperText}\r\n              placeholder={texts.body.field.totalTaxes.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: total to pay ------*/}\r\n          <Grid item md={4} sm={6} xs={10}>\r\n            <TextField\r\n              disabled={true}\r\n              name={texts.body.field.totalToPay.name}\r\n              value={state.form.totalToPay}\r\n              variant='outlined'\r\n              type='number'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.totalToPay.helperText}\r\n              placeholder={texts.body.field.totalToPay.placeholder}\r\n            />\r\n          </Grid>\r\n          {\r\n            !state.disabledForm ?\r\n            (\r\n              <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n                <IconButton\r\n                  type=\"submit\"\r\n                >\r\n                  <NoteAdd fontSize={\"large\"} color=\"primary\" />\r\n                </IconButton>\r\n\r\n                <IconButton\r\n                  type=\"button\"\r\n                  onClick={cancel}\r\n                >\r\n                  <Cancel fontSize={\"large\"} color=\"secondary\" />\r\n                </IconButton>\r\n              </Grid>\r\n            ) : ''\r\n          }\r\n          {\r\n            state.preview !== undefined ?\r\n              (\r\n                <Grid item md={12} sm={12} xs={12} className={classes.alignRight}>\r\n                  <Link to={{ pathname: state.preview }} target='_blank' onClick={onPreviewBill}>\r\n                    Descargue su factura\r\n                  </Link>\r\n                </Grid>\r\n              ) : ''\r\n          }\r\n        </Grid>\r\n      </form>\r\n      {\r\n        state.loading ?\r\n          (\r\n            <div className={classes.loadingContainer}>\r\n              <Box>\r\n                <CircularProgress />\r\n              </Box>\r\n            </div>\r\n          ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { \r\n    Card,\r\n    CardContent,\r\n    Divider,\r\n    makeStyles,\r\n    Theme,\r\n    Tooltip,\r\n    Typography \r\n} from \"@material-ui/core\";\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\r\n\r\n// ------------------- Styles ----------------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    card: {\r\n        width: '100%',\r\n        background: '#ffff',\r\n        height: '30vh'\r\n    },\r\n    cardBody: {\r\n        marginTop: '8vh',\r\n    },\r\n    cardPrefix: {\r\n        fontSize: '3vh'\r\n    },\r\n    cardPorcent: {\r\n        fontSize: '2vh'\r\n    }\r\n}));\r\n\r\n// ---------- Type for the info from props ----------\r\ntype data = {\r\n    title: string,\r\n    value: string,\r\n    prefix: string,\r\n    percent: {\r\n        value: number,\r\n        tooltip: string,\r\n        prefix: string\r\n    }\r\n}\r\n\r\nexport default function BalanceCard({ data }: {data: data}) {\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Card className={classes.card}>\r\n            <CardContent>\r\n                {/* -------------- Header ----------- */}\r\n                <Typography variant=\"subtitle2\">\r\n                    {data.title}\r\n                </Typography>\r\n                <Divider />\r\n                <Typography\r\n                variant={\r\n                    // if the value is too big this code reduces the font size\r\n                    data.value.length <= 9 ? \"h3\" : \"h4\"\r\n                }\r\n                color=\"primary\"\r\n                className={classes.cardBody}\r\n                >\r\n                    {data.value}\r\n                    <span className={classes.cardPrefix}>\r\n                        {data.prefix}\r\n                    </span>\r\n                </Typography>\r\n\r\n                {/*This section has the code for porcent respect previous month */}\r\n                <Tooltip title={data.percent.tooltip}>\r\n                    <Typography\r\n                        align=\"right\"\r\n                        variant=\"subtitle1\"\r\n                        color={\r\n                        // if the value is negative this code changes the font color\r\n                        data.percent.value >= 0\r\n                            ? \"primary\"\r\n                            : \"secondary\"\r\n                        }\r\n                    >\r\n                        {\r\n                        // if the value is negative this code changes the icon\r\n                        data.percent.value >= 0 ? (\r\n                            <ArrowUpwardIcon className={classes.cardPorcent} />\r\n                        ) : (\r\n                            <ArrowDownwardIcon className={classes.cardPorcent} />\r\n                        )\r\n                        }{\" \"}\r\n                        {data.percent.value}{\" \"}\r\n                        <span className={classes.cardPorcent}>\r\n                        {data.percent.prefix}\r\n                        </span>\r\n                    </Typography>\r\n                </Tooltip>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n}\r\n","import { makeStyles, Theme } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport {\r\n    BarChart,\r\n    Bar,\r\n    XAxis,\r\n    YAxis,\r\n    CartesianGrid,\r\n    Tooltip,\r\n    ResponsiveContainer\r\n} from \"recharts\";\r\n\r\n// this data is just as example // data for the graphic\r\nconst data = [\r\n    {\r\n        name: \"Enero\",\r\n        uv: 0,\r\n    },\r\n    {\r\n        name: \"Febrero\",\r\n        uv: 0,\r\n    },\r\n    {\r\n        name: \"Marzo\",\r\n        uv: 0,\r\n    },\r\n    {\r\n        name: \"Abril\",\r\n        uv: 0,\r\n    },\r\n    {\r\n        name: \"Mayo\",\r\n        uv: 0,\r\n    },\r\n    {\r\n        name: \"Junio\",\r\n        uv: 0,\r\n    }\r\n];\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        height: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    container: {\r\n        width: '90vh',\r\n        height: '27vh',\r\n    }\r\n}));\r\n\r\nexport default function LineGraphic() {\r\n\r\n    const classes = useStyles();\r\n    \r\n    return (\r\n        <div className={classes.root}>\r\n            <div className={classes.container}>\r\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                    <BarChart\r\n                    data={data}\r\n                    margin={{\r\n                        top: 5,\r\n                        right: 30,\r\n                        left: 20,\r\n                        bottom: 5\r\n                    }}\r\n                    >\r\n                        <CartesianGrid strokeDasharray=\"3 3\" />\r\n                        <XAxis dataKey=\"name\" />\r\n                        <YAxis />\r\n                        <Tooltip />\r\n                  \r\n                        <Bar dataKey=\"uv\" fill=\"#82ca9d\" />\r\n                    </BarChart>\r\n                </ResponsiveContainer>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { makeStyles, Theme } from '@material-ui/core/styles';\r\nimport { \r\n    Divider, \r\n    IconButton,\r\n    TextField, \r\n    Typography \r\n} from '@material-ui/core';\r\nimport { NoteAdd } from '@material-ui/icons';\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        height: 'auto'\r\n    },\r\n    form: {\r\n        marginTop: '5vh'\r\n    },\r\n    submitButton: {\r\n        textAlign: 'right'\r\n    }\r\n}));\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n    header: {\r\n        title: 'Reporte caja diario'\r\n    },\r\n    body: {\r\n        fields: {\r\n            from: {\r\n                name: 'date',\r\n                helperText: 'Fecha'\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// ------------- Init state -----------\r\nconst initState = {\r\n    date: new Date(),\r\n}\r\n\r\nexport default function DailyReportForm() {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [ form, setForm ] = useState(initState);\r\n\r\n    // HandleChange is the handler to update the state\r\n    // of the form, while the user writes on an input\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const {name, value} = e.target\r\n        setForm(prev => {\r\n            (prev as any)[name] = value\r\n            const newValue = {...prev}\r\n            return newValue\r\n        })\r\n    }\r\n\r\n    // HandleSubmit is the handler to verify and send\r\n    // the form to redux (redux send the info to backend)\r\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        console.log(form);\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <div>\r\n                <Typography\r\n                variant=\"subtitle2\"\r\n                color=\"inherit\"\r\n                >\r\n                    {texts.header.title}\r\n                </Typography>\r\n            </div>\r\n            \r\n            <Divider />\r\n\r\n            <form className={classes.form} onSubmit={(e) => handleSubmit(e)}>\r\n                <TextField\r\n                required={true}\r\n                name = {texts.body.fields.from.name}\r\n                value = {form.date}\r\n                fullWidth\r\n                type = 'date'\r\n                onChange = {handleChange}\r\n                helperText = {texts.body.fields.from.helperText}\r\n                />\r\n\r\n                <div className={classes.submitButton}>\r\n                    <IconButton\r\n                    type=\"submit\"\r\n                    className={classes.submitButton}\r\n                    >\r\n                        <NoteAdd fontSize={\"small\"} color=\"primary\"/>\r\n                    </IconButton>\r\n                </div>\r\n                \r\n            </form>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  Container,\r\n  Grid,\r\n  makeStyles,\r\n  Theme,\r\n  Typography\r\n} from '@material-ui/core'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport EntityContext from '../../../contexts/Entity'\r\nimport { EntityContextType } from '../../../schemas/Entity'\r\nimport BalanceCard from './Card/BalanceCard'\r\nimport LineGraphic from './Graphics/LineGraphic/LineGraphic'\r\nimport DailyReportForm from './DailyReport/DailyReportForm'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  container: {\r\n    marginTop: '10vh',\r\n    padding: '0'\r\n  },\r\n  gridCard: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center'\r\n  },\r\n  cardGraphic: {\r\n    width: '100%',\r\n    background: '#ffff',\r\n    height: '30vh'\r\n  },\r\n\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    title: 'Bienvenido',\r\n    user: 'Santiago Marin'\r\n  },\r\n  body: {\r\n    cards: {\r\n      cashBalance: {\r\n        title: 'Saldo de Caja',\r\n        value: '0.00',\r\n        prefix: '$',\r\n        percent: {\r\n          value: 0,\r\n          tooltip: 'Relacin en procentaje respecto a mes anterior',\r\n          prefix: '%'\r\n        }\r\n      },\r\n      bankBalance: {\r\n        title: 'Saldo de Banco',\r\n        value: '0.00',\r\n        prefix: '$',\r\n        percent: {\r\n          value: 0,\r\n          tooltip: 'Relacin en procentaje respecto a mes anterior',\r\n          prefix: '%'\r\n        }\r\n      },\r\n      percentBalance: {\r\n        title: 'Respecto mes anterior',\r\n        value: '0',\r\n        prefix: '%',\r\n        percent: {\r\n          value: 0,\r\n          tooltip: 'Relacin en procentaje respecto a ao anterior',\r\n          prefix: '%'\r\n        }\r\n      },\r\n      respectPreviousMonth: {\r\n        title: 'Respecto mes anterior',\r\n        value: 0,\r\n        prefix: '%'\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default function IndexApp() {\r\n\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  const { entityContext } = React.useContext(\r\n    EntityContext\r\n  ) as EntityContextType\r\n\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* -------------------- Header --------------- */}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant=\"h4\"\r\n        >\r\n          {texts.header.title}, <span>{userContext.name} {userContext.lastname}</span>\r\n        </Typography>\r\n        <Typography\r\n          variant=\"subtitle2\"\r\n        >\r\n          {entityContext.name}\r\n        </Typography>\r\n        <div>\r\n          <Typography\r\n            variant=\"caption\"\r\n          >\r\n            {entityContext.document}\r\n          </Typography>\r\n        </div>\r\n      </React.Fragment>\r\n\r\n      {/* -- Cards to show the values and percentages of the company --*/}\r\n      <React.Fragment>\r\n        <Container className={classes.container}>\r\n          <Grid container spacing={3}>\r\n\r\n            {/* --------------------- *Cash balance card ------------------ */}\r\n            <Grid item md={4} sm={6} xs={12} className={classes.gridCard}>\r\n              <BalanceCard data={texts.body.cards.cashBalance} />\r\n            </Grid>\r\n\r\n            {/* --------------------- *Bank balance card ------------------ */}\r\n            <Grid item md={4} sm={6} xs={12} className={classes.gridCard}>\r\n              <BalanceCard data={texts.body.cards.bankBalance} />\r\n            </Grid>\r\n\r\n            {/* -------------------- *Percent balance card ----------------- */}\r\n            <Grid item md={4} sm={6} xs={12} className={classes.gridCard}>\r\n              <BalanceCard data={texts.body.cards.percentBalance} />\r\n            </Grid>\r\n\r\n            {/* -------------------- *Graphic balance card ----------------- */}\r\n            <Grid item md={8} sm={12} xs={12} className={classes.gridCard}>\r\n              <Card className={classes.cardGraphic}>\r\n                <CardContent>\r\n                  <LineGraphic />\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n\r\n            {/* -------------------- *Daily report form card ----------------- */}\r\n            <Grid item md={4} sm={6} xs={12} className={classes.gridCard}>\r\n              <Card className={classes.cardGraphic}>\r\n                <CardContent>\r\n                  <DailyReportForm />\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      </React.Fragment>\r\n    </div>\r\n  )\r\n}\r\n","import React, { ReactElement } from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport UserContext from '../../contexts/User'\r\nimport { UserContextType } from '../../schemas/User'\r\nimport { urls } from '../../urls'\r\n\r\nexport default function ProtectRoute({ children, ...rest }: { children: ReactElement }) {\r\n\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={() =>\r\n        userContext.id ? children : <Redirect to={urls.page.login} />\r\n      }\r\n    />\r\n  )\r\n}","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Divider,\r\n  Grid,\r\n  IconButton,\r\n  Button,\r\n  Typography,\r\n  Box,\r\n  CircularProgress\r\n} from '@material-ui/core'\r\nimport { GridColDef } from '@material-ui/data-grid'\r\nimport { CloudDownload, Visibility, PostAdd } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport DataTable from '../DataTable/DataTable'\r\nimport { urls } from '../../../urls'\r\nimport ElectronicBillService from '../../../services/ElectronicBill'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  loadMoreButton: {\r\n    width: '25%',\r\n    height: '70%'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Lista de facturas emitidas'\r\n  },\r\n  body: {\r\n    buttonLoadMore: {\r\n      label: 'Cargar ms ...'\r\n    }\r\n  }\r\n}\r\n\r\nconst columns: GridColDef[] = [\r\n  {\r\n    field: 'number',\r\n    headerName: 'Factura',\r\n    width: 150,\r\n    editable: false,\r\n  },\r\n  {\r\n    field: 'date',\r\n    headerName: 'Fecha',\r\n    width: 200,\r\n    editable: false,\r\n  },\r\n  {\r\n    field: 'third',\r\n    headerName: 'Nombre',\r\n    editable: false,\r\n    width: 350,\r\n  },\r\n  {\r\n    field: 'note',\r\n    headerName: 'Descripcin',\r\n    editable: false,\r\n    width: 400,\r\n  },\r\n  {\r\n    field: 'actions',\r\n    headerName: 'Acciones',\r\n    width: 150,\r\n    type: 'actions',\r\n    renderCell: (params: any) => (\r\n      <ActionButtons params={params} />\r\n    )\r\n  }\r\n]\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  loadMoreButtonDisabled: boolean\r\n  lastEvaluatedKey?: string\r\n  electronicBills: any[]\r\n  loading: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  loadMoreButtonDisabled: false,\r\n  electronicBills: [],\r\n  loading: true\r\n}\r\n\r\nfunction ActionButtons(props: any) {\r\n\r\n  const history = useHistory()\r\n\r\n  const onView = () => {\r\n    history.push(`${urls.app.main.electronicBill.form}?number=${props.params.row.number ?? ''}`)\r\n  }\r\n\r\n  const onCopy = () => {\r\n    history.push(`${urls.app.main.electronicBill.form}?number=${props.params.row.number ?? ''}&copy=true`)\r\n  }\r\n\r\n  const onDownload = () => {\r\n    if (props.params.row.preview !== undefined) {\r\n      return window.open(props.params.row.preview, '_blank')\r\n    } else {\r\n      return toast.warn('Factura disponible ingresando a la visualizacin')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <IconButton\r\n        type=\"submit\"\r\n        onClick={() => onView()}\r\n      >\r\n        <Visibility fontSize={\"small\"} color=\"primary\" />\r\n      </IconButton>\r\n\r\n      <IconButton\r\n        type=\"submit\"\r\n        onClick={() => onCopy()}\r\n      >\r\n        <PostAdd fontSize={\"small\"} color=\"action\" />\r\n      </IconButton>\r\n\r\n      <IconButton\r\n        type=\"submit\"\r\n        onClick={() => onDownload()}\r\n      >\r\n        <CloudDownload fontSize={\"small\"} color=\"action\" />\r\n      </IconButton>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default function ElectronicBillList() {\r\n\r\n  const classes = useStyles()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n      const electronicBillService= new ElectronicBillService()\r\n      const response = await electronicBillService.getElectronicBills(userContext.token || '', { limit: 5 })\r\n      setState({\r\n        ...state,\r\n        electronicBills: response.electronicBills.map((bill: any) =>{\r\n          return {\r\n            ...bill,\r\n            third: bill.third.businessName !== undefined ? `${bill.third.businessName}` : `${bill.third.name} ${bill.third.lastname}`\r\n          }\r\n        }),\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true,\r\n        loading: false\r\n      })\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  const onLoadMore = async () => {\r\n    try {\r\n      const electronicBillService= new ElectronicBillService()\r\n      const response = await electronicBillService.getElectronicBills(userContext.token || '', { limit: 5, lastEvaluatedKey: state.lastEvaluatedKey })\r\n      const newBills = response.electronicBills.map((bill: any) =>{\r\n        return {\r\n          ...bill,\r\n          third: bill.third.businessName !== undefined ? `${bill.third.businessName}` : `${bill.third.name} ${bill.third.lastname}`\r\n        }\r\n      })\r\n      setState({\r\n        ...state,\r\n        electronicBills: state.electronicBills.concat(newBills),\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true\r\n      })\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ----- Header ------*/}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n      <Grid container spacing={3}>\r\n\r\n        {/* ----- Form: item thrid type ------*/}\r\n        <Grid item md={12} sm={12} xs={12}>\r\n          <DataTable rows={state.electronicBills} columns={columns} keyId='number' />\r\n        </Grid>\r\n\r\n        <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n          <Button\r\n            type=\"button\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            className={classes.loadMoreButton}\r\n            startIcon={<CloudDownload />}\r\n            disabled={state.loadMoreButtonDisabled}\r\n            onClick={() => onLoadMore()}\r\n          >\r\n            {texts.body.buttonLoadMore.label}\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n      {\r\n        state.loading ?\r\n        (\r\n          <div className={classes.loadingContainer}>\r\n            <Box>\r\n              <CircularProgress/>\r\n            </Box>\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Box,\r\n  CircularProgress,\r\n  Divider,\r\n  FormHelperText,\r\n  Grid,\r\n  IconButton,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Typography\r\n} from '@material-ui/core'\r\nimport { Cancel, NoteAdd } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport { urls } from '../../../urls'\r\nimport Utils from '../../../utils'\r\nimport CostCenterService from '../../../services/CostCenter'\r\nimport { CostCenter } from '../../../schemas/CostCenter'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  thirdClassTitle: {\r\n    color: '#757575',\r\n    marginBottom: '6vh'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Crear centro de costo'\r\n  },\r\n  body: {\r\n    field: {\r\n      code: {\r\n        name: 'code',\r\n        helperText: 'Cdigo',\r\n        placeholder: 'Cdigo de centro de costo'\r\n      },\r\n      description: {\r\n        name: 'description',\r\n        helperText: 'Escriba la descripcin del centro de costo',\r\n        placeholder: 'Nombre de centro de costo'\r\n      },\r\n      type: {\r\n        name: 'type',\r\n        helperText: 'Tipo de centro de costo',\r\n        options: [\r\n          { description: 'Concepto', code: 'CONCEPT' },\r\n          { description: 'Forma de pago', code: 'PAY' },\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  form: CostCenter,\r\n  isEdit: boolean\r\n  loading: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  form: {\r\n    code: '',\r\n    description: '',\r\n    type: {\r\n      code: '',\r\n      description: ''\r\n    }\r\n  },\r\n  isEdit: false,\r\n  loading: false\r\n}\r\n\r\nexport default function CostCenterForm() {\r\n\r\n  const classes = useStyles()\r\n  const { search } = useLocation()\r\n  const history = useHistory()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n      const code = Utils.getIdFromUrl(search)\r\n\r\n      if (code) {\r\n        setState({\r\n          ...state,\r\n          loading: true\r\n        })\r\n        const costCenterService = new CostCenterService()\r\n        const costCenter = await costCenterService.getCostCenterByCode(userContext.token ?? '', code)\r\n        if (costCenter) {\r\n          setState({\r\n            ...state,\r\n            form: costCenter,\r\n            loading: false,\r\n            isEdit: true\r\n          })\r\n        }\r\n      }\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user change the options \r\n  // on an input select.\r\n  const handleChangeSelect = (name: string, item: { code: string, description: string }) => {\r\n    setState({\r\n      ...state,\r\n      form: {\r\n        ...state.form,\r\n        [name]: item\r\n      }\r\n    })\r\n  }\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user writes on an input.\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target\r\n\r\n    setState({\r\n      ...state,\r\n      form: {\r\n        ...state.form,\r\n        [name]: value\r\n      }\r\n    })\r\n  }\r\n\r\n  // HandleSubmit is the handler to verify and send\r\n  // the state to redux (redux send the info to backend\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    try {\r\n      const costCenterService = new CostCenterService()\r\n      let costCenterCreated\r\n\r\n      if (state.isEdit) {\r\n        costCenterCreated = await costCenterService.updateCostCenter(state.form, userContext.token ?? '')\r\n      } else {\r\n        costCenterCreated = await costCenterService.saveCostCenter(state.form, userContext.token ?? '')\r\n      }\r\n\r\n      setState(initState)\r\n      history.push(urls.app.main.costCenter.form)\r\n      return toast.success(`El centro de costo ${costCenterCreated.code} fue ${state.isEdit ? 'actualizado' : 'creado'} con xito`)\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      } else if (error instanceof Error) {\r\n        return toast.error(error.message)\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  const cancel = () => {\r\n    setState(initState)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ----- Header -----*/}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n\r\n      {/* ----- Body ------*/}\r\n      <form onSubmit={(e) => handleSubmit(e)}>\r\n        <Grid container spacing={3}>\r\n\r\n          {/* ----- Form: account ------*/}\r\n          <Grid item md={6} sm={6} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.code.name}\r\n              value={state.form.code}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.code.helperText}\r\n              placeholder={texts.body.field.code.placeholder}\r\n              inputProps={{ maxLength: 10 }}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: description ------*/}\r\n          <Grid item md={6} sm={6} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.description.name}\r\n              value={state.form.description}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.description.helperText}\r\n              placeholder={texts.body.field.description.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: type ------*/}\r\n          <Grid item md={6} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.type.name}\r\n              value={state.form.type?.code ?? ''}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            >\r\n              {\r\n                texts.body.field.type.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.type.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.type.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n            <IconButton\r\n              type=\"submit\"\r\n            >\r\n              <NoteAdd fontSize={\"large\"} color=\"primary\" />\r\n            </IconButton>\r\n\r\n            <IconButton\r\n              type=\"button\"\r\n              onClick={cancel}\r\n            >\r\n              <Cancel fontSize={\"large\"} color=\"secondary\" />\r\n            </IconButton>\r\n          </Grid>\r\n\r\n        </Grid>\r\n      </form>\r\n      {\r\n        state.loading ?\r\n        (\r\n          <div className={classes.loadingContainer}>\r\n            <Box>\r\n              <CircularProgress/>\r\n            </Box>\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Divider,\r\n  Grid,\r\n  IconButton,\r\n  Button,\r\n  Typography,\r\n  Box,\r\n  CircularProgress\r\n} from '@material-ui/core'\r\nimport { GridCellEditCommitParams, GridColDef } from '@material-ui/data-grid'\r\nimport { CloudDownload, Edit } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport DataTable from '../DataTable/DataTable'\r\nimport { urls } from '../../../urls'\r\nimport CostCenterService from '../../../services/CostCenter'\r\nimport { CostCenter } from '../../../schemas/CostCenter'\r\nimport permissions from '../../../permissions.json'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  loadMoreButton: {\r\n    width: '25%',\r\n    height: '70%'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Lista de centros de costos'\r\n  },\r\n  body: {\r\n    buttonLoadMore: {\r\n      label: 'Cargar ms ...'\r\n    }\r\n  }\r\n}\r\n\r\nconst columns: GridColDef[] = [\r\n  {\r\n    field: 'code',\r\n    headerName: 'Cdigo',\r\n    flex: 1,\r\n    editable: false,\r\n  },\r\n  {\r\n    field: 'description',\r\n    headerName: 'Centro de costo',\r\n    editable: true,\r\n    flex: 2\r\n  },\r\n  {\r\n    field: 'typeDescription',\r\n    headerName: 'Tipo',\r\n    editable: false,\r\n    flex: 1\r\n  },\r\n  {\r\n    field: 'actions',\r\n    headerName: 'Acciones',\r\n    flex: 1,\r\n    type: 'actions',\r\n    renderCell: (params: any) => (\r\n      <ActionButtons params={params} />\r\n    )\r\n  }\r\n]\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  loadMoreButtonDisabled: boolean\r\n  lastEvaluatedKey?: string\r\n  costCenters: any[]\r\n  loading: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  loadMoreButtonDisabled: false,\r\n  costCenters: [],\r\n  loading: true\r\n}\r\n\r\nfunction ActionButtons(props: any) {\r\n  const [editPermission, setEditPermission] = useState<boolean>(false)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n  const history = useHistory()\r\n\r\n  const onEdit = () => {\r\n    history.push(`${urls.app.main.costCenter.form}?code=${props.params.row.code ?? ''}`)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setEditPermission(userContext.permissions.some(permission => permission === permissions.cost_center.update))\r\n  }, [userContext])\r\n\r\n  return (\r\n    <IconButton\r\n      type=\"submit\"\r\n      onClick={() => onEdit()}\r\n      disabled={!editPermission}\r\n    >\r\n      <Edit fontSize={\"small\"} color={editPermission ? \"primary\" : \"inherit\"} />\r\n    </IconButton>\r\n  )\r\n}\r\n\r\nexport default function CostCenterList() {\r\n\r\n  const classes = useStyles()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n      const costCenterService = new CostCenterService()\r\n      const response = await costCenterService.getCostCenters(userContext.token || '', { limit: 5 })\r\n      const responseParsed = response.costCenters.map((costCenter: CostCenter) => {\r\n        return {\r\n          ...costCenter,\r\n          typeDescription: costCenter.type.description\r\n        }\r\n      })\r\n      setState({\r\n        ...state,\r\n        costCenters: responseParsed,\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true,\r\n        loading: false\r\n      })\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  const onLoadMore = async () => {\r\n    try {\r\n      const costCenterService = new CostCenterService()\r\n      const response = await costCenterService.getCostCenters(userContext.token || '', { limit: 5, lastEvaluatedKey: state.lastEvaluatedKey })\r\n      const responseParsed = response.costCenters.map((costCenter: CostCenter) => {\r\n        return {\r\n          ...costCenter,\r\n          typeDescription: costCenter.type.description\r\n        }\r\n      })\r\n      setState({\r\n        ...state,\r\n        costCenters: state.costCenters.concat(responseParsed),\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true\r\n      })\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const gridEdit = async (params: GridCellEditCommitParams) => {\r\n\r\n    let costCenterToEdit: any = {}\r\n\r\n    const selectedCostCenter = state.costCenters.find(costCenter => costCenter.code === params.id)\r\n    if (selectedCostCenter !== undefined) {\r\n      costCenterToEdit = {\r\n        ...selectedCostCenter,\r\n        [params.field]: params.value\r\n      }\r\n    } else {\r\n      return\r\n    }\r\n\r\n    try {\r\n      const costCenterService = new CostCenterService()\r\n      const costCenterUpdated = await costCenterService.updateCostCenter(costCenterToEdit, userContext.token ?? '')\r\n\r\n      return toast.success(`El centro de costo ${costCenterUpdated.code} fue editado con xito`)\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ----- Header ------*/}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n      <Grid container spacing={3}>\r\n\r\n        {/* ----- Form: item thrid type ------*/}\r\n        <Grid item md={12} sm={12} xs={12}>\r\n          <DataTable rows={state.costCenters} columns={columns} keyId='code' gridEdit={gridEdit} />\r\n        </Grid>\r\n\r\n        <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n          <Button\r\n            type=\"button\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            className={classes.loadMoreButton}\r\n            startIcon={<CloudDownload />}\r\n            disabled={state.loadMoreButtonDisabled}\r\n            onClick={() => onLoadMore()}\r\n          >\r\n            {texts.body.buttonLoadMore.label}\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n      {\r\n        state.loading ?\r\n        (\r\n          <div className={classes.loadingContainer}>\r\n            <Box>\r\n              <CircularProgress/>\r\n            </Box>\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { urls } from '../../../urls';\r\nimport MainMenu from '../MainMenu/MainMenu';\r\nimport AppBarComponent from '../AppBar/AppBarComponent';\r\nimport ReceiptForm from '../Receipt/ReceiptForm';\r\nimport ReceiptList from '../Receipt/ReceiptList';\r\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\r\nimport { CssBaseline } from '@material-ui/core';\r\nimport AccountForm from '../Account/AccountForm';\r\nimport AccountList from '../Account/AccountList';\r\nimport ThirdForm from '../Third/ThirdForm';\r\nimport ThirdList from '../Third/ThirdList';\r\nimport ThirdMigration from '../Third/ThirdMigration';\r\nimport ConceptForm from '../Concept/ConceptForm';\r\nimport ConceptList from '../Concept/ConceptList';\r\nimport InternalTransactionForm from '../InternalTransaction/InternalTransactionForm';\r\nimport CashReceiptReport from '../Receipt/CashReceiptReport';\r\nimport InternalTransactionReport from '../InternalTransaction/InternalTransactionReport';\r\nimport ItemForm from '../Item/ItemForm';\r\nimport ItemList from '../Item/ItemList';\r\nimport ElectronicBillForm from '../ElectronicBill/ElectronicBillForm';\r\nimport IndexApp from '../Index/IndexApp';\r\nimport ProtectRoute from '../../ComponentsForProtectRoutes/ProtectRoute';\r\nimport ElectronicBillList from '../ElectronicBill/ElectronicBillList';\r\nimport CostCenterForm from '../CostCenter/CostCenterForm';\r\nimport CostCenterList from '../CostCenter/CostCenterList';\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root:{\r\n        minHeight: '100vh',\r\n        background: '#fafafa',\r\n    },\r\n    body: {\r\n        display: 'flex'\r\n    },\r\n    main: {\r\n        flexGrow: 1,\r\n    }\r\n  }),\r\n);\r\n\r\nexport default function ContainerApp() {\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <CssBaseline/>\r\n            <div className={classes.body}>\r\n\r\n                <div>\r\n                    <MainMenu/>\r\n                </div>\r\n\r\n                <div className={classes.main}>\r\n\r\n                    <AppBarComponent />\r\n\r\n                    {\r\n                        // This proyect uses the url.sts file to manage the urls\r\n                    }\r\n                    <Switch>\r\n                        <Route path={urls.app.main.home}>\r\n                            <ProtectRoute>\r\n                                <IndexApp />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.account.form}>\r\n                            <ProtectRoute>\r\n                                <AccountForm />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.account.list}>\r\n                            <ProtectRoute>\r\n                                <AccountList />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.third.form}>\r\n                            <ProtectRoute>\r\n                                <ThirdForm />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.third.list}>\r\n                            <ProtectRoute>\r\n                                <ThirdList />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.third.thirdMigrationForm}>\r\n                            <ProtectRoute>\r\n                                <ThirdMigration />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.concept.form}>\r\n                            <ProtectRoute>\r\n                                <ConceptForm />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.concept.list}>\r\n                            <ProtectRoute>\r\n                                <ConceptList />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.costCenter.form}>\r\n                            <ProtectRoute>\r\n                                <CostCenterForm />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.costCenter.list}>\r\n                            <ProtectRoute>\r\n                                <CostCenterList />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.item.form}>\r\n                            <ProtectRoute>\r\n                                <ItemForm/>\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.item.list}>\r\n                            <ProtectRoute>\r\n                                <ItemList/>\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.receipt.form}>\r\n                            <ProtectRoute>\r\n                                <ReceiptForm/>\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.receipt.list}>\r\n                            <ProtectRoute>\r\n                                <ReceiptList/>\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.electronicBill.form}>\r\n                            <ProtectRoute>\r\n                                <ElectronicBillForm />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.electronicBill.list}>\r\n                            <ProtectRoute>\r\n                                <ElectronicBillList />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.receipt.report}>\r\n                            <ProtectRoute>\r\n                                <CashReceiptReport />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.internalTransaction.form}>\r\n                            <ProtectRoute>\r\n                                <InternalTransactionForm />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.internalTransaction.report}>\r\n                            <ProtectRoute>\r\n                                <InternalTransactionReport />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import axios from 'axios'\r\nimport jwt from 'jwt-decode'\r\nimport Cookies from 'js-cookie'\r\nimport entityMapper from '../../mappers/Entity/entity.mapper'\r\nimport userMapper from '../../mappers/User/user.mapper'\r\nimport { User } from '../../schemas/User'\r\n\r\ntype jwtDecode = {\r\n  data: any\r\n}\r\n\r\nclass UserService {\r\n\r\n  async login(email: string, password: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/login`\r\n      const responseApi = await axios.post(url, { email, password })\r\n      const response = responseApi.data\r\n      if (!response.token) throw new Error('No recuper token')\r\n      const tokenData = jwt<jwtDecode>(response.token)\r\n      const userData = tokenData.data.user\r\n      const entityData = tokenData.data.entity\r\n      userData.token = response.token\r\n      const user = userMapper(userData)\r\n      const entity = entityMapper(entityData)\r\n      Cookies.set('auth', response.token)\r\n\r\n      return {\r\n        user,\r\n        entity\r\n      }\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getUsers(token: string) {\r\n\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/user`\r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: token\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async saveUser(userData: User, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/user`\r\n      const responseApi = await axios.post(url, userData, {\r\n        headers: {\r\n          authorization: token\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default UserService\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport EntityContext from '../../../contexts/Entity'\r\nimport { EntityContextType } from '../../../schemas/Entity'\r\nimport UserService from '../../../services/User/index'\r\nimport { urls } from '../../../urls'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Button from '@material-ui/core/Button'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport Link from '@material-ui/core/Link'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport Container from '@material-ui/core/Container'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: '#fafafa',\r\n  },\r\n  state: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    title: 'Inicia sesin',\r\n    logo: {\r\n      path: '/images/logotipo-crecer-dmc.svg',\r\n      alt: 'logotipo de crecer dmc'\r\n    }\r\n  },\r\n  state: {\r\n    field: {\r\n      email: {\r\n        name: 'email',\r\n        label: 'Correo'\r\n      },\r\n      password: {\r\n        name: 'password',\r\n        label: 'Contrasea'\r\n      },\r\n      rememberCheck: {\r\n        value: 'remember',\r\n        label: 'Recordarme'\r\n      },\r\n      signinButton: {\r\n        title: 'Entrar'\r\n      }\r\n    },\r\n    footer: {\r\n      forgotPasswordLink: 'Olvidaste tu contrasea?',\r\n      createAccountLink: 'An no tienes un usuario?',\r\n      copyright: 'CRECER DMC'\r\n    }\r\n  }\r\n}\r\n\r\n// ------------- Init state -----------\r\ninterface LoginForm {\r\n  email: string\r\n  password: string\r\n}\r\n\r\nconst initState: LoginForm = {\r\n  email: '',\r\n  password: ''\r\n}\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        {texts.state.footer.copyright}\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  )\r\n}\r\n\r\nexport default function SignIn() {\r\n\r\n  const { userContext, setUserContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  const { setEntityContext } = React.useContext(\r\n    EntityContext\r\n  ) as EntityContextType\r\n\r\n  const history = useHistory()\r\n  const classes = useStyles()\r\n  const [state, setState] = useState<LoginForm>(initState)\r\n\r\n\r\n  React.useEffect(() => {\r\n    if (userContext?.id) {\r\n      history.push(urls.app.main.home)\r\n    }\r\n  }, [])\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user writes on an input.\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target\r\n    setState({\r\n      ...state,\r\n      [name]: value\r\n    })\r\n  }\r\n\r\n  // HandleSubmit is the handler to verify and send\r\n  // the state to redux (redux send the info to backend)\r\n  async function onLogin(e: React.FormEvent<HTMLFormElement>) {\r\n    e.preventDefault()\r\n    try {\r\n      const userService = new UserService()\r\n      const data = await userService.login(state.email, state.password)\r\n      if (data) {\r\n        setUserContext(data.user)\r\n        setEntityContext(data.entity)\r\n      }\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n    history.push(urls.app.main.home)\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n\r\n        {/* ------- *Header --------- */}\r\n        <Avatar className={classes.avatar}>\r\n          <img\r\n            src={texts.header.logo.path}\r\n            alt={texts.header.logo.alt}\r\n          />\r\n        </Avatar>\r\n\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          {texts.header.title}\r\n        </Typography>\r\n\r\n        {/* ------- *Body ----------- */}\r\n        <form className={classes.state} onSubmit={onLogin} noValidate>\r\n\r\n          {/* ----- Form: item **email ------*/}\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            onChange={handleChange}\r\n            value={state.email}\r\n            id={texts.state.field.email.name}\r\n            label={texts.state.field.email.label}\r\n            name={texts.state.field.email.name}\r\n            autoFocus\r\n          />\r\n\r\n          {/* ----- Form: item **password ------*/}\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            value={state.password}\r\n            onChange={handleChange}\r\n            name={texts.state.field.password.name}\r\n            label={texts.state.field.password.label}\r\n            type=\"password\"\r\n            id={texts.state.field.password.name}\r\n            autoComplete=\"current-password\"\r\n          />\r\n\r\n          {/* ----- Form: item **remember check ------*/}\r\n          <FormControlLabel\r\n            control={<Checkbox value={texts.state.field.rememberCheck.value} color=\"primary\" />}\r\n            label={texts.state.field.rememberCheck.label}\r\n          />\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            {texts.state.field.signinButton.title}\r\n          </Button>\r\n\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                {texts.state.footer.forgotPasswordLink}\r\n              </Link>\r\n            </Grid>\r\n\r\n            <Grid item>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                {texts.state.footer.createAccountLink}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n\r\n    </Container>\r\n  )\r\n}","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { urls } from '../../../urls';\r\nimport { CssBaseline } from '@material-ui/core';\r\nimport Login from '../Login/Login';\r\n\r\nexport default function ContainerApp() {\r\n\r\n    return (\r\n        <div>\r\n            <CssBaseline/>\r\n            <div>\r\n                <div>\r\n                    {\r\n                        // This proyect uses the url.sts file to manage the urls\r\n                    }\r\n                    <Switch>\r\n                        <Route exact path={urls.page.home} >\r\n                            {/* here will be the home component */}\r\n                            <h1>Home</h1>\r\n                        </Route>\r\n                        <Route path={urls.page.login}>\r\n                            <Login />\r\n                        </Route>\r\n                    </Switch>\r\n              \r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport GlobalProvider from './contexts'\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\nimport { ToastContainer } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport theme from './theme'\r\nimport ContainerApp from './components/ComponentsForApp/ContainerApp/ContainerApp';\r\nimport { urls } from './urls';\r\nimport ContainerPage from './components/ComponentsForPage/ContainerPage/ContainerPage';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <MuiThemeProvider theme={theme}>\r\n      <GlobalProvider>\r\n        {\r\n          // This proyect uses the url.sts file to manage the urls\r\n        }\r\n\r\n        <Router>\r\n          <Switch>\r\n            {\r\n              // the page container has all the components\r\n              // that are part of Crecers single page\r\n            }\r\n            <Route path={urls.page.home}>\r\n              <ContainerPage />\r\n            </Route>\r\n\r\n            {\r\n              // the app container has all the components\r\n              // that are part of Crecer App\r\n            }\r\n            <Route path={urls.app.index}>\r\n              <ContainerApp />\r\n            </Route>\r\n          </Switch>\r\n        </Router>\r\n        <ToastContainer/>\r\n      </GlobalProvider>\r\n    </MuiThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}