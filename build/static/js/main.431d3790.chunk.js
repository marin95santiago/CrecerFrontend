(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{24:function(e){e.exports=JSON.parse('{"super_admin":"super_admin","home":{"view":"home_view"},"third":{"view":"third_view","create":"third_create","update":"third_update","delete":"third_delete","migrate":"third_migrate"},"movement_receipt":{"view":"movement_receipt_view","create":"movement_receipt_create","update":"movement_receipt_update","delete":"movement_receipt_delete"},"movement_internal":{"view":"movement_internal_view","create":"movement_internal_create","update":"movement_internal_update","delete":"movement_internal_delete"},"item":{"view":"item_view","create":"item_create","update":"item_update","delete":"item_delete"},"electronic_bill":{"view":"electronic_bill_view","create":"electronic_bill_create"},"concept":{"view":"concept_view","create":"concept_create","update":"concept_update"},"cost_center":{"view":"cost_center_view","create":"cost_center_create","update":"cost_center_update"},"account":{"view":"account_view","create":"account_create","update":"account_update"},"receipt":{"view":"receipt_view","create":"receipt_create","update":"receipt_update"}}')},356:function(e,t,a){},512:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(30),c=a.n(i),o=(a(356),a(40)),s=a(44),l=a(9),d=a(13),u=a(49),p=a(3),b=a(128),m=a.n(b),h=a(145);function j(e){var t,a,n,r,i,c,o,s,l;return{id:null!==(t=e.id)&&void 0!==t?t:"",email:null!==(a=e.email)&&void 0!==a?a:"",password:null!==(n=e.password)&&void 0!==n?n:"",name:null!==(r=e.name)&&void 0!==r?r:"",lastname:null!==(i=e.lastname)&&void 0!==i?i:"",entityId:null!==(c=e.entityId)&&void 0!==c?c:"",state:null!==(o=e.state)&&void 0!==o?o:"",permissions:null!==(s=e.permissions)&&void 0!==s?s:[""],token:null!==(l=e.token)&&void 0!==l?l:""}}function f(e){var t,a,n,r,i,c,o,s,l,d,u;return{id:null!==(t=e.id)&&void 0!==t?t:"",name:null!==(a=e.name)&&void 0!==a?a:"",entityTypeCode:null!==(n=e.entityTypeCode)&&void 0!==n?n:"",document:null!==(r=e.document)&&void 0!==r?r:"",signatories:e.signatories?O(e.signatories):void 0,address:e.address?v(e.address):void 0,email:null!==(i=e.email)&&void 0!==i?i:"",phone:null!==(c=e.phone)&&void 0!==c?c:"",apiKeyPlemsi:null!==(o=e.apiKeyPlemsi)&&void 0!==o?o:"",state:null!==(s=e.state)&&void 0!==s?s:"",resolution:null!==(l=e.resolution)&&void 0!==l?l:"",resolutionText:null!==(d=e.resolutionText)&&void 0!==d?d:"",lastElectronicBillNumber:null!==(u=e.lastElectronicBillNumber)&&void 0!==u?u:0,receiptNumbers:e.receiptNumbers?x(e.receiptNumbers):void 0}}function x(e){return e.map((function(e){var t,a;return{prefix:null!==(t=e.prefix)&&void 0!==t?t:"",lastReceiptNumber:null!==(a=Number(e.lastReceiptNumber))&&void 0!==a?a:0}}))}function v(e){var t,a,n;return{description:null!==(t=e.description)&&void 0!==t?t:"",city:{code:null!==(a=e.city.code)&&void 0!==a?a:"",description:null!==(n=e.city.description)&&void 0!==n?n:""}}}function O(e){return e.map((function(e){var t,a,n,r,i;return{name:null!==(t=e.name)&&void 0!==t?t:"",lastname:null!==(a=e.lastname)&&void 0!==a?a:"",document:null!==(n=e.document)&&void 0!==n?n:"",documentType:{code:null!==(r=e.documentType.code)&&void 0!==r?r:"",description:null!==(i=e.documentType.description)&&void 0!==i?i:""}}}))}var y={getUserByCookieAuth:function(){var e=m.a.get("auth");if(void 0!==e){var t=j(Object(h.a)(e).data.user);return t.token=e,t}},getEntityByCookieAuth:function(){var e=m.a.get("auth");if(void 0!==e)return f(Object(h.a)(e).data.entity)},removeCookieAuth:function(){m.a.remove("auth")},buildItem:function(e,t){var a={code:"",description:"",percent:0,taxAmount:0,taxableAmount:0};return a=t?Object(p.a)(Object(p.a)({},e.selectedTax),{},{percent:e.currentPercentTax,taxAmount:e.currentQuantity*e.currentPrice*e.currentPercentTax/100,taxableAmount:e.currentQuantity*e.currentPrice}):{code:"1",description:"Iva",percent:0,taxAmount:0,taxableAmount:e.currentQuantity*e.currentPrice},Object(p.a)(Object(p.a)({},e.currentItem),{},{itemType:e.currentItemType,price:e.currentPrice,quantity:e.currentQuantity,total:e.currentQuantity*e.currentPrice,taxes:[a]})},buildTaxesForElectronicBill:function(e){var t=[];return e.forEach((function(e){t=t.concat(e.taxes)})),t},getIdFromUrl:function(e){if(void 0!==e){var t=e.match(/=\s*(\d+)/);return t?t[1]:void 0}},parseQueryString:function(e){var t=e.split("?")[1];if(!t)return[];var a,n=t.split("&"),r=[],i=Object(u.a)(n);try{for(i.s();!(a=i.n()).done;){var c=a.value.split("="),o=Object(l.a)(c,2),s=o[0],p=o[1];r.push(Object(d.a)({},s,decodeURIComponent(p)))}}catch(b){i.e(b)}finally{i.f()}return r}},g=a(1),C=Object(n.createContext)({}),T={id:"",email:"",name:"",lastname:"",entityId:"",state:"",permissions:[""]};function w(e){var t=e.children,a=y.getUserByCookieAuth(),r=Object(n.useState)(null!==a&&void 0!==a?a:T),i=Object(l.a)(r,2),c=i[0],o=i[1];return Object(g.jsx)(C.Provider,{value:{userContext:c,setUserContext:o},children:t})}var k=C,E=Object(n.createContext)({}),N={id:"",name:"",entityTypeCode:"",document:"",signatories:void 0,address:void 0,email:void 0,phone:void 0,apiKeyPlemsi:void 0,state:"",resolution:void 0,resolutionText:void 0,lastElectronicBillNumber:void 0};function B(e){var t=e.children,a=y.getEntityByCookieAuth(),r=Object(n.useState)(null!==a&&void 0!==a?a:N),i=Object(l.a)(r,2),c=i[0],o=i[1];return Object(g.jsx)(E.Provider,{value:{entityContext:c,setEntityContext:o},children:t})}var A=E;function M(e){return Object(g.jsx)(B,{children:Object(g.jsx)(w,{children:e.children})})}var F=a(598),D=a(16),S=(a(358),a(107)),I=a(559),L=a(560),z=Object(S.a)({palette:{primary:{main:I.a[400]},secondary:{main:L.a.A400}}}),P={home:"/page",login:"/page/login"},R={index:"/app",main:{home:"/app/home",third:{form:"/app/third/form",thirdMigrationForm:"/app/third/migration/form",list:"/app/third/list"},account:{form:"/app/account/form",list:"/app/account/list"},concept:{form:"/app/concept/form",list:"/app/concept/list"},costCenter:{form:"/app/cost-center/form",list:"/app/cost-center/list"},receipt:{form:"/app/receipt/form",list:"/app/receipt/list",report:"/app/cash-receipt/report"},electronicBill:{form:"/app/electronic-bill/form",list:"/app/electronic-bill/list"},internalTransaction:{form:"/app/internal-transaction/form",report:"/app/internal-transaction/report"},item:{form:"/app/item/form",list:"/app/item/list"}}},W=a(577),K=a(241),_=a(281),q=a(514),V=a(515),G=a(516),U=a(579),H=a(578),Y=a(563),J=a(564),Q=a(565),$=a(566),X=a(567),Z=a(568),ee=a(569),te=a(570),ae=a(571),ne=a(572),re=a(573),ie=a(574),ce=a(575),oe=a(576),se=a(580),le=a(581),de=a(115),ue=a(582),pe=a(24),be=Object(K.a)((function(e){return Object(_.a)({root:{minHeight:"100vh",width:"320px",backgroundColor:"#263238",position:"fixed"},rootResponsive:{minHeight:"100%",maxWidth:"60px",backgroundColor:"#263238",position:"fixed"},fixed:{minHeight:"100vh",width:"320px"},fixedResponsive:{minHeight:"100vh",width:"60px"},hidden:{display:"none"},textPrimary:{color:"#ffff",fontSize:"1rem"},icon:{color:"#ffff",width:"1rem"},menuTitle:{color:"#ffff",fontWeight:"bolder",fontSize:"1.6rem",textAlign:"center"},secondaryMenuTitle:{color:"#29b6f6",fontSize:"1.3rem"},logo:{width:"1.8rem"},nestedList:{background:"#455a64"},nested:{paddingLeft:e.spacing(4)}})})),me={selected:"",menu:{itemHeader:{title:{main:"Crecer",secondary:"DMC"},logo:{path:"/images/logotipo-crecer-dmc.svg",alt:"logotipo de crecer dmc"}},items:[{id:"001",title:"Inicio",icon:Object(g.jsx)(Y.a,{}),permission:pe.home.view,url:R.main.home},{id:"002",title:"Formas de pago",icon:Object(g.jsx)(J.a,{}),permission:pe.account.view,indexedMenu:{open:!1,items:[{id:"002-01",title:"Creaci\xf3n de forma de pago",icon:Object(g.jsx)(Q.a,{}),permission:pe.account.create,url:R.main.account.form},{id:"002-02",title:"Listar formas de pago",icon:Object(g.jsx)($.a,{}),permission:pe.account.view,url:R.main.account.list}]}},{id:"003",title:"Administraci\xf3n de terceros",icon:Object(g.jsx)(X.a,{}),permission:pe.third.view,indexedMenu:{open:!1,items:[{id:"003-01",title:"Creaci\xf3n de terceros",icon:Object(g.jsx)(Z.a,{}),permission:pe.third.create,url:R.main.third.form},{id:"003-02",title:"Listar terceros",icon:Object(g.jsx)(ee.a,{}),permission:pe.third.view,url:R.main.third.list},{id:"003-03",title:"Migraci\xf3n de terceros",icon:Object(g.jsx)(Z.a,{}),permission:pe.third.migrate,url:R.main.third.thirdMigrationForm}]}},{id:"004",title:"Conceptos",icon:Object(g.jsx)(te.a,{}),permission:pe.concept.view,indexedMenu:{open:!1,items:[{id:"004-01",title:"Creaci\xf3n de conceptos",icon:Object(g.jsx)(Q.a,{}),permission:pe.concept.create,url:R.main.concept.form},{id:"004-02",title:"Listar conceptos",icon:Object(g.jsx)($.a,{}),permission:pe.concept.view,url:R.main.concept.list}]}},{id:"005",title:"Centro de costos",icon:Object(g.jsx)(ae.a,{}),permission:pe.cost_center.view,indexedMenu:{open:!1,items:[{id:"005-01",title:"Creaci\xf3n de centro de costo",icon:Object(g.jsx)(Q.a,{}),permission:pe.cost_center.create,url:R.main.costCenter.form},{id:"005-02",title:"Listar centros de costos",icon:Object(g.jsx)($.a,{}),permission:pe.cost_center.view,url:R.main.costCenter.list}]}},{id:"006",title:"Recibos de caja",icon:Object(g.jsx)(ne.a,{}),permission:pe.receipt.view,indexedMenu:{open:!1,items:[{id:"006-01",title:"Crear recibo",icon:Object(g.jsx)(Q.a,{}),permission:pe.receipt.create,url:R.main.receipt.form},{id:"006-02",title:"Listar recibos",icon:Object(g.jsx)($.a,{}),permission:pe.receipt.view,url:R.main.receipt.list}]}},{id:"007",title:"Transacciones internas",icon:Object(g.jsx)(re.a,{}),permission:pe.movement_internal.view,url:R.main.internalTransaction.form},{id:"008",title:"Productos",icon:Object(g.jsx)(Q.a,{}),permission:pe.item.view,indexedMenu:{open:!1,items:[{id:"008-01",title:"Creaci\xf3n de productos",icon:Object(g.jsx)(Q.a,{}),permission:pe.item.create,url:R.main.item.form},{id:"008-02",title:"Listar productos",icon:Object(g.jsx)($.a,{}),permission:pe.item.view,url:R.main.item.list}]}},{id:"009",title:"Factura electr\xf3nica",icon:Object(g.jsx)(ie.a,{}),permission:pe.electronic_bill.view,indexedMenu:{open:!1,items:[{id:"009-01",title:"Crear factura electr\xf3nica",icon:Object(g.jsx)(ie.a,{}),permission:pe.electronic_bill.view,url:R.main.electronicBill.form},{id:"009-02",title:"Listar factura electr\xf3nica",icon:Object(g.jsx)(ie.a,{}),permission:pe.electronic_bill.view,url:R.main.electronicBill.list}]}},{id:"010",title:"Reporte de recibos",icon:Object(g.jsx)(ce.a,{}),permission:pe.movement_receipt.view,url:R.main.receipt.report},{id:"011",title:"Reporte de transacciones",icon:Object(g.jsx)(oe.a,{}),permission:pe.movement_internal.view,url:R.main.internalTransaction.report}]}};function he(){var e=be(),t=Object(s.g)(),a=r.a.useState(me),i=Object(l.a)(a,2),c=i[0],o=i[1],d=r.a.useContext(k).userContext,u=Object(n.useState)(900),b=Object(l.a)(u,2),m=b[0],h=b[1],j=Object(W.a)("(min-width:".concat(m,"px)")),f=function(e,a){a.indexedMenu?o(Object(p.a)(Object(p.a)({},c),{},{selected:a.id,menu:Object(p.a)(Object(p.a)({},c.menu),{},{items:c.menu.items.map((function(e){return e.id===a.id&&e.indexedMenu&&(e.indexedMenu.open=!e.indexedMenu.open),e}))})})):(o(Object(p.a)(Object(p.a)({},c),{},{selected:a.id})),t.push(a.url))};return Object(g.jsx)("div",{className:j?e.fixed:e.fixedResponsive,children:Object(g.jsxs)("div",{className:j?e.root:e.rootResponsive,children:[Object(g.jsxs)(q.a,{component:"nav","aria-label":"main mailbox folders",children:[Object(g.jsxs)(V.a,{children:[Object(g.jsx)(G.a,{onClick:function(){900===m?h(100):100===m&&h(900)},children:Object(g.jsx)("img",{className:e.logo,src:c.menu.itemHeader.logo.path,alt:c.menu.itemHeader.logo.alt})}),Object(g.jsxs)(de.a,{variant:"h6",className:j?e.menuTitle:e.hidden,children:[c.menu.itemHeader.title.main," ",Object(g.jsx)("span",{className:e.secondaryMenuTitle,children:c.menu.itemHeader.title.secondary})]})]}),Object(g.jsx)(H.a,{}),c.menu.items.map((function(t){return d.permissions.some((function(e){return e===t.permission}))?Object(g.jsxs)(r.a.Fragment,{children:[Object(g.jsxs)(V.a,{button:!0,selected:c.selected===t.id,onClick:function(e){return f(0,t)},children:[Object(g.jsx)(G.a,{className:e.icon,children:t.icon}),Object(g.jsx)(U.a,{primary:t.title,className:j?e.textPrimary:e.hidden}),t.indexedMenu&&j?t.indexedMenu.open?Object(g.jsx)(se.a,{color:"primary"}):Object(g.jsx)(le.a,{color:"secondary"}):""]}),t.indexedMenu?Object(g.jsx)(ue.a,{in:t.indexedMenu.open,timeout:"auto",unmountOnExit:!0,children:Object(g.jsx)(q.a,{component:"div",disablePadding:!0,className:e.nestedList,children:t.indexedMenu.items.map((function(t){return d.permissions.some((function(e){return e===t.permission}))?Object(g.jsxs)(V.a,{button:!0,className:e.nested,selected:c.selected===t.id,onClick:function(e){return f(0,t)},children:[Object(g.jsx)(G.a,{className:e.icon,children:t.icon}),Object(g.jsx)(U.a,{className:j?e.textPrimary:e.hidden,primary:t.title})]},t.id):""}))})}):""]},t.id):""}))]}),Object(g.jsx)(H.a,{})]})})}var je=a(27),fe=a(583),xe=a(584),ve=a(134),Oe=a(189),ye=a(224),ge=a(83),Ce=a(310),Te=a(286),we=a.n(Te),ke=a(216),Ee=a.n(ke),Ne=a(214),Be=a.n(Ne),Ae=a(215),Me=a.n(Ae),Fe=a(287),De=a.n(Fe),Se=Object(K.a)((function(e){return Object(_.a)({grow:{flexGrow:1},toolBar:{background:"#ffff"},search:Object(d.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(je.e)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(je.e)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(d.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sectionDesktop:Object(d.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(d.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})})}));function Ie(){var e=Se(),t=Object(s.g)(),a=r.a.useContext(k).setUserContext,n=r.a.useState(null),i=Object(l.a)(n,2),c=i[0],o=i[1],d=r.a.useState(null),u=Object(l.a)(d,2),p=u[0],b=u[1],m=Boolean(c),h=Boolean(p),j=function(e){o(e.currentTarget)},f=function(){b(null)},x=function(){o(null),f(),a(T),y.removeCookieAuth(),t.push(P.login)},v="primary-search-account-menu",O=Object(g.jsxs)(Ce.a,{anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},id:v,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:x,children:[Object(g.jsx)(ge.a,{onClick:x,children:"Perfil"}),Object(g.jsx)(ge.a,{onClick:x,children:"Cerrar sesi\xf3n"})]}),C="primary-search-account-menu-mobile",w=Object(g.jsxs)(Ce.a,{anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"right"},id:C,keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:h,onClose:f,children:[Object(g.jsxs)(ge.a,{children:[Object(g.jsx)(ve.a,{"aria-label":"show 4 new mails",color:"inherit",children:Object(g.jsx)(ye.a,{badgeContent:4,color:"secondary",children:Object(g.jsx)(Be.a,{})})}),Object(g.jsx)("p",{children:"Mensajes"})]}),Object(g.jsxs)(ge.a,{children:[Object(g.jsx)(ve.a,{"aria-label":"show 11 new notifications",color:"inherit",children:Object(g.jsx)(ye.a,{badgeContent:11,color:"secondary",children:Object(g.jsx)(Me.a,{})})}),Object(g.jsx)("p",{children:"Notificaciones"})]}),Object(g.jsxs)(ge.a,{onClick:j,children:[Object(g.jsx)(ve.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit",children:Object(g.jsx)(Ee.a,{})}),Object(g.jsx)("p",{children:"Perfil"})]})]});return Object(g.jsxs)("div",{className:e.grow,children:[Object(g.jsx)(fe.a,{position:"static",elevation:0,children:Object(g.jsxs)(xe.a,{className:e.toolBar,children:[Object(g.jsxs)("div",{className:e.search,children:[Object(g.jsx)("div",{className:e.searchIcon,children:Object(g.jsx)(we.a,{})}),Object(g.jsx)(Oe.a,{placeholder:"Buscar\u2026",classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})]}),Object(g.jsx)("div",{className:e.grow}),Object(g.jsxs)("div",{className:e.sectionDesktop,children:[Object(g.jsx)(ve.a,{"aria-label":"show new mails",color:"inherit",children:Object(g.jsx)(ye.a,{badgeContent:0,color:"secondary",children:Object(g.jsx)(Be.a,{})})}),Object(g.jsx)(ve.a,{"aria-label":"show new notifications",color:"inherit",children:Object(g.jsx)(ye.a,{badgeContent:0,color:"secondary",children:Object(g.jsx)(Me.a,{})})}),Object(g.jsx)(ve.a,{edge:"end","aria-label":"account of current user","aria-controls":v,"aria-haspopup":"true",onClick:j,color:"inherit",children:Object(g.jsx)(Ee.a,{})})]}),Object(g.jsx)("div",{className:e.sectionMobile,children:Object(g.jsx)(ve.a,{"aria-label":"show more","aria-controls":C,"aria-haspopup":"true",onClick:function(e){b(e.currentTarget)},color:"inherit",children:Object(g.jsx)(De.a,{})})})]})}),w,O]})}var Le=a(6),ze=a.n(Le),Pe=a(11),Re=a(591),We=a(154),Ke=a(521),_e=a(225),qe=a(592),Ve=a(613),Ge=a(116),Ue=a(522),He=a(593),Ye=a(594),Je=a(595),Qe=a(596),$e=a(597),Xe=a(42),Ze=a(43),et=a(12),tt=a.n(et);function at(e){var t,a,n,r,i,c,o,s,l,d,u,p,b,m;return{entityId:null!==(t=e.entityId)&&void 0!==t?t:"",document:null!==(a=e.document)&&void 0!==a?a:"",dv:null!==(n=e.dv)&&void 0!==n?n:"",documentType:null!==(r=e.documentType)&&void 0!==r?r:{code:"",description:""},organizationType:null!==(i=e.organizationType)&&void 0!==i?i:{code:"",description:""},liabilityType:null!==(c=e.liabilityType)&&void 0!==c?c:{code:"",description:""},regimeType:null!==(o=e.regimeType)&&void 0!==o?o:{code:"",description:""},name:null!==(s=e.name)&&void 0!==s?s:void 0,lastname:null!==(l=e.lastname)&&void 0!==l?l:void 0,businessName:null!==(d=e.businessName)&&void 0!==d?d:void 0,phone:null!==(u=e.phone)&&void 0!==u?u:"",address:null!==(p=e.address)&&void 0!==p?p:"",city:null!==(b=e.city)&&void 0!==b?b:void 0,email:null!==(m=e.email)&&void 0!==m?m:""}}var nt=function(){function e(){Object(Xe.a)(this,e)}return Object(Ze.a)(e,[{key:"saveThird",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/third"),e.next=4,tt.a.post(n,t,{headers:{authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateThird",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/third"),e.next=4,tt.a.put(n,t,{headers:{authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getThirds",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r,i;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=void 0!==a?"".concat("http://147.182.132.254:2426","/api/v2/third?limit=").concat(a.limit):"".concat("http://147.182.132.254:2426","/api/v2/third"),void 0!==a&&void 0!==a.lastEvaluatedKey&&(n="".concat(n,"&lastEvaluatedKey=").concat(a.lastEvaluatedKey)),e.next=5,tt.a.get(n,{headers:{authorization:"Bearer ".concat(t)}});case 5:return r=e.sent,i=r.data.thirds.map((function(e){return at(e)})),e.abrupt("return",{lastEvaluatedKey:JSON.stringify(r.data.lastEvaluatedKey),thirds:i});case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getThirdByDocument",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r,i;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/third/").concat(a),e.next=4,tt.a.get(n,{headers:{authorization:"Bearer ".concat(t)}});case 4:return r=e.sent,i=at(r.data),e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}();function rt(e){var t,a,n,r,i,c,o,s;return{entityId:null!==(t=e.entityId)&&void 0!==t?t:"",account:null!==(a=e.account)&&void 0!==a?a:0,description:null!==(n=e.description)&&void 0!==n?n:"",type:null!==(r={code:null!==(i=null===(c=e.type)||void 0===c?void 0:c.code)&&void 0!==i?i:"",description:null!==(o=null===(s=e.type)||void 0===s?void 0:s.description)&&void 0!==o?o:""})&&void 0!==r?r:void 0}}var it=function(){function e(){Object(Xe.a)(this,e)}return Object(Ze.a)(e,[{key:"saveConcept",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/concept"),e.next=4,tt.a.post(n,t,{headers:{authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateConcept",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/concept"),e.next=4,tt.a.put(n,t,{headers:{authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getConceptByAccount",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r,i;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/concept/").concat(a),e.next=4,tt.a.get(n,{headers:{authorization:"Bearer ".concat(t)}});case 4:return r=e.sent,i=rt(r.data),e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getConcepts",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r,i;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=void 0!==a?"".concat("http://147.182.132.254:2426","/api/v2/concept?limit=").concat(a.limit):"".concat("http://147.182.132.254:2426","/api/v2/concept"),void 0!==a&&void 0!==a.lastEvaluatedKey&&(n="".concat(n,"&lastEvaluatedKey=").concat(a.lastEvaluatedKey)),e.next=5,tt.a.get(n,{headers:{authorization:"Bearer ".concat(t)}});case 5:return r=e.sent,i=r.data.concepts.map((function(e){return rt(e)})),e.abrupt("return",{lastEvaluatedKey:JSON.stringify(r.data.lastEvaluatedKey),concepts:i});case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),ct=a(586),ot=a(590),st=a(589),lt=a(585),dt=a(587),ut=a(588),pt=a(188),bt=a(174),mt=a.n(bt),ht=Object(K.a)({table:{minWidth:650}}),jt={headers:{account:"Cuenta",description:"Descripci\xf3n",costCenter:"Centro de costo",value:"Valor",delete:"Eliminar"}};function ft(e){var t=e.rows,a=e.handleTable,r=e.disabledForm,i=ht(),c=Object(n.useState)(!1),o=Object(l.a)(c,2),s=o[0],d=o[1];return Object(n.useEffect)((function(){d(!1)}),[s]),Object(g.jsx)(lt.a,{component:pt.a,children:Object(g.jsxs)(ct.a,{className:i.table,"aria-label":"simple table",children:[Object(g.jsx)(dt.a,{children:Object(g.jsxs)(ut.a,{children:[Object(g.jsx)(st.a,{children:jt.headers.account}),Object(g.jsx)(st.a,{children:jt.headers.description}),Object(g.jsx)(st.a,{children:jt.headers.costCenter}),Object(g.jsx)(st.a,{align:"right",children:jt.headers.value}),Object(g.jsx)(st.a,{align:"right",children:jt.headers.delete})]})}),Object(g.jsx)(ot.a,{children:t.map((function(e,t){return Object(g.jsxs)(ut.a,{children:[Object(g.jsx)(st.a,{component:"th",children:e.account}),Object(g.jsx)(st.a,{component:"th",children:e.description}),Object(g.jsx)(st.a,{component:"th",children:e.costCenter.description}),Object(g.jsx)(st.a,{align:"right",children:e.value}),Object(g.jsx)(st.a,{align:"right",children:Object(g.jsx)(ve.a,{"aria-label":"delete",onClick:function(){return a("REMOVE",e)},disabled:r,children:Object(g.jsx)(mt.a,{})})})]},t)}))})]})})}function xt(e){var t,a,n,r,i;return{entityId:null!==(t=e.entityId)&&void 0!==t?t:"",account:null!==(a=e.account)&&void 0!==a?a:0,description:null!==(n=e.description)&&void 0!==n?n:"",balance:null!==(r=e.balance)&&void 0!==r?r:0,document:null!==(i=e.document)&&void 0!==i?i:0}}var vt=function(){function e(){Object(Xe.a)(this,e)}return Object(Ze.a)(e,[{key:"saveAccount",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/account"),e.next=4,tt.a.post(n,t,{headers:{authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateAccount",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/account"),e.next=4,tt.a.put(n,t,{headers:{authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getAccountByAccount",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r,i;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/account/").concat(a),e.next=4,tt.a.get(n,{headers:{authorization:"Bearer ".concat(t)}});case 4:return r=e.sent,i=xt(r.data),e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getAccounts",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r,i;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=void 0!==a?"".concat("http://147.182.132.254:2426","/api/v2/account?limit=").concat(a.limit):"".concat("http://147.182.132.254:2426","/api/v2/account"),void 0!==a&&void 0!==a.lastEvaluatedKey&&(n="".concat(n,"&lastEvaluatedKey=").concat(a.lastEvaluatedKey)),e.next=5,tt.a.get(n,{headers:{authorization:"Bearer ".concat(t)}});case 5:return r=e.sent,i=r.data.accounts.map((function(e){return xt(e)})),e.abrupt("return",{lastEvaluatedKey:JSON.stringify(r.data.lastEvaluatedKey),accounts:i});case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}();function Ot(e,t){var a=[];return e.forEach((function(e){a.push({account:Number(e.account),value:t&&"EGR"===t.code?Number(-1*e.value):Number(e.value),costCenterCode:e.costCenterCode?e.costCenterCode:e.costCenter.code})})),a}function yt(e){var t=[];return e.forEach((function(e){t.push({account:Number(e.account),value:Number(e.value),description:e.description,costCenterCode:e.costCenterCode?e.costCenterCode:e.costCenter.code})})),t}function gt(e){var t,a,n,r,i,c,o,s,l,d;return{entityId:null!==(t=e.entityId)&&void 0!==t?t:"",userId:null!==(a=e.userId)&&void 0!==a?a:"",type:{code:null!==(n=e.type.code)&&void 0!==n?n:"",description:null!==(r=e.type.description)&&void 0!==r?r:""},date:null!==(i=e.date)&&void 0!==i?i:"",code:null!==(c=e.code)&&void 0!==c?c:"",description:null!==(o=e.description)&&void 0!==o?o:"",thirdDocument:null!==(s=e.thirdDocument)&&void 0!==s?s:"",totalValueLetter:null!==(l=e.totalValueLetter)&&void 0!==l?l:"",total:null!==(d=Number(e.total))&&void 0!==d?d:0,accounts:Ot(e.accounts),concepts:yt(e.concepts)}}var Ct=function(){function e(){Object(Xe.a)(this,e)}return Object(Ze.a)(e,[{key:"saveReceipt",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/receipt"),e.next=4,tt.a.post(n,t,{headers:{authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getReceiptByCode",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r,i;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/receipt/").concat(a),e.next=4,tt.a.get(n,{headers:{authorization:"Bearer ".concat(t)}});case 4:return r=e.sent,i=gt(r.data),e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getReceipts",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r,i;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=void 0!==a?"".concat("http://147.182.132.254:2426","/api/v2/receipt?limit=").concat(a.limit):"".concat("http://147.182.132.254:2426","/api/v2/receipt"),void 0!==a&&void 0!==a.lastEvaluatedKey&&(n="".concat(n,"&lastEvaluatedKey=").concat(a.lastEvaluatedKey)),e.next=5,tt.a.get(n,{headers:{authorization:"Bearer ".concat(t)}});case 5:return r=e.sent,i=r.data.receipts.map((function(e){return gt(e)})),e.abrupt("return",{lastEvaluatedKey:JSON.stringify(r.data.lastEvaluatedKey),receipts:i});case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}();function Tt(e){var t,a,n,r,i,c,o,s;return{entityId:null!==(t=e.entityId)&&void 0!==t?t:"",code:null!==(a=e.code)&&void 0!==a?a:"",description:null!==(n=e.description)&&void 0!==n?n:"",type:null!==(r={code:null!==(i=null===(c=e.type)||void 0===c?void 0:c.code)&&void 0!==i?i:"",description:null!==(o=null===(s=e.type)||void 0===s?void 0:s.description)&&void 0!==o?o:""})&&void 0!==r?r:void 0}}var wt=function(){function e(){Object(Xe.a)(this,e)}return Object(Ze.a)(e,[{key:"saveCostCenter",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/cost-center"),e.next=4,tt.a.post(n,t,{headers:{authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateCostCenter",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/cost-center"),e.next=4,tt.a.put(n,t,{headers:{authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getCostCenterByCode",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r,i;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/cost-center/").concat(a),e.next=4,tt.a.get(n,{headers:{authorization:"Bearer ".concat(t)}});case 4:return r=e.sent,i=Tt(r.data),e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getCostCenters",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r,i;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=void 0!==a?"".concat("http://147.182.132.254:2426","/api/v2/cost-center?limit=").concat(a.limit):"".concat("http://147.182.132.254:2426","/api/v2/cost-center"),void 0!==a&&void 0!==a.lastEvaluatedKey&&(n="".concat(n,"&lastEvaluatedKey=").concat(a.lastEvaluatedKey)),e.next=5,tt.a.get(n,{headers:{authorization:"Bearer ".concat(t)}});case 5:return r=e.sent,i=r.data.costCenters.map((function(e){return Tt(e)})),e.abrupt("return",{lastEvaluatedKey:JSON.stringify(r.data.lastEvaluatedKey),costCenters:i});case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),kt=Object(K.a)((function(e){return{root:{width:"85%",margin:"10vh auto 10vh auto",height:"auto"},title:{fontWeight:"bold",marginBottom:"1vh"},divider:{marginBottom:"6vh"},alignRight:{textAlign:"right"},addButton:{width:"100%",height:"70%",color:"#ffff"},loadingContainer:{position:"fixed",width:"100%",height:"100%",bottom:"0",right:"0",background:"#BFBFBFBF",opacity:.6,display:"flex",justifyContent:"center",paddingTop:"50vh"}}})),Et={header:{title:"Recibos de ingreso y egreso"},body:{subtitleConcepts:"Tabla de conceptos",subtitleAccounts:"Formas de pago",field:{type:{name:"type",helperText:"Escoja el tipo de recibo",options:[{description:"INGRESO",code:"ING"},{description:"EGRESO",code:"EGR"}]},code:{name:"code",helperText:"Escoja el prefijo"},description:{name:"description",helperText:"Detalle del recibo",placeholder:"Detalle"},date:{name:"date",helperText:"Indique la fecha"},thirdDocument:{name:"thirdDocument",helperText:"Escoja el tercero",placeholder:"Tercero"},totalValueLetter:{name:"totalValueLetter",helperText:"Escriba el valor total del recibo en letras",placeholder:"Valor en letras"},currentAccount:{name:"currentAccount",helperText:"Escoja la cuenta"},currentAccountCostCenter:{name:"currentAccountCostCenter",helperText:"Escoja el centro de costo"},currentAccountValue:{name:"currentAccountValue",helperText:"Valor",placeholder:"Valor"},currentConcept:{name:"currentConcept",helperText:"Escoja un cencepto"},currentConceptCostCenter:{name:"currentConceptCostCenter",helperText:"Escoja el centro de costo"},currentConceptValue:{name:"currentConceptValue",helperText:"Valor",placeholder:"Valor"}},buttons:{add:"Agregar"}}},Nt={form:{type:void 0,date:"",code:"",description:"",thirdDocument:"",totalValueLetter:"",total:0,accounts:[],concepts:[]},currentAccount:void 0,currentAccountValue:0,accountList:[],accountTotal:0,currentConcept:void 0,currentConceptValue:0,conceptTotal:0,thirds:[],conceptList:[],costCenterList:[],suggestionsThirds:[],selectedAccounts:[],selectedConcepts:[],prefix:[],thirdSelected:"",status:!1,loading:!1,disabledForm:!1};function Bt(){var e,t,a,i,c,o,u,b,m,h,j=kt(),f=(Object(s.h)().search,Object(s.g)()),x=Object(n.useState)(Nt),v=Object(l.a)(x,2),O=v[0],y=v[1],C=r.a.useContext(k).userContext,T=r.a.useContext(A).entityContext;r.a.useEffect((function(){function e(){return(e=Object(Pe.a)(ze.a.mark((function e(){var t,a,n,r,i,c,o,s,l,d,u,b,m,h;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(Object(p.a)(Object(p.a)({},O),{},{loading:!0})),e.prev=1,a=new nt,e.next=5,a.getThirds(C.token||"");case 5:return n=e.sent,r=n.thirds,i=new vt,e.next=10,i.getAccounts(C.token||"");case 10:return c=e.sent,o=c.accounts,s=new it,e.next=15,s.getConcepts(C.token||"");case 15:return l=e.sent,d=l.concepts,u=new wt,e.next=20,u.getCostCenters(C.token||"");case 20:b=e.sent,m=b.costCenters,y(Object(p.a)(Object(p.a)({},O),{},{thirds:r,suggestionsThirds:r,conceptList:d,accountList:o,costCenterList:m,prefix:null!==(t=T.receiptNumbers)&&void 0!==t?t:[],loading:!1})),e.next=32;break;case 25:if(e.prev=25,e.t0=e.catch(1),y(Object(p.a)(Object(p.a)({},O),{},{loading:!1})),!tt.a.isAxiosError(e.t0)){e.next=32;break}if(!(h=e.t0)||!h.response){e.next=32;break}return e.abrupt("return",D.b.error(h.response.data.message||e.t0.toString()));case 32:case"end":return e.stop()}}),e,null,[[1,25]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var w=function(e,t){e===Et.body.field.thirdDocument.name?y(Object(p.a)(Object(p.a)({},O),{},{form:Object(p.a)(Object(p.a)({},O.form),{},Object(d.a)({},e,t.document)),thirdSelected:void 0!==t.name?"".concat(t.name," ").concat(t.lastname):"".concat(t.businessName),status:!1})):e===Et.body.field.code.name?y(Object(p.a)(Object(p.a)({},O),{},{form:Object(p.a)(Object(p.a)({},O.form),{},{code:t.code})})):e===Et.body.field.currentAccount.name||e===Et.body.field.currentAccountCostCenter.name||e===Et.body.field.currentConceptCostCenter.name||e===Et.body.field.currentConcept.name?y(Object(p.a)(Object(p.a)({},O),{},Object(d.a)({},e,t))):y(Object(p.a)(Object(p.a)({},O),{},{form:Object(p.a)(Object(p.a)({},O.form),{},Object(d.a)({},e,t))}))},E=function(e){var t=e.target,a=t.name,n=t.value;a===Et.body.field.currentAccountValue.name||a===Et.body.field.currentConceptValue.name?y(Object(p.a)(Object(p.a)({},O),{},Object(d.a)({},a,n))):y(Object(p.a)(Object(p.a)({},O),{},{form:Object(p.a)(Object(p.a)({},O.form),{},Object(d.a)({},a,n))}))},N=function(e,t){if("ADD"===e){var a=Number(O.accountTotal)+Number(O.currentAccountValue),n=Object(p.a)(Object(p.a)({},O.currentAccount),{},{value:O.currentAccountValue,costCenter:O.currentAccountCostCenter}),r=O.selectedAccounts;r.push(n),y(Object(p.a)(Object(p.a)({},O),{},{selectedAccounts:r,currentAccount:void 0,currentAccountCostCenter:void 0,currentAccountValue:0,accountTotal:a}))}else if("REMOVE"===e){var i=Number(O.accountTotal)-Number(t.value),c=O.selectedAccounts.filter((function(e){return e.account!==t.account}));y(Object(p.a)(Object(p.a)({},O),{},{selectedAccounts:c,accountTotal:i}))}},B=function(e,t){if("ADD"===e){var a=Number(O.conceptTotal)+Number(O.currentConceptValue),n=Object(p.a)(Object(p.a)({},O.currentConcept),{},{value:O.currentConceptValue,costCenter:O.currentConceptCostCenter}),r=O.selectedConcepts;r.push(n),y(Object(p.a)(Object(p.a)({},O),{},{form:Object(p.a)(Object(p.a)({},O.form),{},{total:a}),selectedConcepts:r.map((function(e,t){return Object(p.a)(Object(p.a)({},e),{},{id:t})})),currentConcept:void 0,currentConceptCostCenter:void 0,currentConceptValue:0,conceptTotal:a}))}else if("REMOVE"===e){var i=Number(O.conceptTotal)-Number(t.value),c=O.selectedConcepts.filter((function(e){return e.id!==t.id}));y(Object(p.a)(Object(p.a)({},O),{},{form:Object(p.a)(Object(p.a)({},O.form),{},{total:i}),selectedConcepts:c.map((function(e,t){return Object(p.a)(Object(p.a)({},e),{},{id:t})})),conceptTotal:i}))}},M=function(){var e=Object(Pe.a)(ze.a.mark((function e(t){var a,n,r,i,c,o,s;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,0!==O.selectedAccounts.length){e.next=4;break}throw new Error("Debe seleccionar al menos una cuenta");case 4:if(0!==O.selectedConcepts.length){e.next=6;break}throw new Error("Debe seleccionar al menos un concepto");case 6:if(Number(O.accountTotal)===Number(O.conceptTotal)){e.next=8;break}throw new Error("Los valores totales de las cuentas y conceptos no concuerdan");case 8:return n=Ot(O.selectedAccounts,O.form.type),r=yt(O.selectedConcepts),i=Object(p.a)(Object(p.a)({},O.form),{},{accounts:n,concepts:r}),c=new Ct,e.next=14,c.saveReceipt(i,null!==(a=C.token)&&void 0!==a?a:"");case 14:return o=e.sent,y(Object(p.a)(Object(p.a)({},Nt),{},{selectedAccounts:[],selectedConcepts:[],prefix:O.prefix,accountList:O.accountList,thirds:O.thirds,conceptList:O.conceptList,costCenterList:O.costCenterList,loading:!1})),f.push(R.main.receipt.form),e.abrupt("return",D.b.success("El comprobante ".concat(o.code," fue creado con \xe9xito")));case 20:if(e.prev=20,e.t0=e.catch(1),!tt.a.isAxiosError(e.t0)){e.next=28;break}if(!(s=e.t0)||!s.response){e.next=26;break}return e.abrupt("return",D.b.error(s.response.data.message));case 26:e.next=30;break;case 28:if(!(e.t0 instanceof Error)){e.next=30;break}return e.abrupt("return",D.b.error(e.t0.message));case 30:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:j.root,children:[Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(de.a,{variant:"h5",className:j.title,children:Et.header.title})}),Object(g.jsx)(H.a,{className:j.divider}),Object(g.jsx)("form",{onSubmit:function(e){return M(e)},children:Object(g.jsxs)(Re.a,{container:!0,spacing:3,children:[Object(g.jsxs)(Re.a,{item:!0,md:4,sm:4,xs:12,children:[Object(g.jsx)(We.a,{name:Et.body.field.type.name,value:null!==(e=null===(t=O.form.type)||void 0===t?void 0:t.code)&&void 0!==e?e:"",variant:"outlined",fullWidth:!0,required:!0,children:Et.body.field.type.options.map((function(e){return Object(g.jsx)(ge.a,{value:e.code,onClick:function(){return w(Et.body.field.type.name,e)},children:e.description},e.description)}))}),Object(g.jsx)(Ke.a,{children:Et.body.field.type.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:4,sm:4,xs:12,children:[Object(g.jsx)(We.a,{name:Et.body.field.code.name,value:O.form.code,variant:"outlined",fullWidth:!0,required:!0,children:O.prefix.map((function(e){return Object(g.jsx)(ge.a,{value:e.prefix,onClick:function(){return w(Et.body.field.code.name,{code:e.prefix,description:e.prefix})},children:e.prefix},e.prefix)}))}),Object(g.jsx)(Ke.a,{children:Et.body.field.code.helperText})]}),Object(g.jsx)(Re.a,{item:!0,md:4,sm:6,xs:12,children:Object(g.jsx)(_e.a,{name:Et.body.field.date.name,value:O.form.date,id:"outlined-helperText",variant:"outlined",fullWidth:!0,type:"date",onChange:E,helperText:Et.body.field.date.helperText,required:!0})}),Object(g.jsxs)(Re.a,{item:!0,md:12,sm:12,xs:12,children:[Object(g.jsx)(_e.a,{name:"thirdSelected",value:O.thirdSelected,variant:"outlined",fullWidth:!0,onChange:function(e){var t=e.target.value,a=O.thirds.filter((function(e){var a,n,r;return(null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))||(null===(n=e.lastname)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase()))||(null===(r=e.businessName)||void 0===r?void 0:r.toLowerCase().includes(t.toLowerCase()))?e:void 0}));y(Object(p.a)(Object(p.a)({},O),{},{thirdSelected:t,suggestionsThirds:a,status:t.length>0}))},required:!0,autoComplete:"off",InputProps:{endAdornment:Object(g.jsx)(qe.a,{position:"end",children:Object(g.jsx)(ve.a,{onClick:function(){return y(Object(p.a)(Object(p.a)({},O),{},{status:!O.status}))},children:O.status?Object(g.jsx)(He.a,{fontSize:"small",color:"secondary"}):Object(g.jsx)(Ye.a,{fontSize:"small",color:"primary"})})})}}),!0===O.status&&Object(g.jsx)(Ve.a,{sx:{width:"100%",maxHeight:100,display:"relative",zIndex:1,bgcolor:"#E1E1E1",overflow:"auto"},children:O.suggestionsThirds.map((function(e){return Object(g.jsx)(ge.a,{onClick:function(){return w(Et.body.field.thirdDocument.name,e)},children:void 0!==e.name?"".concat(e.name," ").concat(e.lastname):"".concat(e.businessName)},e.document)}))}),Object(g.jsx)(Ke.a,{children:Et.body.field.thirdDocument.helperText})]}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,children:Object(g.jsx)(_e.a,{name:Et.body.field.description.name,value:O.form.description,id:"outlined-helperText",variant:"outlined",fullWidth:!0,required:!0,onChange:E,helperText:Et.body.field.description.helperText,placeholder:Et.body.field.description.placeholder})}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,children:Object(g.jsx)(_e.a,{name:Et.body.field.totalValueLetter.name,value:O.form.totalValueLetter,id:"outlined-helperText",variant:"outlined",fullWidth:!0,required:!0,onChange:E,helperText:Et.body.field.totalValueLetter.helperText,placeholder:Et.body.field.totalValueLetter.placeholder})}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,children:Object(g.jsx)(de.a,{variant:"h6",children:Et.body.subtitleAccounts})}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,children:Object(g.jsx)(H.a,{className:j.divider})}),Object(g.jsxs)(Re.a,{item:!0,md:4,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:Et.body.field.currentAccount.name,value:null!==(a=null===(i=O.currentAccount)||void 0===i?void 0:i.account)&&void 0!==a?a:"",variant:"outlined",fullWidth:!0,disabled:O.disabledForm,children:O.accountList.map((function(e){return Object(g.jsx)(ge.a,{value:e.account,onClick:function(){return w(Et.body.field.currentAccount.name,e)},children:e.description},e.description)}))}),Object(g.jsx)(Ke.a,{children:Et.body.field.currentAccount.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:3,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:Et.body.field.currentAccountCostCenter.name,value:null!==(c=null===(o=O.currentAccountCostCenter)||void 0===o?void 0:o.code)&&void 0!==c?c:"",variant:"outlined",fullWidth:!0,disabled:O.disabledForm,children:O.costCenterList.filter((function(e){if("PAY"===e.type.code)return e})).map((function(e){return Object(g.jsx)(ge.a,{value:e.code,onClick:function(){return w(Et.body.field.currentAccountCostCenter.name,e)},children:e.description},e.description)}))}),Object(g.jsx)(Ke.a,{children:Et.body.field.currentAccountCostCenter.helperText})]}),Object(g.jsx)(Re.a,{item:!0,md:3,sm:6,xs:12,children:Object(g.jsx)(_e.a,{name:Et.body.field.currentAccountValue.name,value:O.currentAccountValue,id:"outlined-helperText",variant:"outlined",fullWidth:!0,type:"number",onChange:E,helperText:Et.body.field.currentAccountValue.helperText,placeholder:Et.body.field.currentAccountValue.placeholder})}),Object(g.jsx)(Re.a,{item:!0,md:2,sm:6,xs:12,children:Object(g.jsx)(Ge.a,{variant:"contained",type:"button",color:"primary",size:"large",onClick:function(){return N("ADD")},className:j.addButton,startIcon:Object(g.jsx)(Je.a,{}),disabled:O.disabledForm,children:Et.body.buttons.add})}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,style:{marginBottom:"6vh"},children:Object(g.jsx)(ft,{rows:O.selectedAccounts,handleTable:N,disabledForm:O.disabledForm})}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,children:Object(g.jsx)(de.a,{variant:"h6",children:Et.body.subtitleConcepts})}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,children:Object(g.jsx)(H.a,{className:j.divider})}),Object(g.jsxs)(Re.a,{item:!0,md:4,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:Et.body.field.currentConcept.name,value:null!==(u=null===(b=O.currentConcept)||void 0===b?void 0:b.account)&&void 0!==u?u:"",variant:"outlined",fullWidth:!0,disabled:O.disabledForm,children:O.conceptList.filter((function(e){var t,a;return"ING"===(null===(t=O.form.type)||void 0===t?void 0:t.code)&&"CREDIT"===e.type.code||"EGR"===(null===(a=O.form.type)||void 0===a?void 0:a.code)&&"DEBIT"===e.type.code?e:void 0})).map((function(e){return Object(g.jsx)(ge.a,{value:e.account,onClick:function(){return w(Et.body.field.currentConcept.name,e)},children:e.description},e.description)}))}),Object(g.jsx)(Ke.a,{children:Et.body.field.currentConcept.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:3,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:Et.body.field.currentConceptCostCenter.name,value:null!==(m=null===(h=O.currentConceptCostCenter)||void 0===h?void 0:h.code)&&void 0!==m?m:"",variant:"outlined",fullWidth:!0,disabled:O.disabledForm,children:O.costCenterList.filter((function(e){if("CONCEPT"===e.type.code)return e})).map((function(e){return Object(g.jsx)(ge.a,{value:e.code,onClick:function(){return w(Et.body.field.currentConceptCostCenter.name,e)},children:e.description},e.description)}))}),Object(g.jsx)(Ke.a,{children:Et.body.field.currentConceptCostCenter.helperText})]}),Object(g.jsx)(Re.a,{item:!0,md:3,sm:6,xs:12,children:Object(g.jsx)(_e.a,{name:Et.body.field.currentConceptValue.name,value:O.currentConceptValue,id:"outlined-helperText",variant:"outlined",fullWidth:!0,type:"number",onChange:E,helperText:Et.body.field.currentConceptValue.helperText,placeholder:Et.body.field.currentConceptValue.placeholder})}),Object(g.jsx)(Re.a,{item:!0,md:2,sm:6,xs:12,children:Object(g.jsx)(Ge.a,{variant:"contained",type:"button",color:"primary",size:"large",onClick:function(){return B("ADD")},className:j.addButton,startIcon:Object(g.jsx)(Je.a,{}),disabled:O.disabledForm,children:Et.body.buttons.add})}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,style:{marginBottom:"6vh"},children:Object(g.jsx)(ft,{rows:O.selectedConcepts,handleTable:B,disabledForm:O.disabledForm})}),Object(g.jsx)(Re.a,{item:!0,md:4,sm:4,xs:6,children:Object(g.jsxs)(de.a,{variant:"h6",children:[Object(g.jsx)("span",{children:"Total: "}),"$ ",O.form.total]})}),Object(g.jsxs)(Re.a,{item:!0,md:12,sm:12,xs:12,className:j.alignRight,children:[Object(g.jsx)(ve.a,{type:"submit",children:Object(g.jsx)(Qe.a,{fontSize:"large",color:"primary"})}),Object(g.jsx)(ve.a,{onClick:function(){y(Object(p.a)(Object(p.a)({},Nt),{},{selectedAccounts:[],selectedConcepts:[],prefix:O.prefix,accountList:O.accountList,thirds:O.thirds,conceptList:O.conceptList,loading:!1}))},type:"button",children:Object(g.jsx)($e.a,{fontSize:"large",color:"secondary"})})]})]})}),O.loading?Object(g.jsx)("div",{className:j.loadingContainer,children:Object(g.jsx)(Ve.a,{children:Object(g.jsx)(Ue.a,{})})}):""]})}var At=a(599),Mt=a(600),Ft=a(288);function Dt(e){return Object(g.jsx)("div",{style:{height:400,width:"100%"},children:Object(g.jsx)(Ft.a,{rows:e.rows,columns:e.columns,getRowId:function(t){return t[e.keyId]},pageSize:5,onCellEditCommit:function(t){return function(t){e.gridEdit&&e.gridEdit(t)}(t)}})})}var St=Object(K.a)((function(e){return{root:{width:"85%",margin:"10vh auto 10vh auto",height:"auto"},description:{fontWeight:"bold",marginBottom:"1vh"},divider:{marginBottom:"6vh"},alignRight:{textAlign:"right"},loadMoreButton:{width:"25%",height:"70%"},loadingContainer:{position:"fixed",width:"100%",height:"100%",bottom:"0",right:"0",background:"#BFBFBFBF",opacity:.6,display:"flex",justifyContent:"center",paddingTop:"50vh"}}})),It={description:"Lista de recibos"},Lt={buttonLoadMore:{label:"Cargar m\xe1s ..."}},zt=[{field:"code",headerName:"C\xf3digo",flex:1,editable:!1},{field:"date",headerName:"Fecha",editable:!1,flex:2},{field:"description",headerName:"Detalle",editable:!1,flex:2},{field:"thirdDocument",headerName:"Tercero",editable:!1,flex:1},{field:"total",headerName:"Total",editable:!1,flex:1},{field:"actions",headerName:"Acciones",flex:1,type:"actions",renderCell:function(e){return Object(g.jsx)(Rt,{params:e})}}],Pt={loadMoreButtonDisabled:!1,receipts:[],loading:!0};function Rt(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),i=a[0],c=a[1],o=r.a.useContext(k).userContext,d=Object(s.g)();return r.a.useEffect((function(){c(o.permissions.some((function(e){return e===pe.receipt.update})))}),[o]),Object(g.jsx)(ve.a,{type:"submit",onClick:function(){return function(){var t;d.push("".concat(R.main.item.form,"?document=").concat(null!==(t=e.params.row.code)&&void 0!==t?t:""))}()},disabled:!i,children:Object(g.jsx)(At.a,{fontSize:"small",color:i?"primary":"inherit"})})}function Wt(){var e=St(),t=Object(n.useState)(Pt),a=Object(l.a)(t,2),i=a[0],c=a[1],o=r.a.useContext(k).userContext;r.a.useEffect((function(){function e(){return(e=Object(Pe.a)(ze.a.mark((function e(){var t,a;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ct,e.next=3,t.getReceipts(o.token||"",{limit:5});case 3:a=e.sent,c(Object(p.a)(Object(p.a)({},i),{},{receipts:a.receipts,lastEvaluatedKey:a.lastEvaluatedKey,loadMoreButtonDisabled:void 0===a.lastEvaluatedKey,loading:!1}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=function(){var e=Object(Pe.a)(ze.a.mark((function e(){var t,a,n;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new Ct,e.next=4,t.getReceipts(o.token||"",{limit:5,lastEvaluatedKey:i.lastEvaluatedKey});case 4:a=e.sent,c(Object(p.a)(Object(p.a)({},i),{},{receipts:i.receipts.concat(a.receipts),lastEvaluatedKey:a.lastEvaluatedKey,loadMoreButtonDisabled:void 0===a.lastEvaluatedKey})),e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(0),!tt.a.isAxiosError(e.t0)){e.next=14;break}if(!(n=e.t0)||!n.response){e.next=14;break}return e.abrupt("return",D.b.error(n.response.data.message));case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:e.root,children:[Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(de.a,{variant:"h5",className:e.description,children:It.description})}),Object(g.jsx)(H.a,{className:e.divider}),Object(g.jsxs)(Re.a,{container:!0,spacing:3,children:[Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,children:Object(g.jsx)(Dt,{rows:i.receipts,columns:zt,keyId:"code"})}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:6,xs:12,className:e.alignRight,children:Object(g.jsx)(Ge.a,{type:"button",color:"primary",size:"small",className:e.loadMoreButton,startIcon:Object(g.jsx)(Mt.a,{}),disabled:i.loadMoreButtonDisabled,onClick:function(){return s()},children:Lt.buttonLoadMore.label})})]}),i.loading?Object(g.jsx)("div",{className:e.loadingContainer,children:Object(g.jsx)(Ve.a,{children:Object(g.jsx)(Ue.a,{})})}):""]})}var Kt=a(611),_t=Object(K.a)((function(e){return{root:{width:"85%",margin:"10vh auto 10vh auto",height:"auto"},description:{fontWeight:"bold",marginBottom:"1vh"},divider:{marginBottom:"6vh"},alignRight:{textAlign:"right"},thirdClassTitle:{color:"#757575",marginBottom:"6vh"},loadingContainer:{position:"fixed",width:"100%",height:"100%",bottom:"0",right:"0",background:"#BFBFBFBF",opacity:.6,display:"flex",justifyContent:"center",paddingTop:"50vh"}}})),qt={description:"Crear forma de pago"},Vt={field:{account:{name:"account",helperText:"Cuenta contable",placeholder:"Cuenta contable",validationError:"Debe ser de 10 d\xedgitos"},thirdSelected:{name:"thirdSelected",helperText:"Entidad o persona asociada"},description:{name:"description",helperText:"Escriba la descripci\xf3n de la cuenta",placeholder:"Descripci\xf3n de cuenta"},balance:{name:"balance",helperText:"Escriba el saldo",placeholder:"Saldo"}}},Gt={form:{account:0,description:"",balance:0,document:0},validations:{errorMinLengthAccount:!1},suggestionsThirds:[],thirds:[],thirdSelected:"",isEdit:!1,loading:!1,status:!1};function Ut(){var e=_t(),t=Object(s.h)().search,a=Object(s.g)(),i=Object(n.useState)(Gt),c=Object(l.a)(i,2),o=c[0],u=c[1],b=r.a.useContext(k).userContext;r.a.useEffect((function(){function e(){return(e=Object(Pe.a)(ze.a.mark((function e(){var a,n,r,i,c,s,l,d;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new nt,e.next=3,a.getThirds(b.token||"");case 3:if(n=e.sent,r=n.thirds,!(i=y.getIdFromUrl(t))){e.next=15;break}return u(Object(p.a)(Object(p.a)({},o),{},{loading:!0})),s=new vt,e.next=11,s.getAccountByAccount(null!==(c=b.token)&&void 0!==c?c:"",i);case 11:(l=e.sent)&&(d="",r.forEach((function(e){Number(e.document)===Number(l.document)&&(d=void 0!==e.name?"".concat(e.name," ").concat(e.lastname):"".concat(e.businessName))})),u(Object(p.a)(Object(p.a)({},o),{},{form:l,loading:!1,isEdit:!0,suggestionsThirds:r,thirdSelected:d,thirds:r}))),e.next=16;break;case 15:u(Object(p.a)(Object(p.a)({},o),{},{suggestionsThirds:r,thirds:r}));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var m=function(e){var t=e.target,a=t.name,n=t.value,r=o.validations.errorMinLengthAccount;"account"===a&&(r=n.length<Number("10")),u(Object(p.a)(Object(p.a)({},o),{},{form:Object(p.a)(Object(p.a)({},o.form),{},Object(d.a)({},a,n)),validations:{errorMinLengthAccount:r}}))},h=function(){var e=Object(Pe.a)(ze.a.mark((function e(t){var n,r,i,c,s;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!o.validations.errorMinLengthAccount){e.next=4;break}throw new Error("La cuenta debe tener ".concat("10"," d\xedgitos"));case 4:if(n=new vt,!o.isEdit){e.next=11;break}return e.next=8,n.updateAccount(o.form,null!==(i=b.token)&&void 0!==i?i:"");case 8:r=e.sent,e.next=14;break;case 11:return e.next=13,n.saveAccount(o.form,null!==(c=b.token)&&void 0!==c?c:"");case 13:r=e.sent;case 14:return u(Gt),a.push(R.main.account.form),e.abrupt("return",D.b.success("La cuenta ".concat(r.account," fue ").concat(o.isEdit?"actualizado":"creado"," con \xe9xito")));case 19:if(e.prev=19,e.t0=e.catch(1),!tt.a.isAxiosError(e.t0)){e.next=27;break}if(!(s=e.t0)||!s.response){e.next=25;break}return e.abrupt("return",D.b.error(s.response.data.message));case 25:e.next=29;break;case 27:if(!(e.t0 instanceof Error)){e.next=29;break}return e.abrupt("return",D.b.error(e.t0.message));case 29:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:e.root,children:[Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(de.a,{variant:"h5",className:e.description,children:qt.description})}),Object(g.jsx)(H.a,{className:e.divider}),Object(g.jsx)("form",{onSubmit:function(e){return h(e)},children:Object(g.jsxs)(Re.a,{container:!0,spacing:3,children:[Object(g.jsx)(Re.a,{item:!0,md:8,sm:8,xs:10,children:Object(g.jsx)(_e.a,{required:!0,name:Vt.field.description.name,value:o.form.description,variant:"outlined",fullWidth:!0,onChange:m,helperText:Vt.field.description.helperText,placeholder:Vt.field.description.placeholder})}),Object(g.jsx)(Re.a,{item:!0,md:4,sm:4,xs:10,children:Object(g.jsx)(_e.a,{required:!0,name:Vt.field.account.name,value:o.form.account,variant:"outlined",fullWidth:!0,onChange:m,helperText:o.validations.errorMinLengthAccount?Vt.field.account.validationError:Vt.field.account.helperText,error:o.validations.errorMinLengthAccount,placeholder:Vt.field.account.placeholder,inputProps:{maxLength:10}})}),Object(g.jsxs)(Re.a,{item:!0,md:8,sm:8,xs:12,children:[Object(g.jsx)(_e.a,{name:"document",value:o.thirdSelected,autoComplete:"off",variant:"outlined",fullWidth:!0,onChange:function(e){var t=e.target.value,a=o.thirds.filter((function(e){var a,n,r;return(null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))||(null===(n=e.lastname)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase()))||(null===(r=e.businessName)||void 0===r?void 0:r.toLowerCase().includes(t.toLowerCase()))?e:void 0}));u(Object(p.a)(Object(p.a)({},o),{},{thirdSelected:t,suggestionsThirds:a,status:t.length>0}))},required:!0,InputProps:{endAdornment:Object(g.jsx)(qe.a,{position:"end",children:Object(g.jsx)(ve.a,{onClick:function(){return u(Object(p.a)(Object(p.a)({},o),{},{status:!o.status}))},children:o.status?Object(g.jsx)(He.a,{fontSize:"small",color:"secondary"}):Object(g.jsx)(Ye.a,{fontSize:"small",color:"primary"})})})}}),!0===o.status&&Object(g.jsx)(Ve.a,{sx:{width:"100%",maxHeight:100,display:"relative",zIndex:1,bgcolor:"#E1E1E1",overflow:"auto"},children:o.suggestionsThirds.map((function(e){return Object(g.jsx)(ge.a,{onClick:function(){return t=Vt.field.thirdSelected.name,a=e,void(t===Vt.field.thirdSelected.name&&u(Object(p.a)(Object(p.a)({},o),{},{form:Object(p.a)(Object(p.a)({},o.form),{},{document:a.document}),thirdSelected:void 0!==a.name?"".concat(a.name," ").concat(a.lastname):"".concat(a.businessName),status:!1})));var t,a},children:void 0!==e.name?"".concat(e.name," ").concat(e.lastname):"".concat(e.businessName)},e.document)}))}),Object(g.jsx)(Ke.a,{children:Vt.field.thirdSelected.helperText})]}),Object(g.jsx)(Re.a,{item:!0,md:4,sm:4,xs:10,children:Object(g.jsx)(_e.a,{required:!0,name:Vt.field.balance.name,value:o.form.balance,variant:"outlined",fullWidth:!0,onChange:m,helperText:Vt.field.balance.helperText,placeholder:Vt.field.balance.placeholder})}),Object(g.jsxs)(Re.a,{item:!0,md:12,sm:6,xs:12,className:e.alignRight,children:[Object(g.jsx)(ve.a,{type:"submit",children:Object(g.jsx)(Qe.a,{fontSize:"large",color:"primary"})}),Object(g.jsx)(ve.a,{type:"button",onClick:function(){u(Gt)},children:Object(g.jsx)($e.a,{fontSize:"large",color:"secondary"})})]})]})}),o.loading?Object(g.jsx)("div",{className:e.loadingContainer,children:Object(g.jsx)(Ve.a,{children:Object(g.jsx)(Ue.a,{})})}):""]})}var Ht=Object(K.a)((function(e){return{root:{width:"85%",margin:"10vh auto 10vh auto",height:"auto"},description:{fontWeight:"bold",marginBottom:"1vh"},divider:{marginBottom:"6vh"},alignRight:{textAlign:"right"},loadMoreButton:{width:"25%",height:"70%"},loadingContainer:{position:"fixed",width:"100%",height:"100%",bottom:"0",right:"0",background:"#BFBFBFBF",opacity:.6,display:"flex",justifyContent:"center",paddingTop:"50vh"}}})),Yt={description:"Lista de cuentas"},Jt={buttonLoadMore:{label:"Cargar m\xe1s ..."}},Qt=[{field:"account",headerName:"Cuenta",flex:1,editable:!1},{field:"description",headerName:"Descripci\xf3n",editable:!0,flex:2},{field:"balance",headerName:"Saldo",editable:!1,flex:2},{field:"actions",headerName:"Acciones",flex:1,type:"actions",renderCell:function(e){return Object(g.jsx)(Xt,{params:e})}}],$t={loadMoreButtonDisabled:!1,accounts:[],loading:!0};function Xt(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),i=a[0],c=a[1],o=r.a.useContext(k).userContext,d=Object(s.g)();return r.a.useEffect((function(){c(o.permissions.some((function(e){return e===pe.account.update})))}),[o]),Object(g.jsx)(ve.a,{type:"submit",onClick:function(){return function(){var t;d.push("".concat(R.main.account.form,"?document=").concat(null!==(t=e.params.row.account)&&void 0!==t?t:""))}()},disabled:!i,children:Object(g.jsx)(At.a,{fontSize:"small",color:i?"primary":"inherit"})})}function Zt(){var e=Ht(),t=Object(n.useState)($t),a=Object(l.a)(t,2),i=a[0],c=a[1],o=r.a.useContext(k).userContext;r.a.useEffect((function(){function e(){return(e=Object(Pe.a)(ze.a.mark((function e(){var t,a;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new vt,e.next=3,t.getAccounts(o.token||"",{limit:5});case 3:a=e.sent,c(Object(p.a)(Object(p.a)({},i),{},{accounts:a.accounts,lastEvaluatedKey:a.lastEvaluatedKey,loadMoreButtonDisabled:void 0===a.lastEvaluatedKey,loading:!1}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=function(){var e=Object(Pe.a)(ze.a.mark((function e(){var t,a,n;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new vt,e.next=4,t.getAccounts(o.token||"",{limit:5,lastEvaluatedKey:i.lastEvaluatedKey});case 4:a=e.sent,c(Object(p.a)(Object(p.a)({},i),{},{accounts:i.accounts.concat(a.accounts),lastEvaluatedKey:a.lastEvaluatedKey,loadMoreButtonDisabled:void 0===a.lastEvaluatedKey})),e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(0),!tt.a.isAxiosError(e.t0)){e.next=14;break}if(!(n=e.t0)||!n.response){e.next=14;break}return e.abrupt("return",D.b.error(n.response.data.message));case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(Pe.a)(ze.a.mark((function e(t){var a,n,r,c,s,l;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},void 0===(n=i.accounts.find((function(e){return e.account===t.id})))){e.next=6;break}a=Object(p.a)(Object(p.a)({},n),{},Object(d.a)({},t.field,t.value)),e.next=7;break;case 6:return e.abrupt("return");case 7:return e.prev=7,c=new vt,e.next=11,c.updateAccount(a,null!==(r=o.token)&&void 0!==r?r:"");case 11:return s=e.sent,e.abrupt("return",D.b.success("La cuenta ".concat(s.account," fue editada con \xe9xito")));case 15:if(e.prev=15,e.t0=e.catch(7),!tt.a.isAxiosError(e.t0)){e.next=21;break}if(!(l=e.t0)||!l.response){e.next=21;break}return e.abrupt("return",D.b.error(l.response.data.message));case 21:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:e.root,children:[Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(de.a,{variant:"h5",className:e.description,children:Yt.description})}),Object(g.jsx)(H.a,{className:e.divider}),Object(g.jsxs)(Re.a,{container:!0,spacing:3,children:[Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,children:Object(g.jsx)(Dt,{rows:i.accounts,columns:Qt,keyId:"account",gridEdit:u})}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:6,xs:12,className:e.alignRight,children:Object(g.jsx)(Ge.a,{type:"button",color:"primary",size:"small",className:e.loadMoreButton,startIcon:Object(g.jsx)(Mt.a,{}),disabled:i.loadMoreButtonDisabled,onClick:function(){return s()},children:Jt.buttonLoadMore.label})})]}),i.loading?Object(g.jsx)("div",{className:e.loadingContainer,children:Object(g.jsx)(Ve.a,{children:Object(g.jsx)(Ue.a,{})})}):""]})}function ea(e){var t=[];for(var a in e)if(e.hasOwnProperty(a)){var n=e[a];t.push({code:a,description:n})}return t}var ta=function(){function e(){Object(Xe.a)(this,e)}return Object(Ze.a)(e,[{key:"getCities",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t){var a,n;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt.a.get("".concat("https://api.plemsi.com/api","/common/list/municipality"),{headers:{authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,n=ea(a.data.data),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getBill",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt.a.get("".concat("https://api.plemsi.com/api","/billing/invoice/one?by=number&value=").concat(a,"&prefix=").concat("FE"),{headers:{authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.abrupt("return",n.data.data.preview);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),aa=Object(K.a)((function(e){return{root:{width:"85%",margin:"10vh auto 10vh auto",height:"auto"},description:{fontWeight:"bold",marginBottom:"1vh"},divider:{marginBottom:"6vh"},alignRight:{textAlign:"right"},thirdClassTitle:{color:"#757575",marginBottom:"6vh"},loadingContainer:{position:"fixed",width:"100%",height:"100%",bottom:"0",right:"0",background:"#BFBFBFBF",opacity:.6,display:"flex",justifyContent:"center",paddingTop:"50vh"}}})),na={header:{description:"Crear terceros"},body:{field:{organizationType:{name:"organizationType",helperText:"Escoja un tipo de persona",options:[{description:"Jur\xeddica",code:"1"},{description:"Natural",code:"2"}]},documentType:{name:"documentType",helperText:"Escoja el tipo de documento",options:{one:[{description:"NIT",code:"6"}],two:[{description:"Registro civil",code:"1"},{description:"Tarjeta de identidad",code:"2"},{description:"C\xe9dula de ciudadan\xeda",code:"3"},{description:"C\xe9dula de extranjer\xeda",code:"5"},{description:"Pasaporte",code:"7"},{description:"Documento de identificaci\xf3n extranjero",code:"8"}]}},liabilityType:{name:"liabilityType",helperText:"Escoja el tipo de responsabilidad",options:[{description:"Gran contribuyente",code:"7"},{description:"Autorretenedor",code:"9"},{description:"Agente de retenci\xf3n en el impuesto sobre las ventas",code:"14"},{description:"R\xe9gimen Simple de Tributaci\xf3n \u2013 SIMPLE",code:"112"},{description:"No responsable",code:"117"}]},regimeType:{name:"regimeType",helperText:"Escoja el tipo de r\xe9gimen",options:[{description:"Responsable de IVA",code:"1"},{description:"No responsable de IVA",code:"2"}]},document:{name:"document",helperText:{main:"Escriba el n\xfamero de documento",error:"El documento ingresado no tiene el formato correcto"},placeholder:"Documento"},dv:{name:"dv",helperText:"DV",placeholder:"DV"},name:{one:{name:{name:"name",helperText:"Escriba el/los nombre(s) de la persona",placeholder:"Nombre"},lastname:{name:"lastname",helperText:"Escriba el/los apellido(s) de la persona",placeholder:"Apellido(s)"}},two:{businessName:{name:"businessName",helperText:"Escriba el nombre de la empresa",placeholder:"Raz\xf3n social"}}},email:{name:"email",helperText:{main:"Escriba el email",error:"El correo ingresado no tiene el formato correcto"},placeholder:"Email"},phone:{name:"phone",helperText:"Escriba el n\xfamero telef\xf3nico",placeholder:"N\xfamero telef\xf3nico"},address:{name:"address",helperText:"Escriba la direcci\xf3n",placeholder:"Direcci\xf3n"},city:{name:"city",helperText:"Ciudad o municipio"}}}},ra={form:{document:"",dv:void 0,documentType:{code:"",description:""},organizationType:{code:"",description:""},liabilityType:{code:"",description:""},regimeType:{code:"",description:""},name:void 0,lastname:void 0,businessName:void 0,phone:"",address:"",city:void 0,email:""},errorOnMail:!1,errorOnDocument:!1,cities:[],loading:!1,isEdit:!1};function ia(){var e,t,a,i,c,o,u=aa(),b=Object(s.h)().search,m=Object(s.g)(),h=Object(n.useState)(ra),j=Object(l.a)(h,2),f=j[0],x=j[1],v=r.a.useContext(k).userContext,O=r.a.useContext(A).entityContext;r.a.useEffect((function(){function e(){return(e=Object(Pe.a)(ze.a.mark((function e(){var t,a,n,r,i,c,o;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(Object(p.a)(Object(p.a)({},f),{},{loading:!0})),a=y.getIdFromUrl(b),n=new ta,e.next=5,n.getCities(null!==(t=O.apiKeyPlemsi)&&void 0!==t?t:"");case 5:if(r=e.sent,!a){e.next=14;break}return c=new nt,e.next=10,c.getThirdByDocument(null!==(i=v.token)&&void 0!==i?i:"",a);case 10:(o=e.sent)&&x(Object(p.a)(Object(p.a)({},f),{},{form:o,cities:r,loading:!1,isEdit:!0})),e.next=15;break;case 14:x(Object(p.a)(Object(p.a)({},f),{},{cities:r,loading:!1}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var C=function(e,t){x(Object(p.a)(Object(p.a)({},f),{},{form:Object(p.a)(Object(p.a)({},f.form),{},Object(d.a)({},e,t))}))},T=function(e){var t=e.target,a=t.name,n=t.value,r=f.errorOnDocument,i=f.errorOnMail;if("document"===a){r=!/^[0-9]+$/.test(n)}if("email"===a){i=!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}x(Object(p.a)(Object(p.a)({},f),{},{form:Object(p.a)(Object(p.a)({},f.form),{},Object(d.a)({},a,n)),errorOnMail:i,errorOnDocument:r}))},w=function(){var e=Object(Pe.a)(ze.a.mark((function e(t){var a,n,r,i,c;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!f.errorOnDocument){e.next=3;break}return e.abrupt("return",D.b.error("Documento con formato incorrecto"));case 3:if(!f.errorOnMail){e.next=5;break}return e.abrupt("return",D.b.error("Mail con formato incorrecto"));case 5:if(e.prev=5,a=new nt,n={},!f.isEdit){e.next=14;break}return e.next=11,a.updateThird(f.form,null!==(r=v.token)&&void 0!==r?r:"");case 11:n=e.sent,e.next=17;break;case 14:return e.next=16,a.saveThird(f.form,null!==(i=v.token)&&void 0!==i?i:"");case 16:n=e.sent;case 17:return x(Object(p.a)(Object(p.a)({},ra),{},{cities:f.cities,loading:!1})),m.push(R.main.third.form),e.abrupt("return",D.b.success("El tercero ".concat(n.document," fue ").concat(f.isEdit?"actualizado":"creado"," con \xe9xito")));case 22:if(e.prev=22,e.t0=e.catch(5),!tt.a.isAxiosError(e.t0)){e.next=28;break}if(!(c=e.t0)||!c.response){e.next=28;break}return e.abrupt("return",D.b.error(c.response.data.message));case 28:case"end":return e.stop()}}),e,null,[[5,22]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:u.root,children:[Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(de.a,{variant:"h5",className:u.description,children:na.header.description})}),Object(g.jsx)(H.a,{className:u.divider}),Object(g.jsx)("form",{onSubmit:function(e){return w(e)},children:Object(g.jsxs)(Re.a,{container:!0,spacing:3,children:[Object(g.jsxs)(Re.a,{item:!0,md:"2"===f.form.organizationType.code?4:3,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:na.body.field.organizationType.name,value:f.form.organizationType.code,variant:"outlined",fullWidth:!0,disabled:f.isEdit,children:na.body.field.organizationType.options.map((function(e){return Object(g.jsx)(ge.a,{value:e.code,onClick:function(){return C(na.body.field.organizationType.name,e)},children:e.description},e.description)}))}),Object(g.jsx)(Ke.a,{children:na.body.field.organizationType.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:4,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:na.body.field.documentType.name,value:f.form.documentType.code,variant:"outlined",fullWidth:!0,children:f.form.organizationType.code===na.body.field.organizationType.options[0].code?na.body.field.documentType.options.one.map((function(e){return Object(g.jsx)(ge.a,{value:e.code,onClick:function(){return C(na.body.field.documentType.name,e)},children:e.description},e.description)})):na.body.field.documentType.options.two.map((function(e){return Object(g.jsx)(ge.a,{value:e.code,onClick:function(){return C(na.body.field.documentType.name,e)},children:e.description},e.description)}))}),Object(g.jsx)(Ke.a,{children:na.body.field.documentType.helperText})]}),Object(g.jsx)(Re.a,{item:!0,md:4,sm:6,xs:10,children:Object(g.jsx)(_e.a,{required:!0,name:na.body.field.document.name,value:f.form.document,variant:"outlined",fullWidth:!0,onChange:T,helperText:f.errorOnDocument?na.body.field.document.helperText.error:na.body.field.document.helperText.main,placeholder:na.body.field.document.placeholder,disabled:f.isEdit,error:f.errorOnDocument})}),"2"===f.form.organizationType.code?Object(g.jsxs)(r.a.Fragment,{children:[Object(g.jsx)(Re.a,{item:!0,md:6,sm:6,xs:12,children:Object(g.jsx)(_e.a,{required:!0,name:na.body.field.name.one.name.name,value:null!==(e=f.form.name)&&void 0!==e?e:"",variant:"outlined",fullWidth:!0,onChange:T,helperText:na.body.field.name.one.name.helperText,placeholder:na.body.field.name.one.name.placeholder})}),Object(g.jsx)(Re.a,{item:!0,md:6,sm:6,xs:12,children:Object(g.jsx)(_e.a,{required:!0,name:na.body.field.name.one.lastname.name,value:null!==(t=f.form.lastname)&&void 0!==t?t:"",variant:"outlined",fullWidth:!0,onChange:T,helperText:na.body.field.name.one.lastname.helperText,placeholder:na.body.field.name.one.lastname.placeholder})})]}):Object(g.jsxs)(r.a.Fragment,{children:[Object(g.jsx)(Re.a,{item:!0,md:1,sm:3,xs:2,children:Object(g.jsx)(_e.a,{required:!0,name:na.body.field.dv.name,value:null!==(a=f.form.dv)&&void 0!==a?a:"",variant:"outlined",fullWidth:!0,onChange:T,helperText:na.body.field.dv.helperText,placeholder:na.body.field.dv.placeholder})}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:6,xs:12,children:Object(g.jsx)(_e.a,{required:!0,name:na.body.field.name.two.businessName.name,value:null!==(i=f.form.businessName)&&void 0!==i?i:"",variant:"outlined",fullWidth:!0,onChange:T,helperText:na.body.field.name.two.businessName.helperText,placeholder:na.body.field.name.two.businessName.placeholder})})]}),Object(g.jsxs)(Re.a,{item:!0,md:6,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:na.body.field.liabilityType.name,value:f.form.liabilityType.code,variant:"outlined",fullWidth:!0,children:na.body.field.liabilityType.options.map((function(e){return Object(g.jsx)(ge.a,{value:e.code,onClick:function(){return C(na.body.field.liabilityType.name,e)},children:e.description},e.description)}))}),Object(g.jsx)(Ke.a,{children:na.body.field.liabilityType.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:6,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:na.body.field.regimeType.name,value:f.form.regimeType.code,variant:"outlined",fullWidth:!0,children:na.body.field.regimeType.options.map((function(e){return Object(g.jsx)(ge.a,{value:e.code,onClick:function(){return C(na.body.field.regimeType.name,e)},children:e.description},e.description)}))}),Object(g.jsx)(Ke.a,{children:na.body.field.regimeType.helperText})]}),Object(g.jsx)(Re.a,{item:!0,md:6,sm:6,xs:12,children:Object(g.jsx)(_e.a,{name:na.body.field.email.name,value:f.form.email,variant:"outlined",fullWidth:!0,onChange:T,helperText:f.errorOnMail?na.body.field.email.helperText.error:na.body.field.email.helperText.main,placeholder:na.body.field.email.placeholder,error:f.errorOnMail})}),Object(g.jsx)(Re.a,{item:!0,md:6,sm:6,xs:12,children:Object(g.jsx)(_e.a,{name:na.body.field.phone.name,value:f.form.phone,variant:"outlined",fullWidth:!0,onChange:T,helperText:na.body.field.phone.helperText,placeholder:na.body.field.phone.placeholder})}),Object(g.jsx)(Re.a,{item:!0,md:6,sm:6,xs:12,children:Object(g.jsx)(_e.a,{name:na.body.field.address.name,value:f.form.address,variant:"outlined",fullWidth:!0,onChange:T,helperText:na.body.field.address.helperText,placeholder:na.body.field.address.placeholder})}),Object(g.jsxs)(Re.a,{item:!0,md:6,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:na.body.field.city.name,value:null!==(c=null===(o=f.form.city)||void 0===o?void 0:o.code)&&void 0!==c?c:"",variant:"outlined",fullWidth:!0,children:f.cities.map((function(e){return Object(g.jsx)(ge.a,{value:e.code,onClick:function(){return C(na.body.field.city.name,e)},children:e.description},e.code)}))}),Object(g.jsx)(Ke.a,{children:na.body.field.city.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:12,sm:6,xs:12,className:u.alignRight,children:[Object(g.jsx)(ve.a,{type:"submit",children:Object(g.jsx)(Qe.a,{fontSize:"large",color:"primary"})}),Object(g.jsx)(ve.a,{type:"button",onClick:function(){x(ra)},children:Object(g.jsx)($e.a,{fontSize:"large",color:"secondary"})})]})]})}),f.loading?Object(g.jsx)("div",{className:u.loadingContainer,children:Object(g.jsx)(Ve.a,{children:Object(g.jsx)(Ue.a,{})})}):""]})}var ca=Object(K.a)((function(e){return{root:{width:"85%",margin:"10vh auto 10vh auto",height:"auto"},description:{fontWeight:"bold",marginBottom:"1vh"},divider:{marginBottom:"6vh"},alignRight:{textAlign:"right"},loadMoreButton:{width:"25%",height:"70%"},loadingContainer:{position:"fixed",width:"100%",height:"100%",bottom:"0",right:"0",background:"#BFBFBFBF",opacity:.6,display:"flex",justifyContent:"center",paddingTop:"50vh"}}})),oa={description:"Lista de terceros"},sa={buttonLoadMore:{label:"Cargar m\xe1s ..."}},la=[{field:"document",headerName:"Documento",editable:!1,flex:1},{field:"fullName",headerName:"Nombre",editable:!1,flex:2,valueGetter:function(e){return"".concat(e.getValue(e.id,"name")||e.getValue(e.id,"businessName")," ").concat(e.getValue(e.id,"lastname")||"")}},{field:"email",headerName:"Email",flex:1,editable:!0},{field:"phone",headerName:"Tel\xe9fono",flex:1,editable:!0},{field:"actions",headerName:"Acciones",flex:1,type:"actions",renderCell:function(e){return Object(g.jsx)(ua,{params:e})}}],da={loadMoreButtonDisabled:!1,thirds:[],loading:!0};function ua(e){var t=Object(s.g)();return Object(g.jsx)(ve.a,{type:"submit",onClick:function(){return function(){var a;t.push("".concat(R.main.third.form,"?document=").concat(null!==(a=e.params.row.document)&&void 0!==a?a:""))}()},children:Object(g.jsx)(At.a,{fontSize:"small",color:"primary"})})}function pa(){var e=ca(),t=Object(n.useState)(da),a=Object(l.a)(t,2),i=a[0],c=a[1],o=r.a.useContext(k).userContext;r.a.useEffect((function(){function e(){return(e=Object(Pe.a)(ze.a.mark((function e(){var t,a;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new nt,e.next=3,t.getThirds(o.token||"",{limit:5});case 3:a=e.sent,c(Object(p.a)(Object(p.a)({},i),{},{thirds:a.thirds,lastEvaluatedKey:a.lastEvaluatedKey,loadMoreButtonDisabled:void 0===a.lastEvaluatedKey,loading:!1}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=function(){var e=Object(Pe.a)(ze.a.mark((function e(){var t,a,n;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new nt,e.next=4,t.getThirds(o.token||"",{limit:5,lastEvaluatedKey:i.lastEvaluatedKey});case 4:a=e.sent,c(Object(p.a)(Object(p.a)({},i),{},{thirds:i.thirds.concat(a.thirds),lastEvaluatedKey:a.lastEvaluatedKey,loadMoreButtonDisabled:void 0===a.lastEvaluatedKey})),e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(0),!tt.a.isAxiosError(e.t0)){e.next=14;break}if(!(n=e.t0)||!n.response){e.next=14;break}return e.abrupt("return",D.b.error(n.response.data.message));case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(Pe.a)(ze.a.mark((function e(t){var a,n,r,c,s,l;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},void 0===(n=i.thirds.find((function(e){return e.document===t.id})))){e.next=6;break}a=Object(p.a)(Object(p.a)({},n),{},Object(d.a)({},t.field,t.value)),e.next=7;break;case 6:return e.abrupt("return");case 7:return e.prev=7,c=new nt,e.next=11,c.updateThird(a,null!==(r=o.token)&&void 0!==r?r:"");case 11:return s=e.sent,e.abrupt("return",D.b.success("El tercero ".concat(s.document," fue editado con \xe9xito")));case 15:if(e.prev=15,e.t0=e.catch(7),!tt.a.isAxiosError(e.t0)){e.next=21;break}if(!(l=e.t0)||!l.response){e.next=21;break}return e.abrupt("return",D.b.error(l.response.data.message));case 21:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:e.root,children:[Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(de.a,{variant:"h5",className:e.description,children:oa.description})}),Object(g.jsx)(H.a,{className:e.divider}),Object(g.jsxs)(Re.a,{container:!0,spacing:3,children:[Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,children:Object(g.jsx)(Dt,{rows:i.thirds,columns:la,keyId:"document",gridEdit:u})}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:6,xs:12,className:e.alignRight,children:Object(g.jsx)(Ge.a,{type:"button",color:"primary",size:"small",className:e.loadMoreButton,startIcon:Object(g.jsx)(Mt.a,{}),disabled:i.loadMoreButtonDisabled,onClick:function(){return s()},children:sa.buttonLoadMore.label})})]}),i.loading?Object(g.jsx)("div",{className:e.loadingContainer,children:Object(g.jsx)(Ve.a,{children:Object(g.jsx)(Ue.a,{})})}):""]})}var ba=Object(K.a)((function(e){return{root:{width:"85%",margin:"10vh auto 10vh auto",height:"auto"},title:{fontWeight:"bold",marginBottom:"1vh"},divider:{marginBottom:"6vh"},contentAside:{textAlign:"right",padding:"5vh 5vh 0 10vh"},alignRight:{textAlign:"right"}}})),ma={header:{title:"Migrar terceros"},body:{field:{lastThird:{name:"lastThird",helperText:"Escoja el tercero a migrar",options:[{id:"12",name:"Pedro",secondName:"Alfonso",lastName:"Marin"},{id:"13",companyName:"Electrosuaza ltda"}]},newThird:{name:"newThird",helperText:"Escoja el nuevo tercero",options:[{id:"12",name:"Pedro",secondName:"Alfonso",lastName:"Marin"},{id:"13",companyName:"Electrosuaza ltda"}]}},aside:{title:"Necesitas ayuda?",content:"La migraci\xf3n de terceros es la manera de transferir los recibos y dem\xe1s registros de un tercero a otro tercero. Esto te ser\xe1 \xfatil en caso de querer unificar un tercero que tengas duplicado."}}},ha={lastThird:"",newThird:""};function ja(){var e=ba(),t=Object(n.useState)(ha),a=Object(l.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)(ma.body.field.lastThird.options),s=Object(l.a)(o,2),u=s[0],b=s[1],m=function(e){var t=e.target.name;if("lastThird"===t){var a=ma.body.field.lastThird.options.filter((function(t){return t.id!==e.target.value}));b(a)}c(Object(p.a)(Object(p.a)({},i),{},Object(d.a)({},t,e.target.value)))};return Object(g.jsxs)("div",{className:e.root,children:[Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(de.a,{variant:"h5",className:e.title,children:ma.header.title})}),Object(g.jsx)(H.a,{className:e.divider}),Object(g.jsxs)(Re.a,{container:!0,spacing:5,children:[Object(g.jsx)(Re.a,{item:!0,md:7,sm:12,xs:12,children:Object(g.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault(),console.log(i)}(e)},children:Object(g.jsxs)(Re.a,{container:!0,spacing:3,children:[Object(g.jsxs)(Re.a,{item:!0,md:12,sm:12,xs:12,children:[Object(g.jsx)(We.a,{name:ma.body.field.lastThird.name,value:i.lastThird,variant:"outlined",fullWidth:!0,onChange:m,children:ma.body.field.lastThird.options.map((function(e,t){return Object(g.jsx)(ge.a,{value:e.id,children:e.name?"".concat(e.name," ").concat(e.secondName," ").concat(e.lastName):e.companyName},t)}))}),Object(g.jsx)(Ke.a,{children:ma.body.field.lastThird.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:12,sm:12,xs:12,children:[Object(g.jsx)(We.a,{name:ma.body.field.newThird.name,value:i.newThird,variant:"outlined",fullWidth:!0,onChange:m,children:u.map((function(e,t){return Object(g.jsx)(ge.a,{value:e.id,children:e.name?"".concat(e.name," ").concat(e.secondName," ").concat(e.lastName):e.companyName},t)}))}),Object(g.jsx)(Ke.a,{children:ma.body.field.newThird.helperText})]}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:6,xs:12,className:e.alignRight,children:Object(g.jsx)(ve.a,{type:"submit",children:Object(g.jsx)(Qe.a,{fontSize:"large",color:"primary"})})})]})})}),Object(g.jsxs)(Re.a,{md:5,sm:12,xs:12,className:e.contentAside,children:[Object(g.jsx)(de.a,{color:"primary",variant:"h6",children:ma.body.aside.title}),Object(g.jsx)(de.a,{variant:"body2",children:ma.body.aside.content})]})]})]})}var fa=Object(K.a)((function(e){return{root:{width:"85%",margin:"10vh auto 10vh auto",height:"auto"},description:{fontWeight:"bold",marginBottom:"1vh"},divider:{marginBottom:"6vh"},alignRight:{textAlign:"right"},thirdClassTitle:{color:"#757575",marginBottom:"6vh"},loadingContainer:{position:"fixed",width:"100%",height:"100%",bottom:"0",right:"0",background:"#BFBFBFBF",opacity:.6,display:"flex",justifyContent:"center",paddingTop:"50vh"}}})),xa={header:{description:"Crear conceptos"},body:{field:{account:{name:"account",helperText:"Cuenta contable del concepto",placeholder:"Cuenta",validationError:"Debe ser de 10 d\xedgitos"},description:{name:"description",helperText:"Escriba la descripci\xf3n del concepto",placeholder:"Nombre de concepto"},type:{name:"type",helperText:"Tipo de concepto",options:[{description:"Cr\xe9dito",code:"CREDIT"},{description:"D\xe9bito",code:"DEBIT"}]}}}},va={form:{account:0,description:"",type:{code:"",description:""}},validations:{errorMinLengthAccount:!1},isEdit:!1,loading:!1};function Oa(){var e,t,a=fa(),i=Object(s.h)().search,c=Object(s.g)(),o=Object(n.useState)(va),u=Object(l.a)(o,2),b=u[0],m=u[1],h=r.a.useContext(k).userContext;r.a.useEffect((function(){function e(){return(e=Object(Pe.a)(ze.a.mark((function e(){var t,a,n,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=y.getIdFromUrl(i))){e.next=8;break}return m(Object(p.a)(Object(p.a)({},b),{},{loading:!0})),n=new it,e.next=6,n.getConceptByAccount(null!==(a=h.token)&&void 0!==a?a:"",t);case 6:(r=e.sent)&&m(Object(p.a)(Object(p.a)({},b),{},{form:r,loading:!1,isEdit:!0}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var j=function(e){var t=e.target,a=t.name,n=t.value,r=b.validations.errorMinLengthAccount;"account"===a&&(r=n.length<Number("10")),m(Object(p.a)(Object(p.a)({},b),{},{form:Object(p.a)(Object(p.a)({},b.form),{},Object(d.a)({},a,n)),validations:{errorMinLengthAccount:r}}))},f=function(){var e=Object(Pe.a)(ze.a.mark((function e(t){var a,n,r,i,o;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!b.validations.errorMinLengthAccount){e.next=4;break}throw new Error("La cuenta debe tener ".concat("10"," d\xedgitos"));case 4:if(a=new it,!b.isEdit){e.next=11;break}return e.next=8,a.updateConcept(b.form,null!==(r=h.token)&&void 0!==r?r:"");case 8:n=e.sent,e.next=14;break;case 11:return e.next=13,a.saveConcept(b.form,null!==(i=h.token)&&void 0!==i?i:"");case 13:n=e.sent;case 14:return m(va),c.push(R.main.concept.form),e.abrupt("return",D.b.success("El concepto ".concat(n.account," fue ").concat(b.isEdit?"actualizado":"creado"," con \xe9xito")));case 19:if(e.prev=19,e.t0=e.catch(1),!tt.a.isAxiosError(e.t0)){e.next=27;break}if(!(o=e.t0)||!o.response){e.next=25;break}return e.abrupt("return",D.b.error(o.response.data.message));case 25:e.next=29;break;case 27:if(!(e.t0 instanceof Error)){e.next=29;break}return e.abrupt("return",D.b.error(e.t0.message));case 29:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:a.root,children:[Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(de.a,{variant:"h5",className:a.description,children:xa.header.description})}),Object(g.jsx)(H.a,{className:a.divider}),Object(g.jsx)("form",{onSubmit:function(e){return f(e)},children:Object(g.jsxs)(Re.a,{container:!0,spacing:3,children:[Object(g.jsx)(Re.a,{item:!0,md:6,sm:6,xs:10,children:Object(g.jsx)(_e.a,{required:!0,name:xa.body.field.account.name,value:b.form.account,variant:"outlined",fullWidth:!0,onChange:j,helperText:b.validations.errorMinLengthAccount?xa.body.field.account.validationError:xa.body.field.account.helperText,error:b.validations.errorMinLengthAccount,placeholder:xa.body.field.account.placeholder,inputProps:{maxLength:10}})}),Object(g.jsx)(Re.a,{item:!0,md:6,sm:6,xs:10,children:Object(g.jsx)(_e.a,{required:!0,name:xa.body.field.description.name,value:b.form.description,variant:"outlined",fullWidth:!0,onChange:j,helperText:xa.body.field.description.helperText,placeholder:xa.body.field.description.placeholder})}),Object(g.jsxs)(Re.a,{item:!0,md:6,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:xa.body.field.type.name,value:null!==(e=null===(t=b.form.type)||void 0===t?void 0:t.code)&&void 0!==e?e:"",variant:"outlined",fullWidth:!0,children:xa.body.field.type.options.map((function(e){return Object(g.jsx)(ge.a,{value:e.code,onClick:function(){return function(e,t){m(Object(p.a)(Object(p.a)({},b),{},{form:Object(p.a)(Object(p.a)({},b.form),{},Object(d.a)({},e,t))}))}(xa.body.field.type.name,e)},children:e.description},e.description)}))}),Object(g.jsx)(Ke.a,{children:xa.body.field.type.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:12,sm:6,xs:12,className:a.alignRight,children:[Object(g.jsx)(ve.a,{type:"submit",children:Object(g.jsx)(Qe.a,{fontSize:"large",color:"primary"})}),Object(g.jsx)(ve.a,{type:"button",onClick:function(){m(va)},children:Object(g.jsx)($e.a,{fontSize:"large",color:"secondary"})})]})]})}),b.loading?Object(g.jsx)("div",{className:a.loadingContainer,children:Object(g.jsx)(Ve.a,{children:Object(g.jsx)(Ue.a,{})})}):""]})}var ya=Object(K.a)((function(e){return{root:{width:"85%",margin:"10vh auto 10vh auto",height:"auto"},description:{fontWeight:"bold",marginBottom:"1vh"},divider:{marginBottom:"6vh"},alignRight:{textAlign:"right"},loadMoreButton:{width:"25%",height:"70%"},loadingContainer:{position:"fixed",width:"100%",height:"100%",bottom:"0",right:"0",background:"#BFBFBFBF",opacity:.6,display:"flex",justifyContent:"center",paddingTop:"50vh"}}})),ga={description:"Lista de conceptos"},Ca={buttonLoadMore:{label:"Cargar m\xe1s ..."}},Ta=[{field:"account",headerName:"Cuenta",flex:1,editable:!1},{field:"description",headerName:"Concepto",editable:!0,flex:2},{field:"typeDescription",headerName:"Tipo",editable:!1,flex:1},{field:"actions",headerName:"Acciones",flex:1,type:"actions",renderCell:function(e){return Object(g.jsx)(ka,{params:e})}}],wa={loadMoreButtonDisabled:!1,concepts:[],loading:!0};function ka(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),i=a[0],c=a[1],o=r.a.useContext(k).userContext,d=Object(s.g)();return r.a.useEffect((function(){c(o.permissions.some((function(e){return e===pe.concept.update})))}),[o]),Object(g.jsx)(ve.a,{type:"submit",onClick:function(){return function(){var t;d.push("".concat(R.main.concept.form,"?account=").concat(null!==(t=e.params.row.account)&&void 0!==t?t:""))}()},disabled:!i,children:Object(g.jsx)(At.a,{fontSize:"small",color:i?"primary":"inherit"})})}function Ea(){var e=ya(),t=Object(n.useState)(wa),a=Object(l.a)(t,2),i=a[0],c=a[1],o=r.a.useContext(k).userContext;r.a.useEffect((function(){function e(){return(e=Object(Pe.a)(ze.a.mark((function e(){var t,a,n;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new it,e.next=3,t.getConcepts(o.token||"",{limit:5});case 3:a=e.sent,n=a.concepts.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{typeDescription:e.type.description})})),c(Object(p.a)(Object(p.a)({},i),{},{concepts:n,lastEvaluatedKey:a.lastEvaluatedKey,loadMoreButtonDisabled:void 0===a.lastEvaluatedKey,loading:!1}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=function(){var e=Object(Pe.a)(ze.a.mark((function e(){var t,a,n,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new it,e.next=4,t.getConcepts(o.token||"",{limit:5,lastEvaluatedKey:i.lastEvaluatedKey});case 4:a=e.sent,n=a.concepts.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{typeDescription:e.type.description})})),c(Object(p.a)(Object(p.a)({},i),{},{concepts:i.concepts.concat(n),lastEvaluatedKey:a.lastEvaluatedKey,loadMoreButtonDisabled:void 0===a.lastEvaluatedKey})),e.next=15;break;case 9:if(e.prev=9,e.t0=e.catch(0),!tt.a.isAxiosError(e.t0)){e.next=15;break}if(!(r=e.t0)||!r.response){e.next=15;break}return e.abrupt("return",D.b.error(r.response.data.message));case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(Pe.a)(ze.a.mark((function e(t){var a,n,r,c,s,l;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},void 0===(n=i.concepts.find((function(e){return e.account===t.id})))){e.next=6;break}a=Object(p.a)(Object(p.a)({},n),{},Object(d.a)({},t.field,t.value)),e.next=7;break;case 6:return e.abrupt("return");case 7:return e.prev=7,c=new it,e.next=11,c.updateConcept(a,null!==(r=o.token)&&void 0!==r?r:"");case 11:return s=e.sent,e.abrupt("return",D.b.success("El concepto ".concat(s.account," fue editado con \xe9xito")));case 15:if(e.prev=15,e.t0=e.catch(7),!tt.a.isAxiosError(e.t0)){e.next=21;break}if(!(l=e.t0)||!l.response){e.next=21;break}return e.abrupt("return",D.b.error(l.response.data.message));case 21:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:e.root,children:[Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(de.a,{variant:"h5",className:e.description,children:ga.description})}),Object(g.jsx)(H.a,{className:e.divider}),Object(g.jsxs)(Re.a,{container:!0,spacing:3,children:[Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,children:Object(g.jsx)(Dt,{rows:i.concepts,columns:Ta,keyId:"account",gridEdit:u})}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:6,xs:12,className:e.alignRight,children:Object(g.jsx)(Ge.a,{type:"button",color:"primary",size:"small",className:e.loadMoreButton,startIcon:Object(g.jsx)(Mt.a,{}),disabled:i.loadMoreButtonDisabled,onClick:function(){return s()},children:Ca.buttonLoadMore.label})})]}),i.loading?Object(g.jsx)("div",{className:e.loadingContainer,children:Object(g.jsx)(Ve.a,{children:Object(g.jsx)(Ue.a,{})})}):""]})}var Na=Object(K.a)((function(e){return{root:{width:"85%",margin:"10vh auto 10vh auto",height:"auto"},title:{fontWeight:"bold",marginBottom:"1vh"},divider:{marginBottom:"6vh"},alignRight:{textAlign:"right"}}})),Ba={header:{title:"Transacciones internas"},body:{field:{type:{name:"type",helperText:"Escoja el tipo de transacci\xf3n",options:[{title:"Consignaci\xf3n de efectivo a un banco",value:"CONSIGNACION"},{title:"Retiro de efectivo de un banco",value:"RETIRO"},{title:"Transferencia de un banco a otro banco",value:"TRANSFERENCIA"}]},date:{name:"date",helperText:"Ingrese la fecha del movimiento",placeholder:"Fecha *"},serial:{name:"serial",helperText:"Ingrese el serial o c\xf3digo de transacci\xf3n",placeholder:"Serial *"},bank:{name:"bank",helperText:{optionOne:"Escoja el banco a consignar",optionTwo:"Escoja el banco a retirar",optionThree:"Escoja el banco que transfiere"},options:[{title:"Bancolombia",value:"674867836"},{title:"BBVA",value:"7786786687"}]},secondBank:{name:"secondBank",helperText:"Escoja el banco a transferir"},value:{name:"value",helperText:"Ingrese el valor de la transacci\xf3n",placeholder:"Value *"}}}},Aa={type:"",date:new Date,serial:"",bank:"",secondBank:void 0,value:0};function Ma(){var e=Na(),t=Object(n.useState)(Aa),a=Object(l.a)(t,2),i=a[0],c=a[1],o=Object(n.useState)(""),s=Object(l.a)(o,2),u=s[0],b=s[1],m=Object(n.useState)(Ba.body.field.bank.options),h=Object(l.a)(m,2),j=h[0],f=h[1],x=function(e){var t=e.target.name;if(t===Ba.body.field.bank.name){var a=Ba.body.field.bank.options.filter((function(t){return t.value!==e.target.value}));f(a)}c(Object(p.a)(Object(p.a)({},i),{},Object(d.a)({},t,e.target.value)))},v=function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return e[a]=n,Object(p.a)({},e)}))};return Object(g.jsxs)("div",{className:e.root,children:[Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(de.a,{variant:"h5",className:e.title,children:Ba.header.title})}),Object(g.jsx)(H.a,{className:e.divider}),Object(g.jsx)("form",{onSubmit:function(e){return function(e){var t=u.replace(/,/gi,"");c(Object(p.a)(Object(p.a)({},i),{},{value:Number(t)}))}()},children:Object(g.jsxs)(Re.a,{container:!0,spacing:3,children:[Object(g.jsxs)(Re.a,{item:!0,md:8,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:Ba.body.field.type.name,value:i.type,variant:"outlined",fullWidth:!0,onChange:x,children:Ba.body.field.type.options.map((function(e,t){return Object(g.jsx)(ge.a,{value:e.value,children:e.title},t)}))}),Object(g.jsx)(Ke.a,{children:Ba.body.field.type.helperText})]}),Object(g.jsx)(Re.a,{item:!0,md:4,sm:6,xs:12,children:Object(g.jsx)(_e.a,{required:!0,name:Ba.body.field.date.name,value:i.date,id:"outlined-helperText",variant:"outlined",fullWidth:!0,type:"date",onChange:v,helperText:Ba.body.field.date.helperText})}),Object(g.jsx)(Re.a,{item:!0,md:6,sm:6,xs:12,children:Object(g.jsx)(_e.a,{required:!0,name:Ba.body.field.serial.name,value:i.serial,id:"outlined-helperText",variant:"outlined",fullWidth:!0,onChange:v,helperText:Ba.body.field.serial.helperText,placeholder:Ba.body.field.serial.placeholder})}),Object(g.jsxs)(Re.a,{item:!0,md:6,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:Ba.body.field.bank.name,value:i.bank,variant:"outlined",fullWidth:!0,onChange:x,children:Ba.body.field.bank.options.map((function(e,t){return Object(g.jsxs)(ge.a,{value:e.value,children:[e.title," - ",e.value]},t)}))}),Object(g.jsx)(Ke.a,{children:i.type===Ba.body.field.type.options[0].value?Ba.body.field.bank.helperText.optionOne:i.type===Ba.body.field.type.options[1].value?Ba.body.field.bank.helperText.optionTwo:i.type===Ba.body.field.type.options[2].value?Ba.body.field.bank.helperText.optionThree:Ba.body.field.bank.helperText.optionOne})]}),i.type===Ba.body.field.type.options[2].value?Object(g.jsxs)(Re.a,{item:!0,md:6,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:Ba.body.field.secondBank.name,value:i.secondBank,variant:"outlined",fullWidth:!0,onChange:x,children:j.map((function(e,t){return Object(g.jsxs)(ge.a,{value:e.value,children:[e.title," - ",e.value]},t)}))}),Object(g.jsx)(Ke.a,{children:Ba.body.field.secondBank.helperText})]}):"",Object(g.jsx)(Re.a,{item:!0,md:6,sm:6,xs:12,children:Object(g.jsx)(_e.a,{required:!0,name:Ba.body.field.value.name,value:u,onChange:function(e){var t=e.target,a=t.name,n=t.value;if(a===Ba.body.field.value.name){b(n);for(var r=n.split(",").join("").split("").reverse(),i=[],c="",o=Math.ceil(r.length/3),s=0;s<o;s++){for(var l=0;l<3;l++)void 0!==r[l+3*s]&&(c+=r[l+3*s]);i.push(c),c="",b(i.join(",").split("").reverse().join(""))}}},fullWidth:!0,variant:"outlined",helperText:Ba.body.field.value.helperText,placeholder:Ba.body.field.value.placeholder})}),Object(g.jsxs)(Re.a,{item:!0,md:12,sm:12,xs:12,className:e.alignRight,children:[Object(g.jsx)(ve.a,{type:"submit",children:Object(g.jsx)(Qe.a,{fontSize:"large",color:"primary"})}),Object(g.jsx)(ve.a,{type:"button",onClick:function(){c(Aa),b("")},children:Object(g.jsx)($e.a,{fontSize:"large",color:"secondary"})})]})]})})]})}var Fa=Object(K.a)((function(e){return{root:{width:"85%",margin:"10vh auto 10vh auto",height:"auto"},title:{fontWeight:"bold",marginBottom:"1vh"},divider:{marginBottom:"6vh"},alignRight:{textAlign:"right"}}})),Da={header:{title:"Reporte de recibos de caja"},body:{fields:{from:{name:"from",helperText:"Desde"},to:{name:"to",helperText:"Hasta"},serial:{name:"serial",helperText:"Ingrese el serial de la transacci\xf3n",placeholder:"Serial"},third:{name:"third",helperText:"Escoja un tercero para filtrar",options:[{title:"Pedro Mario Carranza",value:"33344554"},{title:"El\xe9ctricos don pipe",value:"987675656"},{title:"Maria Perdomo",value:"35765633"}]},wayPay:{name:"wayPay",helperText:"Escoja la manera de pago",options:[{title:"Efectivo",value:"efectivo"},{title:"Consignaci\xf3n",value:"consignacion"},{title:"Cheque",value:"cheque"}]},concept:{name:"concept",helperText:"Escoja un concepto",options:[{title:"Exequias",value:"12005"},{title:"Partidas",value:"11002"},{title:"Donaciones",value:"10250"}]},type:{name:"type",helperText:"Escoja el tipo de recibo",options:[{title:"Ingreso",value:"ingreso"},{title:"Egreso",value:"egreso"}]}}}},Sa={from:new Date,to:new Date,serial:"",third:"",wayPay:"",concept:"",type:""};function Ia(){var e=Fa(),t=Object(n.useState)(Sa),a=Object(l.a)(t,2),i=a[0],c=a[1],o=function(e){var t=e.target.name;c(Object(p.a)(Object(p.a)({},i),{},Object(d.a)({},t,e.target.value)))},s=function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return e[a]=n,Object(p.a)({},e)}))};return Object(g.jsxs)("div",{className:e.root,children:[Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(de.a,{variant:"h5",className:e.title,children:Da.header.title})}),Object(g.jsx)(H.a,{className:e.divider}),Object(g.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault(),console.log(i)}(e)},children:Object(g.jsxs)(Re.a,{container:!0,spacing:3,children:[Object(g.jsx)(Re.a,{item:!0,md:4,sm:6,xs:12,children:Object(g.jsx)(_e.a,{required:!0,name:Da.body.fields.from.name,value:i.from,id:"outlined-helperText",variant:"outlined",fullWidth:!0,type:"date",onChange:s,helperText:Da.body.fields.from.helperText})}),Object(g.jsx)(Re.a,{item:!0,md:4,sm:6,xs:12,children:Object(g.jsx)(_e.a,{required:!0,name:Da.body.fields.to.name,value:i.to,id:"outlined-helperText",variant:"outlined",fullWidth:!0,type:"date",onChange:s,helperText:Da.body.fields.to.helperText})}),Object(g.jsx)(Re.a,{item:!0,md:4,sm:6,xs:12,children:Object(g.jsx)(_e.a,{required:!0,name:Da.body.fields.serial.name,value:i.serial,id:"outlined-helperText",variant:"outlined",fullWidth:!0,onChange:s,helperText:Da.body.fields.serial.helperText,placeholder:Da.body.fields.serial.placeholder})}),Object(g.jsxs)(Re.a,{item:!0,md:8,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:Da.body.fields.third.name,value:i.third,variant:"outlined",fullWidth:!0,onChange:o,children:Da.body.fields.third.options.map((function(e,t){return Object(g.jsx)(ge.a,{value:e.value,children:e.title},t)}))}),Object(g.jsx)(Ke.a,{children:Da.body.fields.third.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:4,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:Da.body.fields.wayPay.name,value:i.wayPay,variant:"outlined",fullWidth:!0,onChange:o,children:Da.body.fields.wayPay.options.map((function(e,t){return Object(g.jsx)(ge.a,{value:e.value,children:e.title},t)}))}),Object(g.jsx)(Ke.a,{children:Da.body.fields.wayPay.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:8,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:Da.body.fields.concept.name,value:i.concept,variant:"outlined",fullWidth:!0,onChange:o,children:Da.body.fields.concept.options.map((function(e,t){return Object(g.jsx)(ge.a,{value:e.value,children:e.title},t)}))}),Object(g.jsx)(Ke.a,{children:Da.body.fields.concept.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:4,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:Da.body.fields.type.name,value:i.type,variant:"outlined",fullWidth:!0,onChange:o,children:Da.body.fields.type.options.map((function(e,t){return Object(g.jsx)(ge.a,{value:e.value,children:e.title},t)}))}),Object(g.jsx)(Ke.a,{children:Da.body.fields.type.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:12,sm:12,xs:12,className:e.alignRight,children:[Object(g.jsx)(ve.a,{type:"submit",children:Object(g.jsx)(Qe.a,{fontSize:"large",color:"primary"})}),Object(g.jsx)(ve.a,{type:"button",onClick:function(){c(Sa)},children:Object(g.jsx)($e.a,{fontSize:"large",color:"secondary"})})]})]})})]})}var La=Object(K.a)((function(e){return{root:{width:"85%",margin:"10vh auto 10vh auto",height:"auto"},title:{fontWeight:"bold",marginBottom:"1vh"},divider:{marginBottom:"6vh"},alignRight:{textAlign:"right"}}})),za={header:{title:"Reporte de transacciones internas"},body:{fields:{from:{name:"from",helperText:"Desde"},to:{name:"to",helperText:"Hasta"},bank:{name:"bank",helperText:"Escoja un banco",options:[{title:"Bancolombia",value:"786786765"},{title:"BBVA",value:"110546502"},{title:"Galicia",value:"10250345"}]},type:{name:"type",helperText:"Escoja el tipo de recibo",options:[{title:"Ingreso",value:"ingreso"},{title:"Egreso",value:"egreso"}]}}}},Pa={from:new Date,to:new Date,bank:"",type:""};function Ra(){var e=La(),t=Object(n.useState)(Pa),a=Object(l.a)(t,2),i=a[0],c=a[1],o=function(e){var t=e.target.name;c(Object(p.a)(Object(p.a)({},i),{},Object(d.a)({},t,e.target.value)))},s=function(e){var t=e.target,a=t.name,n=t.value;c((function(e){return e[a]=n,Object(p.a)({},e)}))};return Object(g.jsxs)("div",{className:e.root,children:[Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(de.a,{variant:"h5",className:e.title,children:za.header.title})}),Object(g.jsx)(H.a,{className:e.divider}),Object(g.jsx)("form",{onSubmit:function(e){return function(e){e.preventDefault(),console.log(i)}(e)},children:Object(g.jsxs)(Re.a,{container:!0,spacing:3,children:[Object(g.jsx)(Re.a,{item:!0,md:4,sm:6,xs:12,children:Object(g.jsx)(_e.a,{required:!0,name:za.body.fields.from.name,value:i.from,id:"outlined-helperText",variant:"outlined",fullWidth:!0,type:"date",onChange:s,helperText:za.body.fields.from.helperText})}),Object(g.jsx)(Re.a,{item:!0,md:4,sm:6,xs:12,children:Object(g.jsx)(_e.a,{required:!0,name:za.body.fields.to.name,value:i.to,id:"outlined-helperText",variant:"outlined",fullWidth:!0,type:"date",onChange:s,helperText:za.body.fields.to.helperText})}),Object(g.jsxs)(Re.a,{item:!0,md:4,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:za.body.fields.type.name,value:i.type,variant:"outlined",fullWidth:!0,onChange:o,children:za.body.fields.type.options.map((function(e,t){return Object(g.jsx)(ge.a,{value:e.value,children:e.title},t)}))}),Object(g.jsx)(Ke.a,{children:za.body.fields.type.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:8,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:za.body.fields.bank.name,value:i.bank,variant:"outlined",fullWidth:!0,onChange:o,children:za.body.fields.bank.options.map((function(e,t){return Object(g.jsx)(ge.a,{value:e.value,children:e.title},t)}))}),Object(g.jsx)(Ke.a,{children:za.body.fields.bank.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:12,sm:12,xs:12,className:e.alignRight,children:[Object(g.jsx)(ve.a,{type:"submit",children:Object(g.jsx)(Qe.a,{fontSize:"large",color:"primary"})}),Object(g.jsx)(ve.a,{type:"button",onClick:function(){c(Pa)},children:Object(g.jsx)($e.a,{fontSize:"large",color:"secondary"})})]})]})})]})}function Wa(e){var t,a,n,r,i,c,o,s,l,d,u,p,b,m,h;return{entityId:null!==(t=e.entityId)&&void 0!==t?t:"",code:null!==(a=e.code)&&void 0!==a?a:"",account:null!==(n=Number(e.account))&&void 0!==n?n:0,description:null!==(r=e.description)&&void 0!==r?r:"",price:null!==(i=e.price)&&void 0!==i?i:void 0,unitMeasure:null!==(c={code:null!==(o=null===(s=e.unitMeasure)||void 0===s?void 0:s.code)&&void 0!==o?o:"",description:null!==(l=null===(d=e.unitMeasure)||void 0===d?void 0:d.description)&&void 0!==l?l:""})&&void 0!==c?c:void 0,itemType:null!==(u={code:null!==(p=null===(b=e.itemType)||void 0===b?void 0:b.code)&&void 0!==p?p:0,description:null!==(m=null===(h=e.itemType)||void 0===h?void 0:h.description)&&void 0!==m?m:""})&&void 0!==u?u:void 0}}var Ka=function(){function e(){Object(Xe.a)(this,e)}return Object(Ze.a)(e,[{key:"saveItem",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/item"),e.next=4,tt.a.post(n,t,{headers:{authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateItem",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/item"),e.next=4,tt.a.put(n,t,{headers:{authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getItemByCode",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r,i;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/item/").concat(a),e.next=4,tt.a.get(n,{headers:{authorization:"Bearer ".concat(t)}});case 4:return r=e.sent,i=Wa(r.data),e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getItems",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r,i;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=void 0!==a?"".concat("http://147.182.132.254:2426","/api/v2/item?limit=").concat(a.limit):"".concat("http://147.182.132.254:2426","/api/v2/item"),void 0!==a&&void 0!==a.lastEvaluatedKey&&(n="".concat(n,"&lastEvaluatedKey=").concat(a.lastEvaluatedKey)),e.next=5,tt.a.get(n,{headers:{authorization:"Bearer ".concat(t)}});case 5:return r=e.sent,i=r.data.items.map((function(e){return Wa(e)})),e.abrupt("return",{lastEvaluatedKey:JSON.stringify(r.data.lastEvaluatedKey),items:i});case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),_a=Object(K.a)((function(e){return{root:{width:"85%",margin:"10vh auto 10vh auto",height:"auto"},description:{fontWeight:"bold",marginBottom:"1vh"},divider:{marginBottom:"6vh"},alignRight:{textAlign:"right"},thirdClassTitle:{color:"#757575",marginBottom:"6vh"},loadingContainer:{position:"fixed",width:"100%",height:"100%",bottom:"0",right:"0",background:"#BFBFBFBF",opacity:.6,display:"flex",justifyContent:"center",paddingTop:"50vh"}}})),qa={header:{description:"Crear productos"},body:{field:{code:{name:"code",helperText:"Escriba el c\xf3digo del producto",placeholder:"C\xf3digo"},account:{name:"account",helperText:"Cuenta contable del producto",placeholder:"Cuenta",validationError:"Debe ser de 10 d\xedgitos"},description:{name:"description",helperText:"Escriba la descripci\xf3n del producto",placeholder:"Nombre de producto"},price:{name:"price",helperText:"Escriba el precio en pesos colombianos sin decimales",placeholder:"Precio"},unitMeasure:{name:"unitMeasure",helperText:"Escoja una unidad de medida",options:[{description:"Unidad",code:"70"},{description:"Kilogramo",code:"40"},{description:"Gal\xf3n",code:"686"},{description:"Metro c\xfabico",code:"594"},{description:"Metro cuadrado",code:"472"}]},itemType:{name:"itemType",helperText:"Tipo de producto",options:[{description:"UNSPSC",code:"1"},{description:"GTIN",code:"2"},{description:"Partida Arancelarias",code:"3"},{description:"Est\xe1ndar de adopci\xf3n del contribuyente",code:"4"}]}}}},Va={form:{code:"",account:0,description:"",price:void 0,unitMeasure:void 0,itemType:void 0},validations:{errorMinLengthAccount:!1},isEdit:!1,loading:!1};function Ga(){var e,t,a,i,c,o=_a(),u=Object(s.h)().search,b=Object(s.g)(),m=Object(n.useState)(Va),h=Object(l.a)(m,2),j=h[0],f=h[1],x=r.a.useContext(k).userContext;r.a.useEffect((function(){function e(){return(e=Object(Pe.a)(ze.a.mark((function e(){var t,a,n,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=y.getIdFromUrl(u))){e.next=8;break}return f(Object(p.a)(Object(p.a)({},j),{},{loading:!0})),n=new Ka,e.next=6,n.getItemByCode(null!==(a=x.token)&&void 0!==a?a:"",t);case 6:(r=e.sent)&&f(Object(p.a)(Object(p.a)({},j),{},{form:r,loading:!1,isEdit:!0}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var v=function(e,t){f(Object(p.a)(Object(p.a)({},j),{},{form:Object(p.a)(Object(p.a)({},j.form),{},Object(d.a)({},e,t))}))},O=function(e){var t=e.target,a=t.name,n=t.value,r=j.validations.errorMinLengthAccount;"account"===a&&(r=n.length<Number("10")),f(Object(p.a)(Object(p.a)({},j),{},{form:Object(p.a)(Object(p.a)({},j.form),{},Object(d.a)({},a,n)),validations:{errorMinLengthAccount:r}}))},C=function(){var e=Object(Pe.a)(ze.a.mark((function e(t){var a,n,r,i,c;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!j.validations.errorMinLengthAccount||!x.permissions.some((function(e){return e===pe.super_admin}))){e.next=4;break}throw new Error("La cuenta debe tener ".concat("10"," d\xedgitos"));case 4:if(a=new Ka,!j.isEdit){e.next=11;break}return e.next=8,a.updateItem(j.form,null!==(r=x.token)&&void 0!==r?r:"");case 8:n=e.sent,e.next=14;break;case 11:return e.next=13,a.saveItem(j.form,null!==(i=x.token)&&void 0!==i?i:"");case 13:n=e.sent;case 14:return f(Va),b.push(R.main.item.form),e.abrupt("return",D.b.success("El producto ".concat(n.code," fue ").concat(j.isEdit?"actualizado":"creado"," con \xe9xito")));case 19:if(e.prev=19,e.t0=e.catch(1),!tt.a.isAxiosError(e.t0)){e.next=27;break}if(!(c=e.t0)||!c.response){e.next=25;break}return e.abrupt("return",D.b.error(c.response.data.message));case 25:e.next=29;break;case 27:if(!(e.t0 instanceof Error)){e.next=29;break}return e.abrupt("return",D.b.error(e.t0.message));case 29:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:o.root,children:[Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(de.a,{variant:"h5",className:o.description,children:qa.header.description})}),Object(g.jsx)(H.a,{className:o.divider}),Object(g.jsx)("form",{onSubmit:function(e){return C(e)},children:Object(g.jsxs)(Re.a,{container:!0,spacing:3,children:[Object(g.jsx)(Re.a,{item:!0,md:6,sm:6,xs:10,children:Object(g.jsx)(_e.a,{required:!0,name:qa.body.field.code.name,value:j.form.code,variant:"outlined",fullWidth:!0,onChange:O,helperText:qa.body.field.code.helperText,placeholder:qa.body.field.code.placeholder})}),x.permissions.find((function(e){return e===pe.super_admin}))?Object(g.jsx)(Re.a,{item:!0,md:6,sm:6,xs:10,children:Object(g.jsx)(_e.a,{required:!0,name:qa.body.field.account.name,value:j.form.account,variant:"outlined",fullWidth:!0,onChange:O,helperText:j.validations.errorMinLengthAccount?qa.body.field.account.validationError:qa.body.field.account.helperText,error:j.validations.errorMinLengthAccount,placeholder:qa.body.field.account.placeholder,inputProps:{maxLength:"10"}})}):"",Object(g.jsx)(Re.a,{item:!0,md:6,sm:6,xs:10,children:Object(g.jsx)(_e.a,{required:!0,name:qa.body.field.description.name,value:j.form.description,variant:"outlined",fullWidth:!0,onChange:O,helperText:qa.body.field.description.helperText,placeholder:qa.body.field.description.placeholder})}),Object(g.jsx)(Re.a,{item:!0,md:6,sm:6,xs:10,children:Object(g.jsx)(_e.a,{name:qa.body.field.price.name,value:null!==(e=j.form.price)&&void 0!==e?e:"",type:"number",variant:"outlined",fullWidth:!0,onChange:O,helperText:qa.body.field.price.helperText,placeholder:qa.body.field.price.placeholder})}),Object(g.jsxs)(Re.a,{item:!0,md:6,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:qa.body.field.unitMeasure.name,value:null!==(t=null===(a=j.form.unitMeasure)||void 0===a?void 0:a.code)&&void 0!==t?t:"",variant:"outlined",fullWidth:!0,children:qa.body.field.unitMeasure.options.map((function(e){return Object(g.jsx)(ge.a,{value:e.code,onClick:function(){return v(qa.body.field.unitMeasure.name,e)},children:e.description},e.description)}))}),Object(g.jsx)(Ke.a,{children:qa.body.field.unitMeasure.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:6,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:qa.body.field.itemType.name,value:null!==(i=null===(c=j.form.itemType)||void 0===c?void 0:c.code)&&void 0!==i?i:"",variant:"outlined",fullWidth:!0,children:qa.body.field.itemType.options.map((function(e){return Object(g.jsx)(ge.a,{value:e.code,onClick:function(){return v(qa.body.field.itemType.name,e)},children:e.description},e.description)}))}),Object(g.jsx)(Ke.a,{children:qa.body.field.itemType.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:12,sm:6,xs:12,className:o.alignRight,children:[Object(g.jsx)(ve.a,{type:"submit",children:Object(g.jsx)(Qe.a,{fontSize:"large",color:"primary"})}),Object(g.jsx)(ve.a,{type:"button",onClick:function(){f(Va)},children:Object(g.jsx)($e.a,{fontSize:"large",color:"secondary"})})]})]})}),j.loading?Object(g.jsx)("div",{className:o.loadingContainer,children:Object(g.jsx)(Ve.a,{children:Object(g.jsx)(Ue.a,{})})}):""]})}var Ua=Object(K.a)((function(e){return{root:{width:"85%",margin:"10vh auto 10vh auto",height:"auto"},description:{fontWeight:"bold",marginBottom:"1vh"},divider:{marginBottom:"6vh"},alignRight:{textAlign:"right"},loadMoreButton:{width:"25%",height:"70%"},loadingContainer:{position:"fixed",width:"100%",height:"100%",bottom:"0",right:"0",background:"#BFBFBFBF",opacity:.6,display:"flex",justifyContent:"center",paddingTop:"50vh"}}})),Ha={description:"Lista de productos"},Ya={buttonLoadMore:{label:"Cargar m\xe1s ..."}},Ja=[{field:"code",headerName:"C\xf3digo",flex:1,editable:!1},{field:"description",headerName:"Producto",editable:!0,flex:2},{field:"price",headerName:"Precio",editable:!0,flex:1},{field:"actions",headerName:"Acciones",flex:1,type:"actions",renderCell:function(e){return Object(g.jsx)(Xa,{params:e})}}],Qa=[{field:"code",headerName:"C\xf3digo",flex:1,editable:!1},{field:"description",headerName:"Producto",editable:!0,flex:2},{field:"account",headerName:"Cuenta contable",editable:!0,flex:1},{field:"price",headerName:"Precio",editable:!0,flex:1},{field:"actions",headerName:"Acciones",flex:1,type:"actions",renderCell:function(e){return Object(g.jsx)(Xa,{params:e})}}],$a={loadMoreButtonDisabled:!1,items:[],loading:!0};function Xa(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),i=a[0],c=a[1],o=r.a.useContext(k).userContext,d=Object(s.g)();return r.a.useEffect((function(){c(o.permissions.some((function(e){return e===pe.item.update})))}),[o]),Object(g.jsx)(ve.a,{type:"submit",onClick:function(){return function(){var t;d.push("".concat(R.main.item.form,"?document=").concat(null!==(t=e.params.row.code)&&void 0!==t?t:""))}()},disabled:!i,children:Object(g.jsx)(At.a,{fontSize:"small",color:i?"primary":"inherit"})})}function Za(){var e=Ua(),t=Object(n.useState)($a),a=Object(l.a)(t,2),i=a[0],c=a[1],o=r.a.useContext(k).userContext;r.a.useEffect((function(){function e(){return(e=Object(Pe.a)(ze.a.mark((function e(){var t,a;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Ka,e.next=3,t.getItems(o.token||"",{limit:5});case 3:a=e.sent,c(Object(p.a)(Object(p.a)({},i),{},{items:a.items,lastEvaluatedKey:a.lastEvaluatedKey,loadMoreButtonDisabled:void 0===a.lastEvaluatedKey,loading:!1}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=function(){var e=Object(Pe.a)(ze.a.mark((function e(){var t,a,n;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new Ka,e.next=4,t.getItems(o.token||"",{limit:5,lastEvaluatedKey:i.lastEvaluatedKey});case 4:a=e.sent,c(Object(p.a)(Object(p.a)({},i),{},{items:i.items.concat(a.items),lastEvaluatedKey:a.lastEvaluatedKey,loadMoreButtonDisabled:void 0===a.lastEvaluatedKey})),e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(0),!tt.a.isAxiosError(e.t0)){e.next=14;break}if(!(n=e.t0)||!n.response){e.next=14;break}return e.abrupt("return",D.b.error(n.response.data.message));case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(Pe.a)(ze.a.mark((function e(t){var a,n,r,c,s,l;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"account"!==t.field||!t.value||t.value.toString().length===Number("10")){e.next=3;break}throw new Error("El n\xfamero de cuenta contable debe ser de ".concat("10"," d\xedgitos"));case 3:if(n={},void 0===(r=i.items.find((function(e){return e.code===t.id})))){e.next=9;break}n=Object(p.a)(Object(p.a)({},r),{},Object(d.a)({},t.field,t.value)),e.next=10;break;case 9:return e.abrupt("return");case 10:return c=new Ka,e.next=13,c.updateItem(n,null!==(a=o.token)&&void 0!==a?a:"");case 13:return s=e.sent,e.abrupt("return",D.b.success("El producto ".concat(s.code," fue editado con \xe9xito")));case 17:if(e.prev=17,e.t0=e.catch(0),!tt.a.isAxiosError(e.t0)){e.next=25;break}if(!(l=e.t0)||!l.response){e.next=23;break}return e.abrupt("return",D.b.error(l.response.data.message));case 23:e.next=27;break;case 25:if(!(e.t0 instanceof Error)){e.next=27;break}return e.abrupt("return",D.b.error(e.t0.message));case 27:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:e.root,children:[Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(de.a,{variant:"h5",className:e.description,children:Ha.description})}),Object(g.jsx)(H.a,{className:e.divider}),Object(g.jsxs)(Re.a,{container:!0,spacing:3,children:[Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,children:Object(g.jsx)(Dt,{rows:i.items,columns:o.permissions.some((function(e){return e===pe.super_admin}))?Qa:Ja,keyId:"code",gridEdit:u})}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:6,xs:12,className:e.alignRight,children:Object(g.jsx)(Ge.a,{type:"button",color:"primary",size:"small",className:e.loadMoreButton,startIcon:Object(g.jsx)(Mt.a,{}),disabled:i.loadMoreButtonDisabled,onClick:function(){return s()},children:Ya.buttonLoadMore.label})})]}),i.loading?Object(g.jsx)("div",{className:e.loadingContainer,children:Object(g.jsx)(Ve.a,{children:Object(g.jsx)(Ue.a,{})})}):""]})}var en=a(47),tn=a(524),an=a(320),nn=a(182),rn=a.n(nn),cn={formToSchema:function(e,t){var a;return{date:e.date,orderReference:e.orderReference,third:null!==(a=e.third)&&void 0!==a?a:{document:"",dv:void 0,documentType:{code:"",description:""},organizationType:{code:"",description:""},liabilityType:{code:"",description:""},regimeType:{code:"",description:""},name:void 0,lastname:void 0,businessName:void 0,phone:"",address:"",email:""},wayToPay:e.wayToPay,paymentMethod:e.paymentMethod,paymentDueDate:rn()(e.paymentDueDate).format("YYYY/MM/DD"),note:e.note,items:t,taxes:y.buildTaxesForElectronicBill(t),total:e.total,totalTaxes:e.totalTaxes,totalToPay:e.totalToPay}},schemaToForm:function(e){return{form:{number:Number(e.number),date:rn()(e.date).format("YYYY-MM-DD"),preview:e.preview,orderReference:e.orderReference,third:e.third,wayToPay:{code:e.wayToPay.code,description:e.wayToPay.description},paymentMethod:{code:e.paymentMethod.code,description:e.paymentMethod.description},paymentDueDate:rn()(e.paymentDueDate).format("YYYY-MM-DD"),note:e.note,total:e.total,totalTaxes:e.totalTaxes,totalToPay:e.totalToPay,currentItemType:{code:"",description:""},currentPrice:0,currentQuantity:0,selectedTax:{code:"",description:""},currentPercentTax:0},items:e.items,taxes:y.buildTaxesForElectronicBill(e.items)}}},on=function(){function e(){Object(Xe.a)(this,e)}return Object(Ze.a)(e,[{key:"saveBill",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/bill/electronic"),e.next=4,tt.a.post(n,t,{headers:{authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getElectronicBills",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r,i;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=void 0!==a?"".concat("http://147.182.132.254:2426","/api/v2/bill/electronic?limit=").concat(a.limit):"".concat("http://147.182.132.254:2426","/api/v2/bill/electronic"),void 0!==a&&void 0!==a.lastEvaluatedKey&&(n="".concat(n,"&lastEvaluatedKey=").concat(a.lastEvaluatedKey)),e.next=5,tt.a.get(n,{headers:{authorization:"Bearer ".concat(t)}});case 5:return r=e.sent,i=r.data.bills.map((function(e){return cn.schemaToForm(e).form})),e.abrupt("return",{lastEvaluatedKey:JSON.stringify(r.data.lastEvaluatedKey),electronicBills:i});case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getBillByNumber",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r,i;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/bill/electronic/").concat(a),e.next=4,tt.a.get(n,{headers:{authorization:"Bearer ".concat(t)}});case 4:return r=e.sent,i=cn.schemaToForm(r.data),e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),sn=Object(K.a)({table:{minWidth:650}}),ln={headers:{code:"C\xf3digo",description:"Descripci\xf3n",price:"Precio",quantity:"Cantidad",delete:"Eliminar"}};function dn(e){var t=e.rows,a=e.handleTable,r=e.disabledForm,i=sn(),c=Object(n.useState)(!1),o=Object(l.a)(c,2),s=o[0],d=o[1];return Object(n.useEffect)((function(){d(!1)}),[s]),Object(g.jsx)(lt.a,{component:pt.a,children:Object(g.jsxs)(ct.a,{className:i.table,"aria-label":"simple table",children:[Object(g.jsx)(dt.a,{children:Object(g.jsxs)(ut.a,{children:[Object(g.jsx)(st.a,{children:ln.headers.code}),Object(g.jsx)(st.a,{children:ln.headers.description}),Object(g.jsx)(st.a,{align:"right",children:ln.headers.price}),Object(g.jsx)(st.a,{align:"right",children:ln.headers.quantity}),Object(g.jsx)(st.a,{align:"right",children:ln.headers.delete})]})}),Object(g.jsx)(ot.a,{children:t.map((function(e,t){return Object(g.jsxs)(ut.a,{children:[Object(g.jsx)(st.a,{component:"th",children:e.code}),Object(g.jsx)(st.a,{component:"th",children:e.description}),Object(g.jsx)(st.a,{align:"right",children:e.price}),Object(g.jsx)(st.a,{align:"right",children:e.quantity}),Object(g.jsx)(st.a,{align:"right",children:Object(g.jsx)(ve.a,{"aria-label":"delete",onClick:function(){return a("REMOVE",e)},disabled:r,children:Object(g.jsx)(mt.a,{})})})]},t)}))})]})})}var un=Object(K.a)((function(e){return{root:{width:"85%",margin:"10vh auto 10vh auto",height:"auto"},loadingContainer:{position:"fixed",width:"100%",height:"100%",bottom:"0",right:"0",background:"#BFBFBFBF",opacity:.6,display:"flex",justifyContent:"center",paddingTop:"50vh"},description:{fontWeight:"bold",marginBottom:"1vh"},divider:{marginBottom:"6vh"},alignRight:{textAlign:"right"},thirdClassTitle:{color:"#757575",marginBottom:"6vh"},addButton:{width:"100%",height:"70%",color:"#ffff"}}})),pn={header:{description:"Facturaci\xf3n electr\xf3nica"},body:{field:{date:{name:"date",helperText:"Fecha de facturaci\xf3n",placeholder:"Fecha"},orderReference:{name:"orderReference",helperText:"Escriba la referencia de orden",placeholder:"C\xf3digo de orden"},third:{name:"third",helperText:"Escoja el tercero",placeholder:"Tercero"},wayToPay:{name:"wayToPay",helperText:"Escoja una forma de pago",options:[{description:"Contado",code:"1"},{description:"Cr\xe9dito",code:"2"}]},paymentMethod:{name:"paymentMethod",helperText:"Escoja una forma de pago",options:[{description:"Cheque",code:"20"},{description:"Consignaci\xf3n bancaria",code:"42"},{description:"Efectivo",code:"10"},{description:"Instrumento no definido",code:"1"},{description:"Pago y dep\xf3sito pre acordado (PPD)",code:"34"},{description:"Tarjeta Cr\xe9dito",code:"48"},{description:"Tarjeta D\xe9bito",code:"49"}]},paymentDueDate:{name:"paymentDueDate",helperText:"Fecha de pago",placeholder:"AAAA/MM/DD"},note:{name:"note",helperText:"Nota para la factura",placeholder:"Nota para la factura"},item:{name:"currentItem",helperText:"Escoja el producto a facturar",options:[{unitMeasure:{code:12,description:"Unidad"},description:"Producto de prueba",code:"1",price:2500}]},itemType:{name:"currentItemType",helperText:"Tipo de producto",options:[{description:"UNSPSC",code:"1"},{description:"GTIN",code:"2"},{description:"Partida Arancelarias",code:"3"},{description:"Est\xe1ndar de adopci\xf3n del contribuyente",code:"4"}]},price:{name:"currentPrice",helperText:"Precio sin impuestos",placeholder:"Precio"},quantity:{name:"currentQuantity",helperText:"Cantidad",placeholder:"Cantidad"},applyTaxes:{name:"applyTaxes",helperText:"Aplicar impuestos"},tax:{name:"selectedTax",helperText:"Escoja el impuesto",options:[{code:"1",description:"IVA"},{code:"4",description:"Impuesto al consumo"}]},percent:{name:"currentPercentTax",helperText:"Porcentaje",placeholder:"%",options:[{code:0,description:"0%"},{code:5,description:"5%"},{code:8,description:"8%"},{code:19,description:"19%"}]},total:{name:"total",helperText:"Total sin impuestos",placeholder:"Total sin impuestos"},totalTaxes:{name:"totalTaxes",helperText:"Total de impuestos",placeholder:"Total de impuestos"},totalToPay:{name:"totalToPay",helperText:"Total final",placeholder:"Total"}},subtitles:{payment:"Informaci\xf3n acerca del pago",itemsTable:"Tabla de productos a facturar",total:"Informaci\xf3n acerca de los totales de la factura"},buttons:{addProduct:{title:"Agregar"}}}},bn={form:{date:"",orderReference:"",third:void 0,wayToPay:{code:"",description:""},paymentMethod:{code:"",description:""},paymentDueDate:"",note:"",currentItem:void 0,currentItemType:{code:"",description:""},currentPrice:0,currentQuantity:0,total:0,totalTaxes:0,totalToPay:0,selectedTax:{code:"",description:""},currentPercentTax:0},applyTaxes:!1,items:[],selectedItems:[],thirds:[],preview:void 0,loading:!1,disabledForm:!1,status:!1,thirdSelected:"",suggestionsThirds:[]};function mn(){var e,t,a=un(),i=Object(s.h)().search,c=Object(s.g)(),u=Object(n.useState)(bn),b=Object(l.a)(u,2),m=b[0],h=b[1],j=r.a.useContext(k).userContext,f=r.a.useContext(A).entityContext;r.a.useEffect((function(){function e(){return(e=Object(Pe.a)(ze.a.mark((function e(){var t,a,n,r,c,o,s,l,d,u,b,x,v,O,g,C,T,w,k,E,N,B,A,M,F;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!((t=y.parseQueryString(i)).length>0)){e.next=36;break}return s=0,l=!1,d=void 0,u=[],b=[],t.forEach((function(e){e.number&&(s=Number(e.number)),e.copy&&(l=!0)})),h(Object(p.a)(Object(p.a)({},m),{},{loading:!0})),x=new on,e.next=13,x.getBillByNumber(null!==(a=j.token)&&void 0!==a?a:"",s);case 13:if(v=e.sent,l){e.next=23;break}return C=new ta,e.next=18,C.getBill(null!==(O=f.apiKeyPlemsi)&&void 0!==O?O:"",null!==(g=v.form.number)&&void 0!==g?g:0);case 18:d=e.sent,u=[].concat(Object(en.a)(m.thirds),[v.form.third]),b=[].concat(Object(en.a)(m.items),[v.items]),e.next=33;break;case 23:return T=new nt,w=new Ka,e.next=27,T.getThirds(j.token||"");case 27:return k=e.sent,e.next=30,w.getItems(j.token||"");case 30:E=e.sent,u=k.thirds,b=E.items;case 33:h(Object(p.a)(Object(p.a)({},m),{},{form:v.form,thirdSelected:void 0!==(null===(n=v.form.third)||void 0===n?void 0:n.name)?"".concat(null===(r=v.form.third)||void 0===r?void 0:r.name," ").concat(null===(c=v.form.third)||void 0===c?void 0:c.lastname):"".concat(null===(o=v.form.third)||void 0===o?void 0:o.businessName),thirds:u,suggestionsThirds:u,items:b,selectedItems:v.items,loading:!1,disabledForm:!l,preview:d})),e.next=45;break;case 36:return N=new nt,B=new Ka,e.next=40,N.getThirds(j.token||"");case 40:return A=e.sent,e.next=43,B.getItems(j.token||"");case 43:M=e.sent,h(Object(p.a)(Object(p.a)({},m),{},{thirds:A.thirds,suggestionsThirds:A.thirds,items:M.items}));case 45:e.next=54;break;case 47:if(e.prev=47,e.t0=e.catch(0),h(Object(p.a)(Object(p.a)({},m),{},{loading:!1})),!tt.a.isAxiosError(e.t0)){e.next=54;break}if(!(F=e.t0)||!F.response){e.next=54;break}return e.abrupt("return",D.b.error(F.response.data.message||e.t0.toString()));case 54:case"end":return e.stop()}}),e,null,[[0,47]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var x=function(e,t){var a;t.price&&t.itemType?h(Object(p.a)(Object(p.a)({},m),{},{form:Object(p.a)(Object(p.a)({},m.form),{},(a={},Object(d.a)(a,e,t),Object(d.a)(a,"currentPrice",t.price),Object(d.a)(a,"currentItemType",{code:t.itemType.code,description:t.itemType.description}),a))})):e===pn.body.field.third.name?h(Object(p.a)(Object(p.a)({},m),{},{form:Object(p.a)(Object(p.a)({},m.form),{},Object(d.a)({},e,t)),thirdSelected:void 0!==t.name?"".concat(t.name," ").concat(t.lastname):"".concat(t.businessName),status:!1})):h(Object(p.a)(Object(p.a)({},m),{},{form:Object(p.a)(Object(p.a)({},m.form),{},Object(d.a)({},e,t))}))},v=function(e){var t=e.target,a=t.name,n=t.value;h(Object(p.a)(Object(p.a)({},m),{},{form:Object(p.a)(Object(p.a)({},m.form),{},Object(d.a)({},a,n))}))},O=function(){var e=Object(Pe.a)(ze.a.mark((function e(t){var a,n,r,i,o,s,l;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),h(Object(p.a)(Object(p.a)({},m),{},{loading:!0})),e.prev=2,n=cn.formToSchema(m.form,m.selectedItems),r=new on,i=new ta,e.next=8,r.saveBill(n,null!==(a=j.token)&&void 0!==a?a:"");case 8:return o=e.sent,e.next=11,i.getBill(o.entityInformation.apikey,o.entityInformation.number);case 11:return s=e.sent,h(Object(p.a)(Object(p.a)({},bn),{},{applyTaxes:!1,items:m.items,selectedItems:[],thirds:m.thirds,preview:s,loading:!1})),c.push(R.main.electronicBill.form),e.abrupt("return",D.b.success("Factura creada con \xe9xito"));case 17:if(e.prev=17,e.t0=e.catch(2),h(Object(p.a)(Object(p.a)({},m),{},{loading:!1})),!tt.a.isAxiosError(e.t0)){e.next=24;break}if(!(l=e.t0)||!l.response){e.next=24;break}return e.abrupt("return",D.b.error(l.response.data.message||e.t0.toString()));case 24:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}(),C=function(e,t){if("ADD"===e){var a=y.buildItem(m.form,m.applyTaxes),n=m.form.total+a.total,r=m.form.totalTaxes+a.taxes[0].taxAmount,i=n+r,c=m.selectedItems;c.push(a),h(Object(p.a)(Object(p.a)({},m),{},{form:Object(p.a)(Object(p.a)({},m.form),{},{total:n,totalTaxes:r,totalToPay:i,currentItemType:{code:"",description:""},currentPrice:0,currentQuantity:0,selectedTax:{code:"",description:""},currentPercentTax:0}),applyTaxes:!1,selectedItems:c}))}if("REMOVE"===e){var o=m.form.total-t.total,s=m.form.totalTaxes-t.taxes[0].taxAmount,l=o+s,d=m.selectedItems.filter((function(e){return e.code!==t.code}));h(Object(p.a)(Object(p.a)({},m),{},{form:Object(p.a)(Object(p.a)({},m.form),{},{total:o,totalTaxes:s,totalToPay:l}),selectedItems:d}))}};return Object(g.jsxs)("div",{className:a.root,children:[Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(de.a,{variant:"h5",className:a.description,children:pn.header.description})}),Object(g.jsx)(H.a,{className:a.divider}),Object(g.jsx)("form",{onSubmit:function(e){return O(e)},children:Object(g.jsxs)(Re.a,{container:!0,spacing:3,children:[Object(g.jsx)(Re.a,{item:!0,md:6,sm:6,xs:10,children:Object(g.jsx)(_e.a,{required:!0,name:pn.body.field.date.name,value:m.form.date,variant:"outlined",type:"date",fullWidth:!0,onChange:v,helperText:pn.body.field.date.helperText,placeholder:pn.body.field.date.placeholder,disabled:m.disabledForm})}),Object(g.jsx)(Re.a,{item:!0,md:6,sm:6,xs:10,children:Object(g.jsx)(_e.a,{required:!0,name:pn.body.field.orderReference.name,value:m.form.orderReference,variant:"outlined",fullWidth:!0,onChange:v,helperText:pn.body.field.orderReference.helperText,placeholder:pn.body.field.orderReference.placeholder,disabled:m.disabledForm})}),Object(g.jsxs)(Re.a,{item:!0,md:12,sm:12,xs:12,children:[Object(g.jsx)(_e.a,{name:"thirdSelected",value:m.thirdSelected,autoComplete:"off",variant:"outlined",fullWidth:!0,disabled:m.disabledForm,onChange:function(e){var t=e.target.value,a=m.thirds.filter((function(e){var a,n,r;return(null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase()))||(null===(n=e.lastname)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase()))||(null===(r=e.businessName)||void 0===r?void 0:r.toLowerCase().includes(t.toLowerCase()))?e:void 0}));h(Object(p.a)(Object(p.a)({},m),{},{thirdSelected:t,suggestionsThirds:a,status:t.length>0}))},InputProps:{endAdornment:Object(g.jsx)(qe.a,{position:"end",children:Object(g.jsx)(ve.a,{onClick:function(){return h(Object(p.a)(Object(p.a)({},m),{},{status:!m.status}))},children:m.status?Object(g.jsx)(He.a,{fontSize:"small",color:"secondary"}):Object(g.jsx)(Ye.a,{fontSize:"small",color:"primary"})})})}}),!0===m.status&&Object(g.jsx)(Ve.a,{sx:{width:"100%",maxHeight:100,display:"relative",zIndex:1,bgcolor:"#E1E1E1",overflow:"auto"},children:m.suggestionsThirds.map((function(e){return Object(g.jsx)(ge.a,{onClick:function(){return x(pn.body.field.third.name,e)},children:void 0!==e.name?"".concat(e.name," ").concat(e.lastname):"".concat(e.businessName)},e.document)}))}),Object(g.jsx)(Ke.a,{children:pn.body.field.third.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:4,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:pn.body.field.wayToPay.name,value:m.form.wayToPay.code,variant:"outlined",fullWidth:!0,disabled:m.disabledForm,children:pn.body.field.wayToPay.options.map((function(e){return Object(g.jsx)(ge.a,{value:e.code,onClick:function(){return x(pn.body.field.wayToPay.name,e)},children:e.description},e.description)}))}),Object(g.jsx)(Ke.a,{children:pn.body.field.wayToPay.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:4,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:pn.body.field.paymentMethod.name,value:m.form.paymentMethod.code,variant:"outlined",fullWidth:!0,disabled:m.disabledForm,children:pn.body.field.paymentMethod.options.map((function(e){return Object(g.jsx)(ge.a,{value:e.code,onClick:function(){return x(pn.body.field.paymentMethod.name,e)},children:e.description},e.description)}))}),Object(g.jsx)(Ke.a,{children:pn.body.field.paymentMethod.helperText})]}),Object(g.jsx)(Re.a,{item:!0,md:4,sm:6,xs:10,children:Object(g.jsx)(_e.a,{required:!0,name:pn.body.field.paymentDueDate.name,value:m.form.paymentDueDate,variant:"outlined",type:"date",fullWidth:!0,onChange:v,helperText:pn.body.field.paymentDueDate.helperText,placeholder:pn.body.field.paymentDueDate.placeholder,disabled:m.disabledForm})}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,children:Object(g.jsx)(_e.a,{required:!0,name:pn.body.field.note.name,value:m.form.note,variant:"outlined",fullWidth:!0,onChange:v,helperText:pn.body.field.note.helperText,placeholder:pn.body.field.note.placeholder,disabled:m.disabledForm})}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,children:Object(g.jsx)(de.a,{variant:"h6",children:pn.body.subtitles.itemsTable})}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,children:Object(g.jsx)(H.a,{className:a.divider})}),Object(g.jsxs)(Re.a,{item:!0,md:8,sm:12,xs:12,children:[Object(g.jsx)(We.a,{name:pn.body.field.item.name,value:null!==(e=null===(t=m.form.currentItem)||void 0===t?void 0:t.code)&&void 0!==e?e:"",variant:"outlined",fullWidth:!0,disabled:m.disabledForm,children:m.items.map((function(e){return Object(g.jsx)(ge.a,{value:e.code,onClick:function(){return x(pn.body.field.item.name,e)},children:e.description},e.description)}))}),Object(g.jsx)(Ke.a,{children:pn.body.field.item.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:4,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:pn.body.field.itemType.name,value:m.form.currentItemType.code,variant:"outlined",fullWidth:!0,disabled:m.disabledForm,children:pn.body.field.itemType.options.map((function(e){return Object(g.jsx)(ge.a,{value:e.code,onClick:function(){return x(pn.body.field.itemType.name,e)},children:e.description},e.description)}))}),Object(g.jsx)(Ke.a,{children:pn.body.field.itemType.helperText})]}),Object(g.jsx)(Re.a,{item:!0,md:8,sm:3,xs:10,children:Object(g.jsx)(_e.a,{required:!0,name:pn.body.field.price.name,value:m.form.currentPrice,variant:"outlined",type:"number",fullWidth:!0,onChange:v,helperText:pn.body.field.price.helperText,placeholder:pn.body.field.price.placeholder,disabled:m.disabledForm})}),Object(g.jsx)(Re.a,{item:!0,md:4,sm:3,xs:10,children:Object(g.jsx)(_e.a,{required:!0,name:pn.body.field.quantity.name,value:m.form.currentQuantity,variant:"outlined",type:"number",fullWidth:!0,onChange:v,helperText:pn.body.field.quantity.helperText,placeholder:pn.body.field.quantity.placeholder,disabled:m.disabledForm})}),Object(g.jsx)(Re.a,{item:!0,md:9,sm:6,xs:6,children:Object(g.jsx)(tn.a,{control:Object(g.jsx)(an.a,{checked:m.applyTaxes,name:pn.body.field.applyTaxes.name,value:m.applyTaxes,onChange:function(e){return function(e){var t=e.target.checked;h(Object(p.a)(Object(p.a)({},m),{},{applyTaxes:t}))}(e)},color:"primary"}),label:pn.body.field.applyTaxes.helperText,disabled:m.disabledForm})}),m.applyTaxes?Object(g.jsxs)(r.a.Fragment,{children:[Object(g.jsxs)(Re.a,{item:!0,md:6,sm:12,xs:12,children:[Object(g.jsx)(We.a,{name:pn.body.field.tax.name,value:m.form.selectedTax.code,variant:"outlined",fullWidth:!0,children:pn.body.field.tax.options.map((function(e){return Object(g.jsx)(ge.a,{value:e.code,onClick:function(){return x(pn.body.field.tax.name,e)},children:e.description},e.description)}))}),Object(g.jsx)(Ke.a,{children:pn.body.field.tax.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:3,sm:6,xs:10,children:[Object(g.jsx)(We.a,{name:pn.body.field.percent.name,value:m.form.currentPercentTax,variant:"outlined",fullWidth:!0,children:pn.body.field.percent.options.map((function(e){return Object(g.jsx)(ge.a,{value:e.code,onClick:function(){return t=pn.body.field.percent.name,a=e.code,void h(Object(p.a)(Object(p.a)({},m),{},{form:Object(p.a)(Object(p.a)({},m.form),{},Object(d.a)({},t,a))}));var t,a},children:e.description},e.description)}))}),Object(g.jsx)(Ke.a,{children:pn.body.field.percent.helperText})]})]}):"",Object(g.jsx)(Re.a,{item:!0,md:3,sm:6,xs:12,children:Object(g.jsx)(Ge.a,{variant:"contained",type:"button",color:"primary",size:"large",onClick:function(){return C("ADD")},className:a.addButton,startIcon:Object(g.jsx)(Je.a,{}),disabled:m.disabledForm,children:pn.body.buttons.addProduct.title})}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,children:Object(g.jsx)(dn,{rows:m.selectedItems,handleTable:C,disabledForm:m.disabledForm})}),Object(g.jsx)(Re.a,{item:!0,md:4,sm:6,xs:10,children:Object(g.jsx)(_e.a,{disabled:!0,name:pn.body.field.total.name,value:m.form.total,variant:"outlined",type:"number",fullWidth:!0,onChange:v,helperText:pn.body.field.total.helperText,placeholder:pn.body.field.total.placeholder})}),Object(g.jsx)(Re.a,{item:!0,md:4,sm:6,xs:10,children:Object(g.jsx)(_e.a,{disabled:!0,name:pn.body.field.totalTaxes.name,value:m.form.totalTaxes,variant:"outlined",type:"number",fullWidth:!0,onChange:v,helperText:pn.body.field.totalTaxes.helperText,placeholder:pn.body.field.totalTaxes.placeholder})}),Object(g.jsx)(Re.a,{item:!0,md:4,sm:6,xs:10,children:Object(g.jsx)(_e.a,{disabled:!0,name:pn.body.field.totalToPay.name,value:m.form.totalToPay,variant:"outlined",type:"number",fullWidth:!0,onChange:v,helperText:pn.body.field.totalToPay.helperText,placeholder:pn.body.field.totalToPay.placeholder})}),m.disabledForm?"":Object(g.jsxs)(Re.a,{item:!0,md:12,sm:6,xs:12,className:a.alignRight,children:[Object(g.jsx)(ve.a,{type:"submit",children:Object(g.jsx)(Qe.a,{fontSize:"large",color:"primary"})}),Object(g.jsx)(ve.a,{type:"button",onClick:function(){h(Object(p.a)(Object(p.a)({},bn),{},{applyTaxes:!1,items:m.items,selectedItems:[],thirds:m.thirds,preview:void 0,loading:!1}))},children:Object(g.jsx)($e.a,{fontSize:"large",color:"secondary"})})]}),void 0!==m.preview?Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,className:a.alignRight,children:Object(g.jsx)(o.b,{to:{pathname:m.preview},target:"_blank",onClick:function(){m.disabledForm||h(Object(p.a)(Object(p.a)({},m),{},{preview:void 0}))},children:"Descargue su factura"})}):""]})}),m.loading?Object(g.jsx)("div",{className:a.loadingContainer,children:Object(g.jsx)(Ve.a,{children:Object(g.jsx)(Ue.a,{})})}):""]})}var hn=a(608),jn=a(601),fn=a(602),xn=a(226),vn=a(292),On=a.n(vn),yn=a(293),gn=a.n(yn),Cn=Object(K.a)((function(e){return{card:{width:"100%",background:"#ffff",height:"30vh"},cardBody:{marginTop:"8vh"},cardPrefix:{fontSize:"3vh"},cardPorcent:{fontSize:"2vh"}}}));function Tn(e){var t=e.data,a=Cn();return Object(g.jsx)(jn.a,{className:a.card,children:Object(g.jsxs)(fn.a,{children:[Object(g.jsx)(de.a,{variant:"subtitle2",children:t.title}),Object(g.jsx)(H.a,{}),Object(g.jsxs)(de.a,{variant:t.value.length<=9?"h3":"h4",color:"primary",className:a.cardBody,children:[t.value,Object(g.jsx)("span",{className:a.cardPrefix,children:t.prefix})]}),Object(g.jsx)(xn.a,{title:t.percent.tooltip,children:Object(g.jsxs)(de.a,{align:"right",variant:"subtitle1",color:t.percent.value>=0?"primary":"secondary",children:[t.percent.value>=0?Object(g.jsx)(On.a,{className:a.cardPorcent}):Object(g.jsx)(gn.a,{className:a.cardPorcent})," ",t.percent.value," ",Object(g.jsx)("span",{className:a.cardPorcent,children:t.percent.prefix})]})})]})})}var wn=a(615),kn=a(603),En=a(607),Nn=a(307),Bn=a(308),An=a(186),Mn=a(311),Fn=[{name:"Enero",uv:0},{name:"Febrero",uv:0},{name:"Marzo",uv:0},{name:"Abril",uv:0},{name:"Mayo",uv:0},{name:"Junio",uv:0}],Dn=Object(K.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},container:{width:"90vh",height:"27vh"}}}));function Sn(){var e=Dn();return Object(g.jsx)("div",{className:e.root,children:Object(g.jsx)("div",{className:e.container,children:Object(g.jsx)(wn.a,{width:"100%",height:"100%",children:Object(g.jsxs)(kn.a,{data:Fn,margin:{top:5,right:30,left:20,bottom:5},children:[Object(g.jsx)(En.a,{strokeDasharray:"3 3"}),Object(g.jsx)(Nn.a,{dataKey:"name"}),Object(g.jsx)(Bn.a,{}),Object(g.jsx)(An.a,{}),Object(g.jsx)(Mn.a,{dataKey:"uv",fill:"#82ca9d"})]})})})})}var In=Object(K.a)((function(e){return{root:{width:"100%",height:"auto"},form:{marginTop:"5vh"},submitButton:{textAlign:"right"}}})),Ln={title:"Reporte caja diario"},zn={fields:{from:{name:"date",helperText:"Fecha"}}},Pn={date:new Date};function Rn(){var e=In(),t=Object(n.useState)(Pn),a=Object(l.a)(t,2),r=a[0],i=a[1];return Object(g.jsxs)("div",{className:e.root,children:[Object(g.jsx)("div",{children:Object(g.jsx)(de.a,{variant:"subtitle2",color:"inherit",children:Ln.title})}),Object(g.jsx)(H.a,{}),Object(g.jsxs)("form",{className:e.form,onSubmit:function(e){return function(e){e.preventDefault(),console.log(r)}(e)},children:[Object(g.jsx)(_e.a,{required:!0,name:zn.fields.from.name,value:r.date,fullWidth:!0,type:"date",onChange:function(e){var t=e.target,a=t.name,n=t.value;i((function(e){return e[a]=n,Object(p.a)({},e)}))},helperText:zn.fields.from.helperText}),Object(g.jsx)("div",{className:e.submitButton,children:Object(g.jsx)(ve.a,{type:"submit",className:e.submitButton,children:Object(g.jsx)(Qe.a,{fontSize:"small",color:"primary"})})})]})]})}var Wn=Object(K.a)((function(e){return{root:{width:"85%",margin:"10vh auto 10vh auto",height:"auto"},container:{marginTop:"10vh",padding:"0"},gridCard:{display:"flex",justifyContent:"center",alignItems:"center"},cardGraphic:{width:"100%",background:"#ffff",height:"30vh"}}})),Kn={header:{title:"Bienvenido",user:"Santiago Marin"},body:{cards:{cashBalance:{title:"Saldo de Caja",value:"0.00",prefix:"$",percent:{value:0,tooltip:"Relaci\xf3n en procentaje respecto a mes anterior",prefix:"%"}},bankBalance:{title:"Saldo de Banco",value:"0.00",prefix:"$",percent:{value:0,tooltip:"Relaci\xf3n en procentaje respecto a mes anterior",prefix:"%"}},percentBalance:{title:"Respecto mes anterior",value:"0",prefix:"%",percent:{value:0,tooltip:"Relaci\xf3n en procentaje respecto a a\xf1o anterior",prefix:"%"}},respectPreviousMonth:{title:"Respecto mes anterior",value:0,prefix:"%"}}}};function _n(){var e=r.a.useContext(k).userContext,t=r.a.useContext(A).entityContext,a=Wn();return Object(g.jsxs)("div",{className:a.root,children:[Object(g.jsxs)(r.a.Fragment,{children:[Object(g.jsxs)(de.a,{variant:"h4",children:[Kn.header.title,", ",Object(g.jsxs)("span",{children:[e.name," ",e.lastname]})]}),Object(g.jsx)(de.a,{variant:"subtitle2",children:t.name}),Object(g.jsx)("div",{children:Object(g.jsx)(de.a,{variant:"caption",children:t.document})})]}),Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(hn.a,{className:a.container,children:Object(g.jsxs)(Re.a,{container:!0,spacing:3,children:[Object(g.jsx)(Re.a,{item:!0,md:4,sm:6,xs:12,className:a.gridCard,children:Object(g.jsx)(Tn,{data:Kn.body.cards.cashBalance})}),Object(g.jsx)(Re.a,{item:!0,md:4,sm:6,xs:12,className:a.gridCard,children:Object(g.jsx)(Tn,{data:Kn.body.cards.bankBalance})}),Object(g.jsx)(Re.a,{item:!0,md:4,sm:6,xs:12,className:a.gridCard,children:Object(g.jsx)(Tn,{data:Kn.body.cards.percentBalance})}),Object(g.jsx)(Re.a,{item:!0,md:8,sm:12,xs:12,className:a.gridCard,children:Object(g.jsx)(jn.a,{className:a.cardGraphic,children:Object(g.jsx)(fn.a,{children:Object(g.jsx)(Sn,{})})})}),Object(g.jsx)(Re.a,{item:!0,md:4,sm:6,xs:12,className:a.gridCard,children:Object(g.jsx)(jn.a,{className:a.cardGraphic,children:Object(g.jsx)(fn.a,{children:Object(g.jsx)(Rn,{})})})})]})})})]})}var qn=a(312);function Vn(e){var t=e.children,a=Object(qn.a)(e,["children"]),n=r.a.useContext(k).userContext;return Object(g.jsx)(s.b,Object(p.a)(Object(p.a)({},a),{},{render:function(){return n.id?t:Object(g.jsx)(s.a,{to:P.login})}}))}var Gn=a(609),Un=a(610),Hn=Object(K.a)((function(e){return{root:{width:"85%",margin:"10vh auto 10vh auto",height:"auto"},description:{fontWeight:"bold",marginBottom:"1vh"},divider:{marginBottom:"6vh"},alignRight:{textAlign:"right"},loadMoreButton:{width:"25%",height:"70%"},loadingContainer:{position:"fixed",width:"100%",height:"100%",bottom:"0",right:"0",background:"#BFBFBFBF",opacity:.6,display:"flex",justifyContent:"center",paddingTop:"50vh"}}})),Yn={description:"Lista de facturas emitidas"},Jn={buttonLoadMore:{label:"Cargar m\xe1s ..."}},Qn=[{field:"number",headerName:"Factura",width:150,editable:!1},{field:"date",headerName:"Fecha",width:200,editable:!1},{field:"third",headerName:"Nombre",editable:!1,width:350},{field:"note",headerName:"Descripci\xf3n",editable:!1,width:400},{field:"actions",headerName:"Acciones",width:150,type:"actions",renderCell:function(e){return Object(g.jsx)(Xn,{params:e})}}],$n={loadMoreButtonDisabled:!1,electronicBills:[],loading:!0};function Xn(e){var t=Object(s.g)();return Object(g.jsxs)(r.a.Fragment,{children:[Object(g.jsx)(ve.a,{type:"submit",onClick:function(){return function(){var a;t.push("".concat(R.main.electronicBill.form,"?number=").concat(null!==(a=e.params.row.number)&&void 0!==a?a:""))}()},children:Object(g.jsx)(Gn.a,{fontSize:"small",color:"primary"})}),Object(g.jsx)(ve.a,{type:"submit",onClick:function(){return function(){var a;t.push("".concat(R.main.electronicBill.form,"?number=").concat(null!==(a=e.params.row.number)&&void 0!==a?a:"","&copy=true"))}()},children:Object(g.jsx)(Un.a,{fontSize:"small",color:"action"})}),Object(g.jsx)(ve.a,{type:"submit",onClick:function(){return void 0!==e.params.row.preview?window.open(e.params.row.preview,"_blank"):D.b.warn("Factura disponible ingresando a la visualizaci\xf3n")},children:Object(g.jsx)(Mt.a,{fontSize:"small",color:"action"})})]})}function Zn(){var e=Hn(),t=Object(n.useState)($n),a=Object(l.a)(t,2),i=a[0],c=a[1],o=r.a.useContext(k).userContext;r.a.useEffect((function(){function e(){return(e=Object(Pe.a)(ze.a.mark((function e(){var t,a;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new on,e.next=3,t.getElectronicBills(o.token||"",{limit:5});case 3:a=e.sent,c(Object(p.a)(Object(p.a)({},i),{},{electronicBills:a.electronicBills.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{third:void 0!==e.third.businessName?"".concat(e.third.businessName):"".concat(e.third.name," ").concat(e.third.lastname)})})),lastEvaluatedKey:a.lastEvaluatedKey,loadMoreButtonDisabled:void 0===a.lastEvaluatedKey,loading:!1}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=function(){var e=Object(Pe.a)(ze.a.mark((function e(){var t,a,n,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new on,e.next=4,t.getElectronicBills(o.token||"",{limit:5,lastEvaluatedKey:i.lastEvaluatedKey});case 4:a=e.sent,n=a.electronicBills.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{third:void 0!==e.third.businessName?"".concat(e.third.businessName):"".concat(e.third.name," ").concat(e.third.lastname)})})),c(Object(p.a)(Object(p.a)({},i),{},{electronicBills:i.electronicBills.concat(n),lastEvaluatedKey:a.lastEvaluatedKey,loadMoreButtonDisabled:void 0===a.lastEvaluatedKey})),e.next=15;break;case 9:if(e.prev=9,e.t0=e.catch(0),!tt.a.isAxiosError(e.t0)){e.next=15;break}if(!(r=e.t0)||!r.response){e.next=15;break}return e.abrupt("return",D.b.error(r.response.data.message));case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:e.root,children:[Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(de.a,{variant:"h5",className:e.description,children:Yn.description})}),Object(g.jsx)(H.a,{className:e.divider}),Object(g.jsxs)(Re.a,{container:!0,spacing:3,children:[Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,children:Object(g.jsx)(Dt,{rows:i.electronicBills,columns:Qn,keyId:"number"})}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:6,xs:12,className:e.alignRight,children:Object(g.jsx)(Ge.a,{type:"button",color:"primary",size:"small",className:e.loadMoreButton,startIcon:Object(g.jsx)(Mt.a,{}),disabled:i.loadMoreButtonDisabled,onClick:function(){return s()},children:Jn.buttonLoadMore.label})})]}),i.loading?Object(g.jsx)("div",{className:e.loadingContainer,children:Object(g.jsx)(Ve.a,{children:Object(g.jsx)(Ue.a,{})})}):""]})}var er=Object(K.a)((function(e){return{root:{width:"85%",margin:"10vh auto 10vh auto",height:"auto"},description:{fontWeight:"bold",marginBottom:"1vh"},divider:{marginBottom:"6vh"},alignRight:{textAlign:"right"},thirdClassTitle:{color:"#757575",marginBottom:"6vh"},loadingContainer:{position:"fixed",width:"100%",height:"100%",bottom:"0",right:"0",background:"#BFBFBFBF",opacity:.6,display:"flex",justifyContent:"center",paddingTop:"50vh"}}})),tr={header:{description:"Crear centro de costo"},body:{field:{code:{name:"code",helperText:"C\xf3digo",placeholder:"C\xf3digo de centro de costo"},description:{name:"description",helperText:"Escriba la descripci\xf3n del centro de costo",placeholder:"Nombre de centro de costo"},type:{name:"type",helperText:"Tipo de centro de costo",options:[{description:"Concepto",code:"CONCEPT"},{description:"Forma de pago",code:"PAY"}]}}}},ar={form:{code:"",description:"",type:{code:"",description:""}},isEdit:!1,loading:!1};function nr(){var e,t,a=er(),i=Object(s.h)().search,c=Object(s.g)(),o=Object(n.useState)(ar),u=Object(l.a)(o,2),b=u[0],m=u[1],h=r.a.useContext(k).userContext;r.a.useEffect((function(){function e(){return(e=Object(Pe.a)(ze.a.mark((function e(){var t,a,n,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=y.getIdFromUrl(i))){e.next=8;break}return m(Object(p.a)(Object(p.a)({},b),{},{loading:!0})),n=new wt,e.next=6,n.getCostCenterByCode(null!==(a=h.token)&&void 0!==a?a:"",t);case 6:(r=e.sent)&&m(Object(p.a)(Object(p.a)({},b),{},{form:r,loading:!1,isEdit:!0}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var j=function(e){var t=e.target,a=t.name,n=t.value;m(Object(p.a)(Object(p.a)({},b),{},{form:Object(p.a)(Object(p.a)({},b.form),{},Object(d.a)({},a,n))}))},f=function(){var e=Object(Pe.a)(ze.a.mark((function e(t){var a,n,r,i,o;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,a=new wt,!b.isEdit){e.next=9;break}return e.next=6,a.updateCostCenter(b.form,null!==(r=h.token)&&void 0!==r?r:"");case 6:n=e.sent,e.next=12;break;case 9:return e.next=11,a.saveCostCenter(b.form,null!==(i=h.token)&&void 0!==i?i:"");case 11:n=e.sent;case 12:return m(ar),c.push(R.main.costCenter.form),e.abrupt("return",D.b.success("El centro de costo ".concat(n.code," fue ").concat(b.isEdit?"actualizado":"creado"," con \xe9xito")));case 17:if(e.prev=17,e.t0=e.catch(1),!tt.a.isAxiosError(e.t0)){e.next=25;break}if(!(o=e.t0)||!o.response){e.next=23;break}return e.abrupt("return",D.b.error(o.response.data.message));case 23:e.next=27;break;case 25:if(!(e.t0 instanceof Error)){e.next=27;break}return e.abrupt("return",D.b.error(e.t0.message));case 27:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:a.root,children:[Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(de.a,{variant:"h5",className:a.description,children:tr.header.description})}),Object(g.jsx)(H.a,{className:a.divider}),Object(g.jsx)("form",{onSubmit:function(e){return f(e)},children:Object(g.jsxs)(Re.a,{container:!0,spacing:3,children:[Object(g.jsx)(Re.a,{item:!0,md:6,sm:6,xs:10,children:Object(g.jsx)(_e.a,{required:!0,name:tr.body.field.code.name,value:b.form.code,variant:"outlined",fullWidth:!0,onChange:j,helperText:tr.body.field.code.helperText,placeholder:tr.body.field.code.placeholder,inputProps:{maxLength:10}})}),Object(g.jsx)(Re.a,{item:!0,md:6,sm:6,xs:10,children:Object(g.jsx)(_e.a,{required:!0,name:tr.body.field.description.name,value:b.form.description,variant:"outlined",fullWidth:!0,onChange:j,helperText:tr.body.field.description.helperText,placeholder:tr.body.field.description.placeholder})}),Object(g.jsxs)(Re.a,{item:!0,md:6,sm:6,xs:12,children:[Object(g.jsx)(We.a,{name:tr.body.field.type.name,value:null!==(e=null===(t=b.form.type)||void 0===t?void 0:t.code)&&void 0!==e?e:"",variant:"outlined",fullWidth:!0,children:tr.body.field.type.options.map((function(e){return Object(g.jsx)(ge.a,{value:e.code,onClick:function(){return function(e,t){m(Object(p.a)(Object(p.a)({},b),{},{form:Object(p.a)(Object(p.a)({},b.form),{},Object(d.a)({},e,t))}))}(tr.body.field.type.name,e)},children:e.description},e.description)}))}),Object(g.jsx)(Ke.a,{children:tr.body.field.type.helperText})]}),Object(g.jsxs)(Re.a,{item:!0,md:12,sm:6,xs:12,className:a.alignRight,children:[Object(g.jsx)(ve.a,{type:"submit",children:Object(g.jsx)(Qe.a,{fontSize:"large",color:"primary"})}),Object(g.jsx)(ve.a,{type:"button",onClick:function(){m(ar)},children:Object(g.jsx)($e.a,{fontSize:"large",color:"secondary"})})]})]})}),b.loading?Object(g.jsx)("div",{className:a.loadingContainer,children:Object(g.jsx)(Ve.a,{children:Object(g.jsx)(Ue.a,{})})}):""]})}var rr=Object(K.a)((function(e){return{root:{width:"85%",margin:"10vh auto 10vh auto",height:"auto"},description:{fontWeight:"bold",marginBottom:"1vh"},divider:{marginBottom:"6vh"},alignRight:{textAlign:"right"},loadMoreButton:{width:"25%",height:"70%"},loadingContainer:{position:"fixed",width:"100%",height:"100%",bottom:"0",right:"0",background:"#BFBFBFBF",opacity:.6,display:"flex",justifyContent:"center",paddingTop:"50vh"}}})),ir={description:"Lista de centros de costos"},cr={buttonLoadMore:{label:"Cargar m\xe1s ..."}},or=[{field:"code",headerName:"C\xf3digo",flex:1,editable:!1},{field:"description",headerName:"Centro de costo",editable:!0,flex:2},{field:"typeDescription",headerName:"Tipo",editable:!1,flex:1},{field:"actions",headerName:"Acciones",flex:1,type:"actions",renderCell:function(e){return Object(g.jsx)(lr,{params:e})}}],sr={loadMoreButtonDisabled:!1,costCenters:[],loading:!0};function lr(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),i=a[0],c=a[1],o=r.a.useContext(k).userContext,d=Object(s.g)();return r.a.useEffect((function(){c(o.permissions.some((function(e){return e===pe.cost_center.update})))}),[o]),Object(g.jsx)(ve.a,{type:"submit",onClick:function(){return function(){var t;d.push("".concat(R.main.costCenter.form,"?code=").concat(null!==(t=e.params.row.code)&&void 0!==t?t:""))}()},disabled:!i,children:Object(g.jsx)(At.a,{fontSize:"small",color:i?"primary":"inherit"})})}function dr(){var e=rr(),t=Object(n.useState)(sr),a=Object(l.a)(t,2),i=a[0],c=a[1],o=r.a.useContext(k).userContext;r.a.useEffect((function(){function e(){return(e=Object(Pe.a)(ze.a.mark((function e(){var t,a,n;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new wt,e.next=3,t.getCostCenters(o.token||"",{limit:5});case 3:a=e.sent,n=a.costCenters.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{typeDescription:e.type.description})})),c(Object(p.a)(Object(p.a)({},i),{},{costCenters:n,lastEvaluatedKey:a.lastEvaluatedKey,loadMoreButtonDisabled:void 0===a.lastEvaluatedKey,loading:!1}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=function(){var e=Object(Pe.a)(ze.a.mark((function e(){var t,a,n,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new wt,e.next=4,t.getCostCenters(o.token||"",{limit:5,lastEvaluatedKey:i.lastEvaluatedKey});case 4:a=e.sent,n=a.costCenters.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{typeDescription:e.type.description})})),c(Object(p.a)(Object(p.a)({},i),{},{costCenters:i.costCenters.concat(n),lastEvaluatedKey:a.lastEvaluatedKey,loadMoreButtonDisabled:void 0===a.lastEvaluatedKey})),e.next=15;break;case 9:if(e.prev=9,e.t0=e.catch(0),!tt.a.isAxiosError(e.t0)){e.next=15;break}if(!(r=e.t0)||!r.response){e.next=15;break}return e.abrupt("return",D.b.error(r.response.data.message));case 15:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(Pe.a)(ze.a.mark((function e(t){var a,n,r,c,s,l;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},void 0===(n=i.costCenters.find((function(e){return e.code===t.id})))){e.next=6;break}a=Object(p.a)(Object(p.a)({},n),{},Object(d.a)({},t.field,t.value)),e.next=7;break;case 6:return e.abrupt("return");case 7:return e.prev=7,c=new wt,e.next=11,c.updateCostCenter(a,null!==(r=o.token)&&void 0!==r?r:"");case 11:return s=e.sent,e.abrupt("return",D.b.success("El centro de costo ".concat(s.code," fue editado con \xe9xito")));case 15:if(e.prev=15,e.t0=e.catch(7),!tt.a.isAxiosError(e.t0)){e.next=21;break}if(!(l=e.t0)||!l.response){e.next=21;break}return e.abrupt("return",D.b.error(l.response.data.message));case 21:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:e.root,children:[Object(g.jsx)(r.a.Fragment,{children:Object(g.jsx)(de.a,{variant:"h5",className:e.description,children:ir.description})}),Object(g.jsx)(H.a,{className:e.divider}),Object(g.jsxs)(Re.a,{container:!0,spacing:3,children:[Object(g.jsx)(Re.a,{item:!0,md:12,sm:12,xs:12,children:Object(g.jsx)(Dt,{rows:i.costCenters,columns:or,keyId:"code",gridEdit:u})}),Object(g.jsx)(Re.a,{item:!0,md:12,sm:6,xs:12,className:e.alignRight,children:Object(g.jsx)(Ge.a,{type:"button",color:"primary",size:"small",className:e.loadMoreButton,startIcon:Object(g.jsx)(Mt.a,{}),disabled:i.loadMoreButtonDisabled,onClick:function(){return s()},children:cr.buttonLoadMore.label})})]}),i.loading?Object(g.jsx)("div",{className:e.loadingContainer,children:Object(g.jsx)(Ve.a,{children:Object(g.jsx)(Ue.a,{})})}):""]})}var ur=Object(K.a)((function(e){return Object(_.a)({root:{minHeight:"100vh",background:"#fafafa"},body:{display:"flex"},main:{flexGrow:1}})}));function pr(){var e=ur();return Object(g.jsxs)("div",{className:e.root,children:[Object(g.jsx)(Kt.a,{}),Object(g.jsxs)("div",{className:e.body,children:[Object(g.jsx)("div",{children:Object(g.jsx)(he,{})}),Object(g.jsxs)("div",{className:e.main,children:[Object(g.jsx)(Ie,{}),Object(g.jsxs)(s.d,{children:[Object(g.jsx)(s.b,{path:R.main.home,children:Object(g.jsx)(Vn,{children:Object(g.jsx)(_n,{})})}),Object(g.jsx)(s.b,{path:R.main.account.form,children:Object(g.jsx)(Vn,{children:Object(g.jsx)(Ut,{})})}),Object(g.jsx)(s.b,{path:R.main.account.list,children:Object(g.jsx)(Vn,{children:Object(g.jsx)(Zt,{})})}),Object(g.jsx)(s.b,{path:R.main.third.form,children:Object(g.jsx)(Vn,{children:Object(g.jsx)(ia,{})})}),Object(g.jsx)(s.b,{path:R.main.third.list,children:Object(g.jsx)(Vn,{children:Object(g.jsx)(pa,{})})}),Object(g.jsx)(s.b,{path:R.main.third.thirdMigrationForm,children:Object(g.jsx)(Vn,{children:Object(g.jsx)(ja,{})})}),Object(g.jsx)(s.b,{path:R.main.concept.form,children:Object(g.jsx)(Vn,{children:Object(g.jsx)(Oa,{})})}),Object(g.jsx)(s.b,{path:R.main.concept.list,children:Object(g.jsx)(Vn,{children:Object(g.jsx)(Ea,{})})}),Object(g.jsx)(s.b,{path:R.main.costCenter.form,children:Object(g.jsx)(Vn,{children:Object(g.jsx)(nr,{})})}),Object(g.jsx)(s.b,{path:R.main.costCenter.list,children:Object(g.jsx)(Vn,{children:Object(g.jsx)(dr,{})})}),Object(g.jsx)(s.b,{path:R.main.item.form,children:Object(g.jsx)(Vn,{children:Object(g.jsx)(Ga,{})})}),Object(g.jsx)(s.b,{path:R.main.item.list,children:Object(g.jsx)(Vn,{children:Object(g.jsx)(Za,{})})}),Object(g.jsx)(s.b,{path:R.main.receipt.form,children:Object(g.jsx)(Vn,{children:Object(g.jsx)(Bt,{})})}),Object(g.jsx)(s.b,{path:R.main.receipt.list,children:Object(g.jsx)(Vn,{children:Object(g.jsx)(Wt,{})})}),Object(g.jsx)(s.b,{path:R.main.electronicBill.form,children:Object(g.jsx)(Vn,{children:Object(g.jsx)(mn,{})})}),Object(g.jsx)(s.b,{path:R.main.electronicBill.list,children:Object(g.jsx)(Vn,{children:Object(g.jsx)(Zn,{})})}),Object(g.jsx)(s.b,{path:R.main.receipt.report,children:Object(g.jsx)(Vn,{children:Object(g.jsx)(Ia,{})})}),Object(g.jsx)(s.b,{path:R.main.internalTransaction.form,children:Object(g.jsx)(Vn,{children:Object(g.jsx)(Ma,{})})}),Object(g.jsx)(s.b,{path:R.main.internalTransaction.report,children:Object(g.jsx)(Vn,{children:Object(g.jsx)(Ra,{})})})]})]})]})]})}var br=function(){function e(){Object(Xe.a)(this,e)}return Object(Ze.a)(e,[{key:"login",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r,i,c,o,s,l,d;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/login"),e.next=4,tt.a.post(n,{email:t,password:a});case 4:if(r=e.sent,(i=r.data).token){e.next=8;break}throw new Error("No recuper\xf3 token");case 8:return c=Object(h.a)(i.token),o=c.data.user,s=c.data.entity,o.token=i.token,l=j(o),d=f(s),m.a.set("auth",i.token),e.abrupt("return",{user:l,entity:d});case 18:throw e.prev=18,e.t0=e.catch(0),e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getUsers",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t){var a,n;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="".concat("http://147.182.132.254:2426","/api/v2/user"),e.next=4,tt.a.get(a,{headers:{authorization:t}});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"saveUser",value:function(){var e=Object(Pe.a)(ze.a.mark((function e(t,a){var n,r;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://147.182.132.254:2426","/api/v2/user"),e.next=4,tt.a.post(n,t,{headers:{authorization:a}});case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),mr=a(616),hr=a(612),jr=Object(K.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"#fafafa"},state:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),fr={title:"Inicia sesi\xf3n",logo:{path:"/images/logotipo-crecer-dmc.svg",alt:"logotipo de crecer dmc"}},xr={field:{email:{name:"email",label:"Correo"},password:{name:"password",label:"Contrase\xf1a"},rememberCheck:{value:"remember",label:"Recordarme"},signinButton:{title:"Entrar"}},footer:{forgotPasswordLink:"Olvidaste tu contrase\xf1a?",createAccountLink:"A\xfan no tienes un usuario?",copyright:"CRECER DMC"}},vr={email:"",password:""};function Or(){return Object(g.jsxs)(de.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(g.jsx)(hr.a,{color:"inherit",href:"https://material-ui.com/",children:xr.footer.copyright})," ",(new Date).getFullYear(),"."]})}function yr(){var e=r.a.useContext(k),t=e.userContext,a=e.setUserContext,i=r.a.useContext(A).setEntityContext,c=Object(s.g)(),o=jr(),u=Object(n.useState)(vr),b=Object(l.a)(u,2),m=b[0],h=b[1];r.a.useEffect((function(){(null===t||void 0===t?void 0:t.id)&&c.push(R.main.home)}),[]);var j=function(e){var t=e.target,a=t.name,n=t.value;h(Object(p.a)(Object(p.a)({},m),{},Object(d.a)({},a,n)))};function f(){return(f=Object(Pe.a)(ze.a.mark((function e(t){var n,r,o;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n=new br,e.next=5,n.login(m.email,m.password);case 5:(r=e.sent)&&(a(r.user),i(r.entity)),e.next=15;break;case 9:if(e.prev=9,e.t0=e.catch(1),!tt.a.isAxiosError(e.t0)){e.next=15;break}if(!(o=e.t0)||!o.response){e.next=15;break}return e.abrupt("return",D.b.error(o.response.data.message));case 15:c.push(R.main.home);case 16:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return Object(g.jsxs)(hn.a,{component:"main",maxWidth:"xs",children:[Object(g.jsx)(Kt.a,{}),Object(g.jsxs)("div",{className:o.paper,children:[Object(g.jsx)(mr.a,{className:o.avatar,children:Object(g.jsx)("img",{src:fr.logo.path,alt:fr.logo.alt})}),Object(g.jsx)(de.a,{component:"h1",variant:"h5",children:fr.title}),Object(g.jsxs)("form",{className:o.state,onSubmit:function(e){return f.apply(this,arguments)},noValidate:!0,children:[Object(g.jsx)(_e.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,onChange:j,value:m.email,id:xr.field.email.name,label:xr.field.email.label,name:xr.field.email.name,autoFocus:!0}),Object(g.jsx)(_e.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:m.password,onChange:j,name:xr.field.password.name,label:xr.field.password.label,type:"password",id:xr.field.password.name,autoComplete:"current-password"}),Object(g.jsx)(tn.a,{control:Object(g.jsx)(an.a,{value:xr.field.rememberCheck.value,color:"primary"}),label:xr.field.rememberCheck.label}),Object(g.jsx)(Ge.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:o.submit,children:xr.field.signinButton.title}),Object(g.jsxs)(Re.a,{container:!0,children:[Object(g.jsx)(Re.a,{item:!0,xs:!0,children:Object(g.jsx)(hr.a,{href:"#",variant:"body2",children:xr.footer.forgotPasswordLink})}),Object(g.jsx)(Re.a,{item:!0,children:Object(g.jsx)(hr.a,{href:"#",variant:"body2",children:xr.footer.createAccountLink})})]})]})]}),Object(g.jsx)(Ve.a,{mt:8,children:Object(g.jsx)(Or,{})})]})}function gr(){return Object(g.jsxs)("div",{children:[Object(g.jsx)(Kt.a,{}),Object(g.jsx)("div",{children:Object(g.jsx)("div",{children:Object(g.jsxs)(s.d,{children:[Object(g.jsx)(s.b,{exact:!0,path:P.home,children:Object(g.jsx)("h1",{children:"Home"})}),Object(g.jsx)(s.b,{path:P.login,children:Object(g.jsx)(yr,{})})]})})})]})}var Cr=function(){return Object(g.jsx)(F.a,{theme:z,children:Object(g.jsxs)(M,{children:[Object(g.jsx)(o.a,{children:Object(g.jsxs)(s.d,{children:[Object(g.jsx)(s.b,{path:P.home,children:Object(g.jsx)(gr,{})}),Object(g.jsx)(s.b,{path:R.index,children:Object(g.jsx)(pr,{})})]})}),Object(g.jsx)(D.a,{})]})})},Tr=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,618)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};c.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(Cr,{})}),document.getElementById("root")),Tr()}},[[512,1,2]]]);
//# sourceMappingURL=main.431d3790.chunk.js.map