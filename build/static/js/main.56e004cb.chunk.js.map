{"version":3,"sources":["mappers/User/user.mapper.ts","mappers/Entity/entity.mapper.ts","utils.ts","contexts/User/index.tsx","contexts/Entity/index.tsx","contexts/index.tsx","theme.ts","urls.ts","components/ComponentsForApp/MainMenu/MainMenu.tsx","components/ComponentsForApp/AppBar/AppBarComponent.tsx","components/ComponentsForApp/Table/TableComponent.tsx","components/ComponentsForApp/CashReceipt/CashReceiptForm.tsx","mappers/Third/third.mapper.ts","services/Third/index.ts","mappers/Common/comon.mapper.ts","services/Plemsi/index.ts","components/ComponentsForApp/Third/ThirdForm.tsx","components/ComponentsForApp/DataTable/DataTable.tsx","components/ComponentsForApp/Third/ThirdList.tsx","components/ComponentsForApp/Third/ThirdMigration.tsx","mappers/Concept/concept.mapper.ts","services/Concept/index.ts","components/ComponentsForApp/Concept/ConceptForm.tsx","components/ComponentsForApp/Concept/ConceptList.tsx","components/ComponentsForApp/InternalTransaction/InternalTransactionForm.tsx","components/ComponentsForApp/CashReceipt/CashReceiptReport.tsx","components/ComponentsForApp/InternalTransaction/InternalTransactionReport.tsx","mappers/Item/item.mapper.ts","services/Item/index.ts","components/ComponentsForApp/Item/ItemForm.tsx","components/ComponentsForApp/Item/ItemList.tsx","mappers/ElectronicBill/electronicBill.mapper.ts","services/ElectronicBill/index.ts","components/ComponentsForApp/ElectronicBill/ItemTable.tsx","components/ComponentsForApp/ElectronicBill/ElectronicBillForm.tsx","components/ComponentsForApp/Index/Card/BalanceCard.tsx","components/ComponentsForApp/Index/Graphics/LineGraphic/LineGraphic.tsx","components/ComponentsForApp/Index/DailyReport/DailyReportForm.tsx","components/ComponentsForApp/Index/IndexApp.tsx","components/ComponentsForProtectRoutes/ProtectRoute.tsx","components/ComponentsForApp/ElectronicBill/ElectronicBillList.tsx","components/ComponentsForApp/ContainerApp/ContainerApp.tsx","services/User/index.ts","components/ComponentsForPage/Login/Login.tsx","components/ComponentsForPage/ContainerPage/ContainerPage.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["userMapper","user","_user$id","_user$email","_user$password","_user$name","_user$lastname","_user$entityId","_user$state","_user$permissions","_user$token","id","email","password","name","lastname","entityId","state","permissions","token","entityMapper","entity","_entity$id","_entity$name","_entity$entityTypeCod","_entity$document","_entity$email","_entity$phone","_entity$apiKeyPlemsi","_entity$state","_entity$resolution","_entity$resolutionTex","_entity$lastElectroni","entityTypeCode","document","signatories","signatoriesMapper","undefined","address","addressMapper","phone","apiKeyPlemsi","resolution","resolutionText","lastElectronicBillNumber","_address$description","_address$city$code","_address$city$descrip","description","city","code","map","signatory","_signatory$name","_signatory$lastname","_signatory$document","_signatory$documentTy","_signatory$documentTy2","documentType","Utils","getUserByCookieAuth","Cookies","get","jwt","data","getEntityByCookieAuth","removeCookieAuth","remove","buildItem","form","applyTaxes","tax","percent","taxAmount","taxableAmount","_objectSpread","selectedTax","currentPercentTax","currentQuantity","currentPrice","currentItem","itemType","currentItemType","price","quantity","total","taxes","buildTaxesForElectronicBill","items","res","forEach","item","concat","getIdFromUrl","search","match","parseQueryString","url","queryString","split","_step","params","result","_iterator","_createForOfIteratorHelper","s","n","done","_param$split","value","_param$split2","_slicedToArray","key","push","_defineProperty","decodeURIComponent","err","e","f","Context","createContext","initialContextUserState","UserContextProvider","_ref","children","auth","_useState","useState","_useState2","userContext","setUserContext","_jsx","Provider","initialState","EntityContextProvider","entityContext","setEntityContext","GlobalProvider","props","theme","createMuiTheme","palette","primary","main","lightBlue","secondary","deepOrange","urls","home","login","index","third","thirdMigrationForm","list","concept","cashReceipt","report","electronicBill","internalTransaction","useStyles","makeStyles","createStyles","root","minHeight","width","backgroundColor","position","rootResponsive","maxWidth","fixed","fixedResponsive","hidden","display","textPrimary","color","fontSize","icon","menuTitle","fontWeight","textAlign","secondaryMenuTitle","logo","nestedList","background","nested","paddingLeft","spacing","initState","selected","menu","itemHeader","title","path","alt","InsertChart","permission","view","Contacts","indexedMenu","open","ContactMail","create","RecentActors","migrate","Category","QueueRounded","ListIcon","Keyboard","movement_receipt","ImportExport","movement_internal","Description","electronic_bill","FindInPage","Assignment","MainMenu","classes","history","useHistory","_React$useState","React","_React$useState2","setState","useContext","UserContext","sizeScreen","setSizeScreen","matches","useMediaQuery","handleListMenu","event","savedItem","className","_jsxs","List","component","aria-label","ListItem","ListItemIcon","onClick","src","Typography","variant","Divider","some","Fragment","button","ListItemText","ExpandLess","ExpandMore","Collapse","in","timeout","unmountOnExit","disablePadding","indexedItem","grow","flexGrow","toolBar","borderRadius","shape","fade","common","white","marginRight","marginLeft","breakpoints","up","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","transition","transitions","sectionDesktop","sectionMobile","AppBarComponent","anchorEl","setAnchorEl","_React$useState3","_React$useState4","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleProfileMenuOpen","currentTarget","handleMobileMenuClose","handleMenuClose","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","mobileMenuId","renderMobileMenu","IconButton","Badge","badgeContent","MailIcon","NotificationsIcon","aria-controls","aria-haspopup","AccountCircle","AppBar","elevation","Toolbar","SearchIcon","InputBase","placeholder","input","inputProps","edge","MoreIcon","table","minWidth","texts","headers","detail","delete","TableComponent","rows","handleTable","reload","setReload","useEffect","TableContainer","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","row","newValue","Number","replace","handleDelete","DeleteIcon","margin","marginBottom","divider","alignRight","addButton","initStateForm","type","date","Date","serial","classThird","valueText","valueNumber","wayPay","conceptTable","header","fields","helperText","options","_id","typeThird","typeDocument","enterpriceName","bank","helperTextIng","helperTextEgr","numberAccount","typeAccount","conceptDetail","conceptValue","buttonAddConcept","body","subtitle","CashReceiptForm","setForm","_useState3","_useState4","setWayPay","_useState5","_useState6","setBank","_useState7","_useState8","modalBank","setModalBank","_useState9","_useState10","setConceptTable","_useState11","_useState12","setConcept","_useState13","_useState14","setConceptDetail","_useState15","_useState16","setConceptValue","_useState17","_useState18","setTotal","handleChange","_e$target","target","prev","handleChangeSelect","handleModalBank","cond1","cond2","func","_toConsumableArray","console","log","newArray","splice","onSubmit","preventDefault","arrayWayPay","handleSubmit","Grid","container","md","sm","xs","Select","fullWidth","onChange","FormHelperText","TextField","Help","_e$target2","newInput","join","reverse","output","aux","paginator","Math","ceil","length","i","j","Button","size","startIcon","Save","NoteAdd","Cancel","thirdMapper","_third$entityId","_third$document","_third$dv","_third$documentType","_third$organizationTy","_third$liabilityType","_third$regimeType","_third$name","_third$lastname","_third$businessName","_third$phone","_third$address","_third$city","_third$email","dv","organizationType","liabilityType","regimeType","businessName","ThirdService","_classCallCheck","_createClass","_saveThird","_asyncToGenerator","_regeneratorRuntime","mark","_callee","thirdData","responseApi","wrap","_context","next","process","axios","post","authorization","sent","abrupt","t0","stop","_x","_x2","apply","arguments","_updateThird","_callee2","_context2","put","_x3","_x4","_getThirds","_callee3","thirds","_context3","limit","lastEvaluatedKey","JSON","stringify","_x5","_x6","_getThirdByDocument","_callee4","_context4","_x7","_x8","listObject","object","hasOwnProperty","PlemsiService","_getCities","apikey","_getBill","number","preview","thirdClassTitle","loadingContainer","bottom","right","opacity","paddingTop","field","one","two","error","errorOnMail","errorOnDocument","cities","loading","isEdit","ThirdForm","_state$form$name","_state$form$lastname","_state$form$dv","_state$form$businessN","_state$form$city$code","_state$form$city","useLocation","EntityContext","_loadData","_entityContext$apiKey","plemsiService","_userContext$token","thirdService","getCities","getThirdByDocument","loadData","test","_ref3","thirdCreated","_userContext$token2","_userContext$token3","serverError","toast","updateThird","saveThird","success","isAxiosError","response","message","disabled","required","Box","CircularProgress","DataTable","style","DataGrid","columns","getRowId","keyId","pageSize","onCellEditCommit","gridEdit","onGridEdit","loadMoreButton","buttonLoadMore","label","headerName","editable","flex","valueGetter","getValue","renderCell","ActionButtons","loadMoreButtonDisabled","_props$params$row$doc","onEdit","Edit","ThirdList","getThirds","onLoadMore","_ref2","thirdToEdit","selectedThird","thirdUpdated","find","CloudDownload","contentAside","lastThird","secondName","lastName","companyName","newThird","aside","content","ThirdMigration","newThirdOptions","setNewThirdOptions","filter","conceptMapper","_concept$entityId","_concept$account","_concept$description","_code$description","_concept$type$code","_concept$type","_concept$type$descrip","_concept$type2","account","ConceptService","_saveConcept","_updateConcept","conceptData","_getConceptByAccount","_getConcepts","concepts","validationError","validations","errorMinLengthAccount","ConceptForm","_state$form$type$code","_state$form$type","conceptService","getConceptByAccount","conceptCreated","Error","updateConcept","saveConcept","maxLength","editPermission","setEditPermission","update","_props$params$row$acc","ConceptList","responseParsed","getConcepts","typeDescription","_ref4","conceptToEdit","selectedConcept","conceptUpdated","optionOne","optionTwo","optionThree","secondBank","InternalTransactionForm","valueStr","setValueStr","newBankOptions","setNewBankOptions","from","to","CashReceiptReport","itemMapper","_item$entityId","_item$code","_Number","_item$description","_item$price","_item$unitMeasure$cod","_item$unitMeasure","_item$unitMeasure$des","_item$unitMeasure2","_code$description2","_item$itemType$code","_item$itemType","_item$itemType$descri","_item$itemType2","unitMeasure","ItemService","_saveItem","itemData","_updateItem","_getItemByCode","_getItems","ItemForm","_state$form$price","_state$form$unitMeasu","_state$form$unitMeasu2","_state$form$itemType$","_state$form$itemType","itemService","getItemByCode","itemCreated","p","super_admin","updateItem","saveItem","columnsAdmin","_props$params$row$cod","ItemList","getItems","itemToEdit","selectedItem","itemUpdated","toString","electronicBillMapper","formToSchema","_form$third","orderReference","wayToPay","paymentMethod","paymentDueDate","moment","format","note","totalTaxes","totalToPay","schemaToForm","bill","ElectronicBillService","_saveBill","billData","_getElectronicBills","bills","ElectronicBillMapper","electronicBills","_getBillByNumber","ItemTable","disabledForm","subtitles","payment","itemsTable","buttons","addProduct","selectedItems","status","thirdSelected","suggestionsThirds","ElectronicBillForm","_state$form$currentIt","_state$form$currentIt2","_bill$form$third","_bill$form$third2","_bill$form$third3","_bill$form$third4","copy","billPlemsi","electronicBillService","_bill$form$number","thirdsRes","itemsRes","_thirdService","_itemService","_thirds","_items","param","getBillByNumber","getBill","_objectSpread3","saveBill","entityInformation","toLowerCase","includes","InputProps","endAdornment","InputAdornment","ArrowDropUp","ArrowDropDown","sx","maxHeight","zIndex","bgcolor","overflow","FormControlLabel","control","Checkbox","checked","onApplyTaxes","Link","pathname","card","cardBody","marginTop","cardPrefix","cardPorcent","BalanceCard","Card","CardContent","prefix","Tooltip","tooltip","ArrowUpwardIcon","ArrowDownwardIcon","uv","LineGraphic","ResponsiveContainer","BarChart","top","left","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","Bar","fill","submitButton","DailyReportForm","gridCard","cardGraphic","cards","cashBalance","bankBalance","percentBalance","respectPreviousMonth","IndexApp","Container","ProtectRoute","rest","_objectWithoutProperties","Route","render","Redirect","_props$params$row$num","onView","Visibility","_props$params$row$num2","onCopy","PostAdd","window","warn","ElectronicBillList","getElectronicBills","newBills","ContainerApp","CssBaseline","Switch","InternalTransactionReport","UserService","_login","tokenData","userData","entityData","set","_getUsers","_saveUser","paper","flexDirection","avatar","submit","rememberCheck","signinButton","footer","forgotPasswordLink","createAccountLink","copyright","Copyright","href","getFullYear","SignIn","_onLogin","userService","Avatar","noValidate","autoFocus","autoComplete","mt","exact","Login","App","MuiThemeProvider","Router","ContainerPage","ToastContainer","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.56e004cb.chunk.js","sourcesContent":["import { User } from \"../../schemas/User\";\r\n\r\nexport default function userMapper(user: any | unknown): User {\r\n  return {\r\n    id: user.id ?? '',\r\n    email: user.email ?? '',\r\n    password: user.password ?? '',\r\n    name: user.name ?? '',\r\n    lastname: user.lastname ?? '',\r\n    entityId: user.entityId ?? '',\r\n    state: user.state ?? '',\r\n    permissions: user.permissions ?? [''],\r\n    token: user.token ?? ''\r\n  }\r\n}\r\n","import { Address, Entity, Signatory } from \"../../schemas/Entity\";\r\n\r\nexport default function entityMapper(entity: any | unknown): Entity {\r\n  return {\r\n    id: entity.id ?? '',\r\n    name: entity.name ?? '',\r\n    entityTypeCode: entity.entityTypeCode ?? '',\r\n    document: entity.document ?? '',\r\n    signatories: entity.signatories ? signatoriesMapper(entity.signatories) : undefined,\r\n    address: entity.address ? addressMapper(entity.address) : undefined,\r\n    email: entity.email ?? '',\r\n    phone: entity.phone ?? '',\r\n    apiKeyPlemsi: entity.apiKeyPlemsi ?? '',\r\n    state: entity.state ?? '',\r\n    resolution: entity.resolution ?? '',\r\n    resolutionText: entity.resolutionText ?? '',\r\n    lastElectronicBillNumber: entity.lastElectronicBillNumber ?? 0\r\n  }\r\n}\r\n\r\nfunction addressMapper(address: any): Address {\r\n  return {\r\n    description: address.description ?? '',\r\n    city: {\r\n      code: address.city.code ?? '',\r\n      description: address.city.description ?? ''\r\n    }\r\n  }\r\n}\r\n\r\nfunction signatoriesMapper(signatories: any[]): Signatory[] {\r\n  const response = signatories.map(signatory => {\r\n    return {\r\n      name: signatory.name ?? '',\r\n      lastname: signatory.lastname ?? '',\r\n      document: signatory.document ?? '',\r\n      documentType: {\r\n        code: signatory.documentType.code ?? '',\r\n        description: signatory.documentType.description ?? ''\r\n      }\r\n    }\r\n  })\r\n\r\n  return response\r\n}\r\n","import Cookies from 'js-cookie'\r\nimport jwt from 'jwt-decode'\r\nimport { ElectronicBillFormSchema, ItemComplete, Tax } from \"./schemas/ElectronicBill\"\r\nimport userMapper from './mappers/User/user.mapper'\r\nimport { User } from './schemas/User'\r\nimport entityMapper from './mappers/Entity/entity.mapper'\r\nimport { Entity } from './schemas/Entity'\r\n\r\nconst Utils = {\r\n  getUserByCookieAuth: () : User | undefined => {\r\n    type jwtDecode = {\r\n      data: {\r\n        user: any\r\n      }\r\n    }\r\n    const token = Cookies.get('auth')\r\n\r\n    if (token === undefined) return undefined\r\n\r\n    const tokenData = jwt<jwtDecode>(token)\r\n    const user = userMapper(tokenData.data.user)\r\n    user.token = token\r\n    return user\r\n  },\r\n\r\n  getEntityByCookieAuth: () : Entity | undefined => {\r\n    type jwtDecode = {\r\n      data: {\r\n        entity: any\r\n      }\r\n    }\r\n    const token = Cookies.get('auth')\r\n\r\n    if (token === undefined) return undefined\r\n\r\n    const tokenData = jwt<jwtDecode>(token)\r\n    const entity = entityMapper(tokenData.data.entity)\r\n    return entity\r\n  },\r\n\r\n  removeCookieAuth: () => {\r\n    Cookies.remove('auth')\r\n  },\r\n\r\n  buildItem: (form: ElectronicBillFormSchema, applyTaxes: boolean): ItemComplete => {\r\n    let tax = {\r\n      code: '',\r\n      description: '',\r\n      percent: 0,\r\n      taxAmount: 0,\r\n      taxableAmount: 0\r\n    }\r\n\r\n    if (applyTaxes) {\r\n      tax = {\r\n        ...form.selectedTax,\r\n        percent: form.currentPercentTax,\r\n        taxAmount: ((form.currentQuantity * form.currentPrice) * form.currentPercentTax / 100),\r\n        taxableAmount: (form.currentQuantity * form.currentPrice)\r\n      }\r\n    } else {\r\n      tax = {\r\n        code: '1',\r\n        description: 'Iva',\r\n        percent: 0,\r\n        taxAmount: 0,\r\n        taxableAmount: (form.currentQuantity * form.currentPrice)\r\n      }\r\n    }\r\n\r\n    return {\r\n      ...form.currentItem,\r\n      itemType: form.currentItemType,\r\n      price: form.currentPrice,\r\n      quantity: form.currentQuantity,\r\n      total: (form.currentQuantity * form.currentPrice),\r\n      taxes: [\r\n        tax\r\n      ]\r\n    }\r\n  },\r\n\r\n  buildTaxesForElectronicBill: (items: ItemComplete[]) : Tax[] | [] => {\r\n    let res: Tax[]| any[] = []\r\n    items.forEach(item => {\r\n      res = res.concat(item.taxes)\r\n    })\r\n    return res\r\n  },\r\n\r\n  getIdFromUrl: (search: string) : string | undefined => {\r\n    if (search !== undefined) {\r\n      const regex = /=\\s*(\\d+)/\r\n      const match = search.match(regex)\r\n\r\n      if (match) {\r\n        const document = match[1]\r\n        return document\r\n      }\r\n    } else {\r\n      return undefined\r\n    }\r\n  },\r\n\r\n  parseQueryString: (url: string) : { [key: string]: string }[] => {\r\n    const queryString = url.split('?')[1]\r\n    if (!queryString) {\r\n      return []\r\n    }\r\n    const params = queryString.split('&')\r\n    const result = []\r\n    for (const param of params) {\r\n      const [key, value] = param.split('=')\r\n      result.push({ [key]: decodeURIComponent(value) })\r\n    }\r\n    return result\r\n  }\r\n}\r\n\r\nexport default Utils","import { createContext, ReactNode, useState } from 'react'\r\nimport { User } from '../../schemas/User/index'\r\nimport Utils from '../../utils'\r\n\r\nconst Context = createContext({})\r\n\r\ninterface Props {\r\n  children: ReactNode\r\n}\r\n\r\nexport const initialContextUserState: User = {\r\n  id: '',\r\n  email: '',\r\n  name: '',\r\n  lastname: '',\r\n  entityId: '',\r\n  state: '',\r\n  permissions: ['']\r\n}\r\n\r\nexport function UserContextProvider({ children }: Props) {\r\n  const auth = Utils.getUserByCookieAuth()\r\n\r\n  const [userContext, setUserContext] = useState<User>(auth ?? initialContextUserState)\r\n\r\n  return (\r\n    <Context.Provider value={{ userContext, setUserContext }}>\r\n      {children}\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nexport default Context","import { createContext, ReactNode, useState } from 'react'\r\nimport { Entity } from '../../schemas/Entity/index'\r\nimport Utils from '../../utils'\r\n\r\nconst Context = createContext({})\r\n\r\ninterface Props {\r\n  children: ReactNode\r\n}\r\n\r\nconst initialState: Entity = {\r\n  id: '',\r\n  name: '',\r\n  entityTypeCode: '',\r\n  document: '',\r\n  signatories: undefined,\r\n  address: undefined,\r\n  email: undefined,\r\n  phone: undefined,\r\n  apiKeyPlemsi: undefined,\r\n  state: '',\r\n  resolution: undefined,\r\n  resolutionText: undefined,\r\n  lastElectronicBillNumber: undefined\r\n}\r\n\r\nexport function EntityContextProvider({ children }: Props) {\r\n  const auth = Utils.getEntityByCookieAuth()\r\n  const [entityContext, setEntityContext] = useState<Entity>(auth ?? initialState)\r\n  return (\r\n    <Context.Provider value={{ entityContext, setEntityContext }}>\r\n      {children}\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nexport default Context\r\n","import * as React from 'react'\r\nimport { UserContextProvider } from './User/index'\r\nimport { EntityContextProvider } from './Entity/index'\r\n\r\nexport default function GlobalProvider(props: any) {\r\n  return (\r\n    <EntityContextProvider>\r\n    <UserContextProvider>\r\n      {props.children}\r\n    </UserContextProvider>\r\n    </EntityContextProvider>\r\n  )\r\n}","import { createMuiTheme } from '@material-ui/core/styles';\r\nimport {\r\n    deepOrange,\r\n    lightBlue,\r\n} from '@material-ui/core/colors'\r\n\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            main: lightBlue[400]\r\n        },\r\n        secondary: {\r\n            main: deepOrange['A400']\r\n        }\r\n    }\r\n});\r\n\r\nexport default theme","export const urls = {\r\n    page: {\r\n      home: '/page',\r\n      login: '/page/login'\r\n    },\r\n    app: {\r\n      index: '/app',\r\n      main: {\r\n        home: '/app/home',\r\n        third: {\r\n          form: '/app/third/form',\r\n          thirdMigrationForm: '/app/third/migration/form',\r\n          list: '/app/third/list'\r\n        },\r\n        concept: {\r\n          form: '/app/concept/form',\r\n          list: '/app/concept/list'\r\n        },\r\n        cashReceipt: {\r\n          form: '/app/cash-receipt/form',\r\n          report: '/app/cash-receipt/report'\r\n        },\r\n        electronicBill: {\r\n          form: '/app/electronic-bill/form',\r\n          list: '/app/electronic-bill/list'\r\n        },\r\n        internalTransaction: {\r\n          form: '/app/internal-transaction/form',\r\n          report: '/app/internal-transaction/report'\r\n        },\r\n        item: {\r\n          form: '/app/item/form',\r\n          list: '/app/item/list'\r\n        }\r\n      }\r\n    }\r\n}","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { urls } from '../../../urls'\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\r\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport {\r\n  InsertChart,\r\n  Assignment,\r\n  Keyboard,\r\n  ImportExport,\r\n  Contacts,\r\n  FindInPage,\r\n  ExpandLess,\r\n  ExpandMore,\r\n  ContactMail,\r\n  QueueRounded,\r\n  RecentActors,\r\n  Description,\r\n  Category,\r\n  List as ListIcon\r\n} from '@material-ui/icons'\r\nimport { Collapse, Typography } from '@material-ui/core'\r\nimport permissions from '../../../permissions.json'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      minHeight: '100vh',\r\n      width: '320px',\r\n      backgroundColor: '#263238',\r\n      position: 'fixed'\r\n    },\r\n    rootResponsive: {\r\n      minHeight: '100%',\r\n      maxWidth: '60px',\r\n      backgroundColor: '#263238',\r\n      position: 'fixed'\r\n    },\r\n    fixed: {\r\n      minHeight: '100vh',\r\n      width: '320px'\r\n    },\r\n    fixedResponsive: {\r\n      minHeight: '100vh',\r\n      width: '60px',\r\n    },\r\n    hidden: {\r\n      display: 'none'\r\n    },\r\n    textPrimary: {\r\n      color: '#ffff',\r\n      fontSize: '1rem'\r\n    },\r\n    icon: {\r\n      color: '#ffff',\r\n      width: '1rem'\r\n    },\r\n    menuTitle: {\r\n      color: '#ffff',\r\n      fontWeight: 'bolder',\r\n      fontSize: '1.6rem',\r\n      textAlign: 'center'\r\n    },\r\n    secondaryMenuTitle: {\r\n      color: '#29b6f6',\r\n      fontSize: '1.3rem'\r\n    },\r\n    logo: {\r\n      width: '1.8rem'\r\n    },\r\n    nestedList: {\r\n      background: '#455a64'\r\n    },\r\n    nested: {\r\n      paddingLeft: theme.spacing(4),\r\n    },\r\n  }),\r\n)\r\n\r\n// - in this part all the component menu are housed\r\nconst initState = {\r\n  selected: '',\r\n  menu: {\r\n    itemHeader: {\r\n      title: {\r\n        main: 'Crecer',\r\n        secondary: 'DMC'\r\n      },\r\n      logo: {\r\n        path: '/images/logotipo-crecer-dmc.svg',\r\n        alt: 'logotipo de crecer dmc'\r\n      }\r\n    },\r\n    items: [\r\n      {\r\n        id: '001',\r\n        title: 'Inicio',\r\n        icon: <InsertChart />,\r\n        permission: permissions.home.view,\r\n        url: urls.app.main.home\r\n      },\r\n      {\r\n        id: '002',\r\n        title: 'Administración de terceros',\r\n        icon: <Contacts />,\r\n        permission: permissions.third.view,\r\n        indexedMenu: {\r\n          open: false,\r\n          items: [\r\n            {\r\n              id: '002-01',\r\n              title: 'Creación de terceros',\r\n              icon: <ContactMail />,\r\n              permission: permissions.third.create,\r\n              url: urls.app.main.third.form\r\n            },\r\n            {\r\n              id: '002-02',\r\n              title: 'Listar terceros',\r\n              icon: <RecentActors/>,\r\n              permission: permissions.third.view,\r\n              url: urls.app.main.third.list\r\n            },\r\n            {\r\n              id: '002-03',\r\n              title: 'Migración de terceros',\r\n              icon: <ContactMail />,\r\n              permission: permissions.third.migrate,\r\n              url: urls.app.main.third.thirdMigrationForm\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        id: '003',\r\n        title: 'Conceptos',\r\n        icon: <Category/>,\r\n        permission: permissions.concept.view,\r\n        indexedMenu: {\r\n          open: false,\r\n          items: [\r\n            {\r\n              id: '003-01',\r\n              title: 'Creación de conceptos',\r\n              icon: <QueueRounded />,\r\n              permission: permissions.concept.create,\r\n              url: urls.app.main.concept.form\r\n            },\r\n            {\r\n              id: '003-02',\r\n              title: 'Listar conceptos',\r\n              icon: <ListIcon/>,\r\n              permission: permissions.concept.view,\r\n              url: urls.app.main.concept.list\r\n            },\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        id: '004',\r\n        title: 'Recibos de caja',\r\n        icon: <Keyboard />,\r\n        permission: permissions.movement_receipt.view,\r\n        url: urls.app.main.cashReceipt.form\r\n      },\r\n      {\r\n        id: '005',\r\n        title: 'Transacciones internas',\r\n        icon: <ImportExport />,\r\n        permission: permissions.movement_internal.view,\r\n        url: urls.app.main.internalTransaction.form\r\n      },\r\n      {\r\n        id: '006',\r\n        title: 'Productos',\r\n        icon: <QueueRounded/>,\r\n        permission: permissions.item.view,\r\n        indexedMenu: {\r\n          open: false,\r\n          items: [\r\n            {\r\n              id: '006-01',\r\n              title: 'Creación de productos',\r\n              icon: <QueueRounded />,\r\n              permission: permissions.item.create,\r\n              url: urls.app.main.item.form\r\n            },\r\n            {\r\n              id: '006-02',\r\n              title: 'Listar productos',\r\n              icon: <ListIcon/>,\r\n              permission: permissions.item.view,\r\n              url: urls.app.main.item.list\r\n            },\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        id: '007',\r\n        title: 'Factura electrónica',\r\n        icon: <Description/>,\r\n        permission: permissions.electronic_bill.view,\r\n        indexedMenu: {\r\n          open: false,\r\n          items: [\r\n            {\r\n              id: '007-01',\r\n              title: 'Crear factura electrónica',\r\n              icon: <Description/>,\r\n              permission: permissions.electronic_bill.view,\r\n              url: urls.app.main.electronicBill.form\r\n            },\r\n            {\r\n              id: '007-02',\r\n              title: 'Listar factura electrónica',\r\n              icon: <Description/>,\r\n              permission: permissions.electronic_bill.view,\r\n              url: urls.app.main.electronicBill.list\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      {\r\n        id: '008',\r\n        title: 'Reporte de recibos',\r\n        icon: <FindInPage />,\r\n        permission: permissions.movement_receipt.view,\r\n        url: urls.app.main.cashReceipt.report\r\n      },\r\n      {\r\n        id: '009',\r\n        title: 'Reporte de transacciones',\r\n        icon: <Assignment />,\r\n        permission: permissions.movement_internal.view,\r\n        url: urls.app.main.internalTransaction.report\r\n      }\r\n    ]\r\n  }\r\n}\r\n\r\nexport default function MainMenu() {\r\n\r\n  const classes = useStyles()\r\n  const history = useHistory()\r\n  const [state, setState] = React.useState(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  const [sizeScreen, setSizeScreen] = useState(900)\r\n\r\n  const matches = useMediaQuery(`(min-width:${sizeScreen}px)`)\r\n\r\n  const handleListMenu = (\r\n    event: React.MouseEvent<HTMLDivElement, MouseEvent>,\r\n    item: any,\r\n  ) => {\r\n    if (item.indexedMenu) {\r\n      setState({\r\n        ...state,\r\n        selected: item.id,\r\n        menu: {\r\n          ...state.menu,\r\n          items: state.menu.items.map(savedItem => {\r\n            if (savedItem.id === item.id) {\r\n              if (savedItem.indexedMenu) {\r\n                savedItem.indexedMenu.open = !savedItem.indexedMenu.open\r\n              }\r\n            }\r\n            return savedItem\r\n          })\r\n        }\r\n      })\r\n    } else {\r\n      setState({\r\n        ...state,\r\n        selected: item.id\r\n      })\r\n      history.push(item.url)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={matches ? classes.fixed : classes.fixedResponsive}>\r\n      <div className={matches ? classes.root : classes.rootResponsive}>\r\n        <List\r\n          component=\"nav\"\r\n          aria-label=\"main mailbox folders\"\r\n        >\r\n          <ListItem>\r\n            <ListItemIcon\r\n              onClick={() => {\r\n                if (sizeScreen === 900) {\r\n                  setSizeScreen(100)\r\n                } else if (sizeScreen === 100) {\r\n                  setSizeScreen(900)\r\n                }\r\n              }}\r\n            >\r\n              <img\r\n                className={classes.logo}\r\n                src={state.menu.itemHeader.logo.path}\r\n                alt={state.menu.itemHeader.logo.alt}\r\n              />\r\n            </ListItemIcon>\r\n            <Typography\r\n              variant='h6'\r\n              className={matches ? classes.menuTitle : classes.hidden}\r\n            >\r\n              {state.menu.itemHeader.title.main} <span className={classes.secondaryMenuTitle}>{state.menu.itemHeader.title.secondary}</span>\r\n            </Typography>\r\n          </ListItem>\r\n\r\n          <Divider />\r\n          {\r\n            state.menu.items.map(item => (\r\n              userContext.permissions.some(permission => permission === item.permission) ? \r\n              (\r\n                <React.Fragment key={item.id}>\r\n                  <ListItem\r\n                    button\r\n                    selected={state.selected === item.id}\r\n                    onClick={(event) => handleListMenu(event, item)}\r\n                  >\r\n                    <ListItemIcon\r\n                      className={classes.icon}\r\n                    >\r\n                      {item.icon}\r\n                    </ListItemIcon>\r\n                    <ListItemText\r\n                      primary={item.title}\r\n                      className={matches ? classes.textPrimary : classes.hidden}\r\n                    />\r\n                    {\r\n                      item.indexedMenu && matches ?\r\n                        item.indexedMenu.open ? <ExpandLess color='primary' /> : <ExpandMore color='secondary' />\r\n                        :\r\n                        ''\r\n                    }\r\n                  </ListItem>\r\n                  {\r\n                    item.indexedMenu ?\r\n                      (\r\n                        <Collapse\r\n                          in={item.indexedMenu.open}\r\n                          timeout=\"auto\"\r\n                          unmountOnExit\r\n                        >\r\n                          <List\r\n                            component=\"div\"\r\n                            disablePadding\r\n                            className={classes.nestedList}\r\n                          >\r\n                            {\r\n                              item.indexedMenu.items.map(indexedItem => (\r\n                                userContext.permissions.some(permission => permission === indexedItem.permission) ?\r\n                                (\r\n                                  <ListItem\r\n                                    key={indexedItem.id}\r\n                                    button\r\n                                    className={classes.nested}\r\n                                    selected={state.selected === indexedItem.id}\r\n                                    onClick={(event) => handleListMenu(event, indexedItem)}\r\n                                  >\r\n                                    <ListItemIcon\r\n                                      className={classes.icon}\r\n                                    >\r\n                                      {indexedItem.icon}\r\n                                    </ListItemIcon>\r\n                                    <ListItemText\r\n                                      className={matches ? classes.textPrimary : classes.hidden}\r\n                                      primary={indexedItem.title}\r\n                                    />\r\n                                  </ListItem>\r\n                                ) : ''\r\n                              ))\r\n                            }\r\n                          </List>\r\n                        </Collapse>\r\n                      ) : ''\r\n                  }\r\n                </React.Fragment>\r\n              ) : ''\r\n            ))\r\n          }\r\n        </List>\r\n        <Divider />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { fade, makeStyles, Theme, createStyles } from '@material-ui/core/styles'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport InputBase from '@material-ui/core/InputBase'\r\nimport Badge from '@material-ui/core/Badge'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport AccountCircle from '@material-ui/icons/AccountCircle'\r\nimport MailIcon from '@material-ui/icons/Mail'\r\nimport NotificationsIcon from '@material-ui/icons/Notifications'\r\nimport MoreIcon from '@material-ui/icons/MoreVert'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport UserContext, { initialContextUserState } from '../../../contexts/User'\r\nimport Utils from '../../../utils'\r\nimport { urls } from '../../../urls'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    grow: {\r\n      flexGrow: 1,\r\n    },\r\n    toolBar: {\r\n        background: '#ffff'  \r\n    },\r\n    search: {\r\n      position: 'relative',\r\n      borderRadius: theme.shape.borderRadius,\r\n      backgroundColor: fade(theme.palette.common.white, 0.15),\r\n      '&:hover': {\r\n        backgroundColor: fade(theme.palette.common.white, 0.25),\r\n      },\r\n      marginRight: theme.spacing(2),\r\n      marginLeft: 0,\r\n      width: '100%',\r\n      [theme.breakpoints.up('sm')]: {\r\n        marginLeft: theme.spacing(3),\r\n        width: 'auto',\r\n      },\r\n    },\r\n    searchIcon: {\r\n      padding: theme.spacing(0, 2),\r\n      height: '100%',\r\n      position: 'absolute',\r\n      pointerEvents: 'none',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n      color: 'inherit',\r\n    },\r\n    inputInput: {\r\n      padding: theme.spacing(1, 1, 1, 0),\r\n      // vertical padding + font size from searchIcon\r\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n      transition: theme.transitions.create('width'),\r\n      width: '100%',\r\n      [theme.breakpoints.up('md')]: {\r\n        width: '20ch',\r\n      },\r\n    },\r\n    sectionDesktop: {\r\n      display: 'none',\r\n      [theme.breakpoints.up('md')]: {\r\n        display: 'flex',\r\n      },\r\n    },\r\n    sectionMobile: {\r\n      display: 'flex',\r\n      [theme.breakpoints.up('md')]: {\r\n        display: 'none',\r\n      },\r\n    },\r\n  }),\r\n)\r\n\r\nexport default function AppBarComponent() {\r\n  const classes = useStyles()\r\n  const history = useHistory()\r\n  const { setUserContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null)\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState<null | HTMLElement>(null)\r\n\r\n  const isMenuOpen = Boolean(anchorEl)\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl)\r\n\r\n  const handleProfileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(event.currentTarget)\r\n  }\r\n\r\n  const handleMobileMenuClose = () => {\r\n    setMobileMoreAnchorEl(null)\r\n  }\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null)\r\n    handleMobileMenuClose()\r\n    setUserContext(initialContextUserState)\r\n    Utils.removeCookieAuth()\r\n    history.push(urls.page.login)\r\n  }\r\n\r\n  const handleMobileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\r\n    setMobileMoreAnchorEl(event.currentTarget)\r\n  }\r\n\r\n  const menuId = 'primary-search-account-menu'\r\n  const renderMenu = (\r\n    <Menu\r\n      anchorEl={anchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={menuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMenuOpen}\r\n      onClose={handleMenuClose}\r\n    >\r\n      <MenuItem onClick={handleMenuClose}>Perfil</MenuItem>\r\n      <MenuItem onClick={handleMenuClose}>Cerrar sesión</MenuItem>\r\n    </Menu>\r\n  )\r\n\r\n  const mobileMenuId = 'primary-search-account-menu-mobile'\r\n  const renderMobileMenu = (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMobileMenuOpen}\r\n      onClose={handleMobileMenuClose}\r\n    >\r\n      <MenuItem>\r\n        <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\r\n          <Badge badgeContent={4} color=\"secondary\">\r\n            <MailIcon />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Mensajes</p>\r\n      </MenuItem>\r\n      <MenuItem>\r\n        <IconButton aria-label=\"show 11 new notifications\" color=\"inherit\">\r\n          <Badge badgeContent={11} color=\"secondary\">\r\n            <NotificationsIcon />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Notificaciones</p>\r\n      </MenuItem>\r\n      <MenuItem onClick={handleProfileMenuOpen}>\r\n        <IconButton\r\n          aria-label=\"account of current user\"\r\n          aria-controls=\"primary-search-account-menu\"\r\n          aria-haspopup=\"true\"\r\n          color=\"inherit\"\r\n        >\r\n          <AccountCircle />\r\n        </IconButton>\r\n        <p>Perfil</p>\r\n      </MenuItem>\r\n    </Menu>\r\n  )\r\n\r\n  return (\r\n    <div className={classes.grow}>\r\n      <AppBar position=\"static\" elevation={0}>\r\n        <Toolbar className={classes.toolBar}>\r\n          <div className={classes.search}>\r\n            <div className={classes.searchIcon}>\r\n              <SearchIcon />\r\n            </div>\r\n            <InputBase\r\n              placeholder=\"Buscar…\"\r\n              classes={{\r\n                root: classes.inputRoot,\r\n                input: classes.inputInput,\r\n              }}\r\n              inputProps={{ 'aria-label': 'search' }}\r\n            />\r\n          </div>\r\n          <div className={classes.grow} />\r\n          <div className={classes.sectionDesktop}>\r\n            <IconButton aria-label=\"show new mails\" color=\"inherit\">\r\n              <Badge badgeContent={0} color=\"secondary\">\r\n                <MailIcon />\r\n              </Badge>\r\n            </IconButton>\r\n            <IconButton aria-label=\"show new notifications\" color=\"inherit\">\r\n              <Badge badgeContent={0} color=\"secondary\">\r\n                <NotificationsIcon />\r\n              </Badge>\r\n            </IconButton>\r\n            <IconButton\r\n              edge=\"end\"\r\n              aria-label=\"account of current user\"\r\n              aria-controls={menuId}\r\n              aria-haspopup=\"true\"\r\n              onClick={handleProfileMenuOpen}\r\n              color=\"inherit\"\r\n            >\r\n              <AccountCircle />\r\n            </IconButton>\r\n          </div>\r\n          <div className={classes.sectionMobile}>\r\n            <IconButton\r\n              aria-label=\"show more\"\r\n              aria-controls={mobileMenuId}\r\n              aria-haspopup=\"true\"\r\n              onClick={handleMobileMenuOpen}\r\n              color=\"inherit\"\r\n            >\r\n              <MoreIcon />\r\n            </IconButton>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      {renderMobileMenu}\r\n      {renderMenu}\r\n    </div>\r\n  )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { IconButton } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n});\r\n\r\nconst texts = {\r\n    table: {\r\n        headers: {\r\n            concept: 'Concepto',\r\n            detail: 'Detalle',\r\n            value: 'Valor',\r\n            delete: 'Eliminar'\r\n        }\r\n    }\r\n}\r\nexport default function TableComponent({rows, handleTable} : {rows: Array<any>, handleTable: Function}) {\r\n  \r\n    const classes = useStyles();\r\n    const [reload, setReload] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setReload(false)\r\n    }, [reload])\r\n\r\n    // HandleDelete is the handler to delete items from\r\n    // the table.\r\n    const handleDelete = (index: number, value: string) => {\r\n        // this code become the newValue (total of receipt) to number\r\n        const r = /,/gi;\r\n        const newValue = Number(value.replace(r, ''));\r\n        handleTable(\"DEL\", index, newValue)\r\n        setReload(true)\r\n    }\r\n\r\n    return (\r\n        <TableContainer component={Paper}>\r\n            <Table className={classes.table} aria-label=\"simple table\">\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>{texts.table.headers.concept}</TableCell>\r\n                        <TableCell align=\"right\">{texts.table.headers.detail}</TableCell>\r\n                        <TableCell align=\"right\">{texts.table.headers.value}</TableCell>\r\n                        <TableCell align=\"right\">{texts.table.headers.delete}</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                {\r\n                    rows.map((row, index) => (\r\n                        <TableRow key={index}>\r\n                            <TableCell component=\"th\" >{row.concept}</TableCell>\r\n                            <TableCell align=\"right\">{row.detail}</TableCell>\r\n                            <TableCell align=\"right\">{row.value}</TableCell>\r\n                            <TableCell align=\"right\">\r\n                                <IconButton \r\n                                aria-label=\"delete\"\r\n                                onClick={() => handleDelete(index, row.value)}\r\n                                >\r\n                                    <DeleteIcon/>\r\n                                </IconButton>\r\n                            </TableCell>\r\n                        </TableRow>\r\n                    ))\r\n                }\r\n                </TableBody>\r\n            </Table>\r\n        </TableContainer>\r\n    );\r\n}\r\n","import React, { useState } from 'react';\r\nimport TableComponent from '../Table/TableComponent'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles';\r\nimport { \r\n    Button, \r\n    Divider, \r\n    FormHelperText, \r\n    Grid, \r\n    IconButton, \r\n    MenuItem, \r\n    Select, \r\n    TextField, \r\n    Typography \r\n} from '@material-ui/core';\r\nimport { CashReceipt, Concept } from './cashReceipt.slice';\r\nimport { Save, Help, NoteAdd, Cancel } from '@material-ui/icons';\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n        width: '85%',\r\n        margin: '10vh auto 10vh auto',\r\n        height: 'auto'\r\n    },\r\n    title: {\r\n        fontWeight: 'bold',\r\n        marginBottom: '1vh'\r\n    },\r\n    divider: {\r\n        marginBottom: '6vh'\r\n    },\r\n    alignRight: {\r\n        textAlign: 'right',\r\n    },\r\n    addButton: {\r\n        width: '100%',\r\n        height: '70%',\r\n        color: '#ffff',\r\n    },\r\n}));\r\n\r\n// ------------- Init state -----------\r\nconst initStateForm: CashReceipt = {\r\n    type: 'INGRESO',\r\n    date: new Date(),\r\n    serial: '',\r\n    third: '',\r\n    classThird: '',\r\n    valueText: '',\r\n    valueNumber: 0,\r\n    wayPay: [],\r\n    conceptTable: []\r\n}\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n    header: {\r\n        title: 'Recibos de ingreso y egreso'\r\n    },\r\n    fields: {\r\n        type: {\r\n            name: 'type',\r\n            helperText: 'Escoja el tipo de recibo',\r\n            options: ['INGRESO', 'EGRESO']\r\n        },\r\n        date: {\r\n            name: 'date',\r\n            helperText: 'Indique la fecha'\r\n        },\r\n        serial: {\r\n            name: 'serial',\r\n            helperText: 'Escriba el consecutivo',\r\n            placeholder: 'Serial'\r\n        },\r\n        third: {\r\n            name: 'third',\r\n            helperText: 'Escoja uno de los terceros',\r\n            options: [\r\n                {\r\n                    _id: '1',\r\n                    typeThird: 'JURIDICA',\r\n                    typeDocument: 'NIT',\r\n                    document: '123456-7',\r\n                    enterpriceName: 'Almacenes Éxito',\r\n                }\r\n            ]\r\n        },\r\n        classThird: {\r\n            name: 'classThird',\r\n            helperText: 'Escoja una clase del tercero',\r\n            options: [\r\n                {\r\n                    classThird: 'Proveedor'\r\n                }\r\n            ]\r\n        },\r\n        valueText: {\r\n            name: 'valueText',\r\n            helperText: 'Escriba el valor total del recibo en letras',\r\n            placeholder: 'Valor en letras'\r\n        },\r\n        wayPay: {\r\n            name: 'wayPay',\r\n            helperText: 'Selecciona la forma de pago',\r\n            options: [\r\n                {title: 'EFECTIVO', value: 'EFECTIVO'},\r\n                {title: 'CHEQUE', value: 'CHEQUE'},\r\n                {title: 'CONSIGNACIÓN', value: 'CONSIGNACION'},\r\n                {title: 'TRANSFERENCIA', value: 'TRANSFERENCIA'}\r\n            ]\r\n        },\r\n        bank: {\r\n            name: 'bank',\r\n            helperTextIng: 'Selecciona el banco a depositar',\r\n            helperTextEgr: 'Selecciona el banco a debitar',\r\n            options: [\r\n                {\r\n                    _id: \"5fac806e7434966c842292fe\",\r\n                    bank: \"BANCOLOMBIA\",\r\n                    numberAccount: \"28563044871\",\r\n                    typeAccount: \"DEBITO\"\r\n                }\r\n            ]\r\n        },\r\n        concept: {\r\n            name: 'concept',\r\n            helperText: 'Selecciona un concepto',\r\n            options: [\r\n                {\r\n                    concept: 'Concepto de prueba'\r\n                }\r\n            ]\r\n        },\r\n        conceptDetail: {\r\n            name: 'conceptDetail',\r\n            helperText: 'Detalla el concepto a profundidad',\r\n            placeholder: 'Detalle'\r\n        },\r\n        conceptValue: {\r\n            name: 'conceptValue',\r\n            helperText: 'Ingresa el valor del concepto',\r\n            placeholder: '$ Valor'\r\n        },\r\n        buttonAddConcept: {\r\n            title: 'Agregar'\r\n        }\r\n    },\r\n    body: {\r\n        subtitle: 'Tabla de conceptos'\r\n    }\r\n}\r\n\r\nexport default function CashReceiptForm() {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [form, setForm] = useState<CashReceipt>(initStateForm);\r\n    const [wayPay, setWayPay] = useState('');\r\n    const [bank, setBank] = useState('NO DEFINIDO');\r\n    const [modalBank, setModalBank] = useState(false);\r\n\r\n    // States of the concept table\r\n    // This table will go into the main form\r\n    // Main form field: 'wayPay'\r\n    const [conceptTable, setConceptTable] = useState<Concept[]>([]);\r\n    const [concept, setConcept] = useState('');\r\n    const [conceptDetail, setConceptDetail] = useState('');\r\n    const [conceptValue, setConceptValue] = useState('');\r\n    const [total, setTotal] = useState(0);\r\n\r\n    // HandleChange is the handler to update the state\r\n    // of the form, while the user writes on an input.\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const {name, value} = e.target\r\n        switch (name) {\r\n\r\n            case 'conceptDetail':\r\n                setConceptDetail(value)\r\n                break;\r\n\r\n            default:\r\n                setForm(prev => {\r\n                    (prev as any)[name] = value\r\n                    const newValue = {...prev}\r\n                    return newValue\r\n                })\r\n                break;\r\n        }\r\n    };\r\n\r\n    // HandleChange is the handler to update the state\r\n    // of the form, while the user change the options \r\n    // on an input select.\r\n    const handleChangeSelect = (event: React.ChangeEvent<{ name?: string; value: unknown }>) => {\r\n        const name = event.target.name as string;\r\n\r\n        switch (name) {\r\n            case 'wayPay':\r\n                setWayPay(event.target.value as any)\r\n                handleModalBank(event.target.value as any, form.type);\r\n                break;\r\n\r\n            case 'bank':\r\n                setBank(event.target.value as any)\r\n                break;\r\n            \r\n            case 'type':\r\n                setForm({\r\n                    ...form,\r\n                    type: event.target.value as any,\r\n                });\r\n                handleModalBank(wayPay, event.target.value as any);\r\n                break;\r\n            \r\n            case 'concept':\r\n                setConcept(event.target.value as any);\r\n                break;\r\n\r\n            default:\r\n                setForm({\r\n                    ...form,\r\n                    [name]: event.target.value,\r\n                });\r\n        }\r\n    };\r\n\r\n    // HandleModalBank is the handler to show and hide\r\n    // the bank input select: cond1 is wayPay value and\r\n    // cond2 is type value.\r\n    const handleModalBank = (cond1: string, cond2: string) => {\r\n\r\n        switch (cond1) {\r\n            case 'EFECTIVO':\r\n                setModalBank(false);\r\n                setBank('NO DEFINIDO');\r\n                break;\r\n\r\n            case 'CHEQUE':\r\n                if(cond2 === 'INGRESO'){\r\n                    setModalBank(false);\r\n                    setBank('NO DEFINIDO');\r\n\r\n                } else if(cond2 === 'EGRESO') {\r\n                    setModalBank(true);\r\n                }\r\n                break;\r\n\r\n            case 'CONSIGNACION':\r\n                if(cond2 === 'INGRESO'){\r\n                    setModalBank(true);\r\n\r\n                } else if(cond2 === 'EGRESO') {\r\n                    setModalBank(false);\r\n                    setBank('NO DEFINIDO');\r\n                }\r\n                break;\r\n\r\n            case 'TRANSFERENCIA':\r\n                setModalBank(true);\r\n                break;\r\n        \r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    // HandleTable is the handler to add and remove items\r\n    // from the concept table, it also adds or subtracts \r\n    // the value of the total receipt.\r\n    const handleTable = (func: string, id?: number, value?: number) => {\r\n\r\n        switch (func) {\r\n            case 'PUSH':\r\n                setConceptTable([...conceptTable, {\r\n                    concept,\r\n                    detail: conceptDetail,\r\n                    value: conceptValue\r\n                }]);\r\n\r\n                const r = /,/gi;\r\n                const newValue = Number(conceptValue.replace(r, ''));\r\n\r\n                setTotal(total + newValue);\r\n                setConcept('');\r\n                setConceptDetail('');\r\n                setConceptValue('');\r\n                break;\r\n\r\n            case 'DEL':\r\n                console.log(id)\r\n                if(id !== undefined){\r\n                    let newArray = conceptTable;\r\n                    newArray.splice(id, 1);\r\n                    setConceptTable(newArray);\r\n                }\r\n                if(value !== undefined){\r\n                    setTotal(total - value) \r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n    \r\n    // Function for thousand separator\r\n    // this function adds thousand separator to numbers in:\r\n    // fields: valueNumber.\r\n    const thousandSeparator = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const {name, value} = e.target\r\n        setConceptValue(value);\r\n        if(name === 'conceptValue'){\r\n            let input = value.split(',').join('');\r\n            let newInput = input.split('').reverse();\r\n            \r\n            let output = [];\r\n            let aux = '';\r\n            let paginator = Math.ceil(newInput.length / 3);\r\n            \r\n            for(let i = 0; i < paginator; i ++){\r\n                for(let j = 0; j < 3; j ++){\r\n                    if(newInput[j + (i * 3)] !== undefined){\r\n                        aux += newInput[j + (i * 3)];\r\n                    }\r\n                }\r\n                output.push(aux)\r\n                aux = '';\r\n                setConceptValue(output.join(',').split('').reverse().join(''));\r\n            }\r\n        }\r\n    }\r\n\r\n    // HandleSubmit is the handler to verify and send\r\n    // the form to redux (redux send the info to backend)\r\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n\r\n        e.preventDefault();\r\n        let arrayWayPay = [\r\n            {wayPay: wayPay, bank: bank}\r\n        ]\r\n\r\n        setForm({\r\n            ...form,\r\n            valueNumber: total,\r\n            wayPay: arrayWayPay,\r\n            conceptTable: conceptTable\r\n        })\r\n        console.log(form)\r\n    }\r\n\r\n    const cancel = () => {\r\n        setForm(initStateForm);\r\n        setWayPay('');\r\n        setBank('NO DEFINIDO');\r\n        setModalBank(false);\r\n        setConceptTable([]);\r\n        setConcept('');\r\n        setConceptDetail('');\r\n        setConceptValue('');\r\n        setTotal(0);\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n\r\n            {/* ------- *Header --------- */}\r\n            <React.Fragment>\r\n                <Typography \r\n                variant='h5'\r\n                className={classes.title}\r\n                >\r\n                    {texts.header.title}\r\n                </Typography>\r\n            </React.Fragment>\r\n            \r\n            <Divider\r\n            className={classes.divider}\r\n            />\r\n\r\n            {/* ------- *Body ----------- */}\r\n            <form onSubmit={(e) => handleSubmit(e)}>\r\n                <Grid container spacing={3}>\r\n\r\n                    {/* ----- Form: item **type ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.fields.type.name}\r\n                        value = {form.type}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.fields.type.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e} \r\n                                    >\r\n                                        {e}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>{texts.fields.type.helperText}</FormHelperText>\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **date ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <TextField\r\n                        name = {texts.fields.date.name}\r\n                        value = {form.date}\r\n                        id = 'outlined-helperText'\r\n                        variant = 'outlined'\r\n                        fullWidth\r\n                        type = 'date'\r\n                        onChange = {handleChange}\r\n                        helperText = {texts.fields.date.helperText}\r\n                        />\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **serial ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <TextField\r\n                        name = {texts.fields.serial.name}\r\n                        value = {form.serial}\r\n                        id = 'outlined-helperText'\r\n                        variant = 'outlined'\r\n                        fullWidth\r\n                        onChange= {handleChange}\r\n                        helperText = {texts.fields.serial.helperText}\r\n                        placeholder = {texts.fields.serial.placeholder}\r\n                        />\r\n                    </Grid>\r\n\r\n                    {/* ----- Form: item **third ------*/}\r\n                    <Grid item md={12} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.fields.third.name}\r\n                        value = {form.third}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.fields.third.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e._id} \r\n                                    >\r\n                                        {e.enterpriceName}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>{texts.fields.third.helperText}</FormHelperText>\r\n                    </Grid>\r\n\r\n                    {/* ----- Form: item **class third ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.fields.classThird.name}\r\n                        value = {form.classThird}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.fields.classThird.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e.classThird} \r\n                                    >\r\n                                        {e.classThird}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>{texts.fields.classThird.helperText}</FormHelperText>\r\n                    </Grid>\r\n\r\n                    {/* ----- Form: item **value in text ------*/}\r\n                    <Grid item md={8} sm={6} xs={12}>\r\n                        <TextField\r\n                        name = {texts.fields.valueText.name}\r\n                        value = {form.valueText}\r\n                        id = 'outlined-helperText'\r\n                        variant = 'outlined'\r\n                        fullWidth\r\n                        onChange= {handleChange}\r\n                        helperText = {texts.fields.valueText.helperText}\r\n                        placeholder = {texts.fields.valueText.placeholder}\r\n                        />\r\n                    </Grid>\r\n\r\n                    {/* ----- Form: item **way pay ------*/}\r\n                    <Grid item md={modalBank ? 4 : 8} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.fields.wayPay.name}\r\n                        value = {wayPay}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.fields.wayPay.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e.value} \r\n                                    >\r\n                                        {e.title}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>{texts.fields.wayPay.helperText}</FormHelperText>\r\n                    </Grid>\r\n                    \r\n                    {\r\n                        // this section is visible if modal bank is true\r\n                        // the logic for this is on HandleModalBank function ^\r\n                        modalBank === true ?\r\n                        <Grid item md={4} sm={6} xs={12}>\r\n                            <Select\r\n                            name={texts.fields.bank.name}\r\n                            value = {bank}\r\n                            variant = \"outlined\"\r\n                            fullWidth\r\n                            onChange={handleChangeSelect}\r\n                            >\r\n                                {\r\n                                    texts.fields.bank.options.map((e, index) => \r\n                                        <MenuItem\r\n                                        key={index} \r\n                                        value={e.numberAccount} \r\n                                        >\r\n                                            {e.bank} - {e.numberAccount}\r\n                                        </MenuItem>\r\n                                        )\r\n                                }\r\n                            </Select>\r\n                            <FormHelperText>\r\n                                {\r\n                                    form.type === 'INGRESO' \r\n                                    ?\r\n                                    texts.fields.bank.helperTextIng \r\n                                    :\r\n                                    texts.fields.bank.helperTextEgr\r\n                                }\r\n                            </FormHelperText>\r\n                        </Grid>\r\n                        :\r\n                        ''\r\n                    }\r\n\r\n                    {/* ----- Form: button **help ------*/}\r\n                    <Grid item md={4} sm={6} xs={12} className={classes.alignRight}>\r\n                        <IconButton \r\n                        aria-label='Ayuda'\r\n                        type=\"button\"\r\n                        >\r\n                            <Help fontSize=\"large\" color=\"secondary\"/>\r\n                        </IconButton>\r\n                    </Grid>\r\n\r\n                    <Grid item md={12} sm={12} xs={12}>\r\n                        <Typography\r\n                        variant='h6'\r\n                        >\r\n                            {texts.body.subtitle}\r\n                        </Typography>\r\n                    </Grid>\r\n\r\n                    <Grid item md={12} sm={12} xs={12}>\r\n                        <Divider className={classes.divider}/>\r\n                    </Grid>\r\n\r\n                    {/* ----- Form: item **concepts table form: item ***concept ------*/}\r\n                    <Grid item md={8} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.fields.concept.name}\r\n                        value = {concept}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.fields.concept.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e.concept} \r\n                                    >\r\n                                        {e.concept}\r\n                                    </MenuItem>\r\n                                )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>\r\n                            {texts.fields.concept.helperText}\r\n                        </FormHelperText>\r\n                    </Grid>\r\n\r\n                    {/* ----- Form: item **concepts table form: item ***value per concept ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <TextField\r\n                            name={texts.fields.conceptValue.name}\r\n                            value = {conceptValue}\r\n                            onChange={thousandSeparator}\r\n                            fullWidth\r\n                            variant = \"outlined\"\r\n                            helperText = {texts.fields.conceptValue.helperText}\r\n                            placeholder = {texts.fields.conceptValue.placeholder}\r\n                        />\r\n                    </Grid>\r\n\r\n                    {/* ----- Form: item **concepts table form: item ***concept detail ------*/}\r\n                    <Grid item md={8} sm={6} xs={12}>\r\n                        <TextField\r\n                        name = {texts.fields.conceptDetail.name}\r\n                        value = {conceptDetail}\r\n                        variant = 'outlined'\r\n                        fullWidth\r\n                        onChange= {handleChange}\r\n                        helperText = {texts.fields.conceptDetail.helperText}\r\n                        placeholder = {texts.fields.conceptDetail.placeholder}\r\n                        />\r\n                    </Grid>\r\n\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <Button\r\n                            variant=\"contained\"\r\n                            type=\"button\"\r\n                            color=\"primary\"\r\n                            size=\"large\"\r\n                            onClick={() => handleTable(\"PUSH\")}\r\n                            className={classes.addButton}\r\n                            startIcon={<Save />}\r\n                        >\r\n                            {texts.fields.buttonAddConcept.title}\r\n                        </Button>\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **concepts table rendering ------*/}\r\n                    <Grid item md={12} sm={12} xs={12}>\r\n                        <TableComponent rows={conceptTable} handleTable={handleTable}/>\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **total ------*/}\r\n                    <Grid item md={4} sm={4} xs ={6}>\r\n                        <Typography variant=\"h6\">\r\n                            <span>Total: </span>$ {total}\r\n                        </Typography>\r\n                    </Grid>\r\n\r\n                    <Grid item md={12} sm={12} xs ={12} className={classes.alignRight}>\r\n                        <IconButton\r\n                        type=\"submit\"\r\n                        >\r\n                            <NoteAdd fontSize={\"large\"} color=\"primary\"/>\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                        onClick={cancel}\r\n                        type=\"button\"\r\n                        >\r\n                            <Cancel fontSize={\"large\"} color=\"secondary\"/>\r\n                        </IconButton>\r\n                    </Grid>\r\n                </Grid>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import { Third } from \"../../schemas/Third\";\r\n\r\nexport default function thirdMapper(third: any | unknown): Third {\r\n  return {\r\n    entityId: third.entityId ?? '',\r\n    document: third.document ?? '',\r\n    dv: third.dv ?? '',\r\n    documentType: third.documentType ?? { code: '', description: '' },\r\n    organizationType: third.organizationType ?? { code: '', description: '' },\r\n    liabilityType: third.liabilityType ?? { code: '', description: '' },\r\n    regimeType: third.regimeType ?? { code: '', description: '' },\r\n    name: third.name ?? undefined,\r\n    lastname: third.lastname ?? undefined,\r\n    businessName: third.businessName ?? undefined,\r\n    phone: third.phone ?? '',\r\n    address: third.address ?? '',\r\n    city: third.city ?? undefined,\r\n    email: third.email ?? ''\r\n  }\r\n}\r\n","import axios from 'axios'\r\nimport thirdMapper from '../../mappers/Third/third.mapper'\r\nimport { Third } from '../../schemas/Third'\r\n\r\nclass ThirdService {\r\n  async saveThird(thirdData: Third, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/third` \r\n      const responseApi = await axios.post(url, thirdData, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async updateThird(thirdData: Third, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/third` \r\n      const responseApi = await axios.put(url, thirdData, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getThirds(token: string, params?: { limit: number, lastEvaluatedKey?: string }) : Promise<{ lastEvaluatedKey: string, thirds: Third[] }> {\r\n    try {\r\n      let url = params !== undefined ? `${process.env.REACT_APP_API}/api/v2/third?limit=${params.limit}` : `${process.env.REACT_APP_API}/api/v2/third`\r\n      \r\n      if (params !== undefined && params.lastEvaluatedKey !== undefined) url = `${url}&lastEvaluatedKey=${params.lastEvaluatedKey}`\r\n  \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        } \r\n      })\r\n\r\n      const thirds = responseApi.data.thirds.map((third:any) => {\r\n        return thirdMapper(third) \r\n      })\r\n\r\n      return {\r\n        lastEvaluatedKey: JSON.stringify(responseApi.data.lastEvaluatedKey),\r\n        thirds: thirds\r\n      }\r\n\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getThirdByDocument(token: string, document: string) : Promise<Third> {\r\n    try {\r\n      let url = `${process.env.REACT_APP_API}/api/v2/third/${document}`\r\n  \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        } \r\n      })\r\n\r\n      const third = thirdMapper(responseApi.data) \r\n\r\n      return third\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default ThirdService\r\n","interface Response {\r\n  code: string;\r\n  description: string;\r\n}\r\n\r\nexport function listObject(object: any): Response[] {\r\n  const res: Response[] = [];\r\n\r\n  for (const code in object) {\r\n    if (object.hasOwnProperty(code)) {\r\n      const description = object[code];\r\n      res.push({ code, description });\r\n    }\r\n  }\r\n\r\n  return res;\r\n}\r\n","import axios from 'axios'\r\nimport { listObject } from '../../mappers/Common/comon.mapper'\r\n\r\nclass PlemsiService {\r\n  async getCities(apikey: string) {\r\n    try {\r\n      const responseApi = await axios.get(`${process.env.REACT_APP_PLEMSI_API}/common/list/municipality`, {\r\n        headers: {\r\n          authorization: `Bearer ${apikey}`\r\n        }\r\n      })\r\n      const data = listObject(responseApi.data.data)\r\n      return data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getBill(apikey: string, number: number) {\r\n    try {\r\n      const responseApi = await axios.get(`${process.env.REACT_APP_PLEMSI_API}/billing/invoice/one?by=number&value=${number}&prefix=${process.env.REACT_APP_PLEMSI_PREFIX}`, {\r\n        headers: {\r\n          authorization: `Bearer ${apikey}`\r\n        }\r\n      })\r\n      return responseApi.data.data.preview\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default PlemsiService\r\n","import React, { useState } from 'react'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Box,\r\n  CircularProgress,\r\n  Divider,\r\n  FormHelperText,\r\n  Grid,\r\n  IconButton,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Typography\r\n} from '@material-ui/core'\r\nimport { Cancel, NoteAdd } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport EntityContext from '../../../contexts/Entity'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport { Third } from '../../../schemas/Third'\r\nimport ThirdService from '../../../services/Third'\r\nimport PlemsiService from '../../../services/Plemsi'\r\nimport Utils from '../../../utils'\r\nimport { EntityContextType } from '../../../schemas/Entity'\r\nimport { urls } from '../../../urls'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  thirdClassTitle: {\r\n    color: '#757575',\r\n    marginBottom: '6vh'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Crear terceros'\r\n  },\r\n  body: {\r\n    field: {\r\n      organizationType: {\r\n        name: 'organizationType',\r\n        helperText: 'Escoja un tipo de persona',\r\n        options: [\r\n          { description: 'Jurídica', code: '1' },\r\n          { description: 'Natural', code: '2' }\r\n        ]\r\n      },\r\n      documentType: {\r\n        name: 'documentType',\r\n        helperText: 'Escoja el tipo de documento',\r\n        options: {\r\n          one: [\r\n            { description: 'NIT', code: '6' }\r\n          ],\r\n          two: [\r\n            { description: 'Registro civil', code: '1' },\r\n            { description: 'Tarjeta de identidad', code: '2' },\r\n            { description: 'Cédula de ciudadanía', code: '3' },\r\n            { description: 'Cédula de extranjería', code: '5' },\r\n            { description: 'Pasaporte', code: '7' },\r\n            { description: 'Documento de identificación extranjero', code: '8' }\r\n          ]\r\n        }\r\n      },\r\n      liabilityType: {\r\n        name: 'liabilityType',\r\n        helperText: 'Escoja el tipo de responsabilidad',\r\n        options: [\r\n          { description: 'Gran contribuyente', code: '7' },\r\n          { description: 'Autorretenedor', code: '9' },\r\n          { description: 'Agente de retención en el impuesto sobre las ventas', code: '14' },\r\n          { description: 'Régimen Simple de Tributación – SIMPLE', code: '112' },\r\n          { description: 'No responsable', code: '117' }\r\n        ]\r\n      },\r\n      regimeType: {\r\n        name: 'regimeType',\r\n        helperText: 'Escoja el tipo de régimen',\r\n        options: [\r\n          { description: 'Responsable de IVA', code: '1' },\r\n          { description: 'No responsable de IVA', code: '2' }\r\n        ]\r\n      },\r\n      document: {\r\n        name: 'document',\r\n        helperText: {\r\n          main: 'Escriba el número de documento',\r\n          error: 'El documento ingresado no tiene el formato correcto'\r\n        },\r\n        placeholder: 'Documento'\r\n      },\r\n      dv: {\r\n        name: 'dv',\r\n        helperText: 'DV',\r\n        placeholder: 'DV'\r\n      },\r\n      name: {\r\n        one: {\r\n          name: {\r\n            name: 'name',\r\n            helperText: 'Escriba el primer nombre de la persona',\r\n            placeholder: 'Nombre'\r\n          },\r\n          lastname: {\r\n            name: 'lastname',\r\n            helperText: 'Escriba el apellido de la persona',\r\n            placeholder: 'Apellido(s)'\r\n          }\r\n        },\r\n        two: {\r\n          businessName: {\r\n            name: 'businessName',\r\n            helperText: 'Escriba el nombre de la empresa',\r\n            placeholder: 'Razón social'\r\n          }\r\n        }\r\n      },\r\n      email: {\r\n        name: 'email',\r\n        helperText: {\r\n          main: 'Escriba el email',\r\n          error: 'El correo ingresado no tiene el formato correcto'\r\n        },\r\n        placeholder: 'Email'\r\n      },\r\n      phone: {\r\n        name: 'phone',\r\n        helperText: 'Escriba el número telefónico',\r\n        placeholder: 'Número telefónico'\r\n      },\r\n      address: {\r\n        name: 'address',\r\n        helperText: 'Escriba la dirección',\r\n        placeholder: 'Dirección'\r\n      },\r\n      city: {\r\n        name: 'city',\r\n        helperText: 'Ciudad o municipio'\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  form: Third\r\n  errorOnMail: boolean\r\n  errorOnDocument: boolean\r\n  cities: any[]\r\n  loading: boolean\r\n  isEdit: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  form: {\r\n    document: '',\r\n    dv: undefined,\r\n    documentType: {\r\n      code: '',\r\n      description: ''\r\n    },\r\n    organizationType: {\r\n      code: '',\r\n      description: ''\r\n    },\r\n    liabilityType: {\r\n      code: '',\r\n      description: ''\r\n    },\r\n    regimeType: {\r\n      code: '',\r\n      description: ''\r\n    },\r\n    name: undefined,\r\n    lastname: undefined,\r\n    businessName: undefined,\r\n    phone: '',\r\n    address: '',\r\n    city: undefined,\r\n    email: ''\r\n  },\r\n  errorOnMail: false,\r\n  errorOnDocument: false,\r\n  cities: [],\r\n  loading: true,\r\n  isEdit: false\r\n}\r\n\r\nexport default function ThirdForm() {\r\n\r\n  const classes = useStyles()\r\n  const { search } = useLocation()\r\n  const history = useHistory()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  const { entityContext } = React.useContext(\r\n    EntityContext\r\n  ) as EntityContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n      const document = Utils.getIdFromUrl(search)\r\n\r\n      const plemsiService = new PlemsiService()\r\n      const cities = await plemsiService.getCities(entityContext.apiKeyPlemsi ?? '')\r\n\r\n      if (document) {\r\n        const thirdService = new ThirdService()\r\n        const third = await thirdService.getThirdByDocument(userContext.token ?? '', document)\r\n        if (third) {\r\n          setState({\r\n            ...state,\r\n            form: third,\r\n            cities,\r\n            loading: false,\r\n            isEdit: true\r\n          })\r\n        }\r\n      } else {\r\n        setState({\r\n          ...state,\r\n          cities,\r\n          loading: false\r\n        })\r\n      }\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user change the options \r\n  // on an input select.\r\n  const handleChangeSelect = (name: string, item: { code: string, description: string }) => {\r\n    setState({\r\n      ...state,\r\n      form:{\r\n        ...state.form,\r\n        [name]: item\r\n      }\r\n    })\r\n  }\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user writes on an input.\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target\r\n\r\n    // Validaciones\r\n    let errorOnDocument = state.errorOnDocument\r\n    let errorOnMail = state.errorOnMail\r\n\r\n    if (name === 'document') {\r\n      const regex = /^[0-9]+$/\r\n      errorOnDocument = !regex.test(value)\r\n    }\r\n\r\n    if (name === 'email') {\r\n      const regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\r\n      errorOnMail = !regex.test(value)\r\n    }\r\n\r\n    setState({\r\n      ...state,\r\n      form: {\r\n        ...state.form,\r\n        [name]: value,\r\n      },\r\n      errorOnMail: errorOnMail,\r\n      errorOnDocument: errorOnDocument\r\n    })\r\n  }\r\n\r\n  // HandleSubmit is the handler to verify and send\r\n  // the state to redux (redux send the info to backend)\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n  \r\n    // validaciones\r\n    if (state.errorOnDocument) {\r\n      return toast.error('Documento con formato incorrecto')\r\n    }\r\n\r\n    if (state.errorOnMail) {\r\n      return toast.error('Mail con formato incorrecto')\r\n    }\r\n\r\n    try {\r\n      const thirdService = new ThirdService()\r\n      let thirdCreated: any = {}\r\n\r\n      if (state.isEdit) {\r\n        thirdCreated = await thirdService.updateThird(state.form, userContext.token ?? '')\r\n      } else {\r\n        thirdCreated = await thirdService.saveThird(state.form, userContext.token ?? '')\r\n      }\r\n      setState({\r\n        ...initState,\r\n        cities: state.cities,\r\n        loading: false\r\n      })\r\n\r\n      history.push(urls.app.main.third.form)\r\n\r\n      return toast.success(`El tercero ${thirdCreated.document} fue ${state.isEdit ? 'actualizado' : 'creado'} con éxito`)\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const cancel = () => {\r\n    setState(initState)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ----- Header ------*/}\r\n      <React.Fragment>\r\n        <Typography \r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n\r\n      {/* ----- Body ------*/}\r\n      <form onSubmit={(e) => handleSubmit(e)}>\r\n        <Grid container spacing={3}>\r\n\r\n          {/* ----- Form: item thrid type ------*/}\r\n          <Grid item md={state.form.organizationType.code === '2' ? 4 : 3} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.organizationType.name}\r\n              value={state.form.organizationType.code}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              disabled={state.isEdit}\r\n            >\r\n              {\r\n                texts.body.field.organizationType.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.organizationType.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.organizationType.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: item document type ------*/}\r\n          <Grid item md={4} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.documentType.name}\r\n              value={state.form.documentType.code}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            >\r\n              {\r\n                // this will depend of organizationType field\r\n                state.form.organizationType.code === texts.body.field.organizationType.options[0].code ?\r\n                  texts.body.field.documentType.options.one.map((item) =>\r\n                    <MenuItem\r\n                      key={item.description}\r\n                      value={item.code}\r\n                      onClick={() => handleChangeSelect(texts.body.field.documentType.name, item)}\r\n                    >\r\n                      {item.description}\r\n                    </MenuItem>\r\n                  )\r\n                  :\r\n                  texts.body.field.documentType.options.two.map((item) =>\r\n                    <MenuItem\r\n                      key={item.description}\r\n                      value={item.code}\r\n                      onClick={() => handleChangeSelect(texts.body.field.documentType.name, item)}\r\n                    >\r\n                      {item.description}\r\n                    </MenuItem>\r\n                  )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.documentType.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: item document number ------*/}\r\n          <Grid item md={4} sm={6} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.document.name}\r\n              value={state.form.document}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={state.errorOnDocument ? texts.body.field.document.helperText.error : texts.body.field.document.helperText.main}\r\n              placeholder={texts.body.field.document.placeholder}\r\n              disabled={state.isEdit}\r\n              error={state.errorOnDocument}\r\n            />\r\n          </Grid>\r\n          {\r\n            /*\r\n            In this section the name, secondName, lastName and businessName\r\n            fields are conditioned to the organizationType field.\r\n            If typeThird field is NATURAL then the name, secondName and lastName\r\n            fields will be availabe while businessName field will be unavailable,\r\n            else if typeThird field is JURIDICA then the businessName field will\r\n            be available while the name, secondName and lastName fields will be\r\n            unavailable\r\n            */\r\n\r\n            state.form.organizationType.code === '2'\r\n              ?\r\n              <React.Fragment>\r\n                <Grid item md={6} sm={6} xs={12}>\r\n                  <TextField\r\n                    required={true}\r\n                    name={texts.body.field.name.one.name.name}\r\n                    value={state.form.name ?? ''}\r\n                    variant='outlined'\r\n                    fullWidth\r\n                    onChange={handleChange}\r\n                    helperText={texts.body.field.name.one.name.helperText}\r\n                    placeholder={texts.body.field.name.one.name.placeholder}\r\n                  />\r\n                </Grid>\r\n                <Grid item md={6} sm={6} xs={12}>\r\n                  <TextField\r\n                    required={true}\r\n                    name={texts.body.field.name.one.lastname.name}\r\n                    value={state.form.lastname ?? ''}\r\n                    variant='outlined'\r\n                    fullWidth\r\n                    onChange={handleChange}\r\n                    helperText={texts.body.field.name.one.lastname.helperText}\r\n                    placeholder={texts.body.field.name.one.lastname.placeholder}\r\n                  />\r\n                </Grid>\r\n              </React.Fragment>\r\n              :\r\n              <React.Fragment>\r\n                {/* ----- Form: item document dv ------*/}\r\n                <Grid item md={1} sm={3} xs={2}>\r\n                  <TextField\r\n                    required={true}\r\n                    name={texts.body.field.dv.name}\r\n                    value={state.form.dv ?? ''}\r\n                    variant='outlined'\r\n                    fullWidth\r\n                    onChange={handleChange}\r\n                    helperText={texts.body.field.dv.helperText}\r\n                    placeholder={texts.body.field.dv.placeholder}\r\n                  />\r\n                </Grid>\r\n                <Grid item md={12} sm={6} xs={12}>\r\n                  <TextField\r\n                    required={true}\r\n                    name={texts.body.field.name.two.businessName.name}\r\n                    value={state.form.businessName ?? ''}\r\n                    variant='outlined'\r\n                    fullWidth\r\n                    onChange={handleChange}\r\n                    helperText={texts.body.field.name.two.businessName.helperText}\r\n                    placeholder={texts.body.field.name.two.businessName.placeholder}\r\n                  />\r\n                </Grid>\r\n              </React.Fragment>\r\n          }\r\n\r\n          {/* ----- Form: item liability type ------*/}\r\n          <Grid item md={6} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.liabilityType.name}\r\n              value={state.form.liabilityType.code}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            >\r\n              {\r\n                texts.body.field.liabilityType.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.liabilityType.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.liabilityType.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: item regime type ------*/}\r\n          <Grid item md={6} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.regimeType.name}\r\n              value={state.form.regimeType.code}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            >\r\n              {\r\n                texts.body.field.regimeType.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.regimeType.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.regimeType.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: item email ------*/}\r\n          <Grid item md={6} sm={6} xs={12}>\r\n            <TextField\r\n              name={texts.body.field.email.name}\r\n              value={state.form.email}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={state.errorOnMail ? texts.body.field.email.helperText.error : texts.body.field.email.helperText.main}\r\n              placeholder={texts.body.field.email.placeholder}\r\n              error={state.errorOnMail}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: item phone ------*/}\r\n          <Grid item md={6} sm={6} xs={12}>\r\n            <TextField\r\n              name={texts.body.field.phone.name}\r\n              value={state.form.phone}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.phone.helperText}\r\n              placeholder={texts.body.field.phone.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: item address ------*/}\r\n          <Grid item md={6} sm={6} xs={12}>\r\n            <TextField\r\n              name={texts.body.field.address.name}\r\n              value={state.form.address}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.address.helperText}\r\n              placeholder={texts.body.field.address.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: City ------*/}\r\n          <Grid item md={6} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.city.name}\r\n              value={state.form.city?.code ?? ''}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            >\r\n              {\r\n                state.cities.map((item) =>\r\n                  <MenuItem\r\n                    key={item.code}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.city.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.city.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n            <IconButton\r\n              type=\"submit\"\r\n            >\r\n              <NoteAdd fontSize={\"large\"} color=\"primary\" />\r\n            </IconButton>\r\n\r\n            <IconButton\r\n              type=\"button\"\r\n              onClick={cancel}\r\n            >\r\n              <Cancel fontSize={\"large\"} color=\"secondary\" />\r\n            </IconButton>\r\n          </Grid>\r\n\r\n        </Grid>\r\n      </form>\r\n      {\r\n        state.loading ?\r\n        (\r\n          <div className={classes.loadingContainer}>\r\n            <Box>\r\n              <CircularProgress/>\r\n            </Box>\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import * as React from 'react'\r\nimport { DataGrid, GridColDef, GridCellEditCommitParams, GridValueGetterParams } from '@material-ui/data-grid'\r\n\r\ninterface Props {\r\n  keyId: string\r\n  rows: any[]\r\n  columns: GridColDef[]\r\n  gridEdit?: (params: GridCellEditCommitParams) => void\r\n}\r\n\r\nexport default function DataTable(props: Props) {\r\n\r\n  function onGridEdit (params:GridCellEditCommitParams) {\r\n    if (props.gridEdit) {\r\n      props.gridEdit(params)\r\n    } else {\r\n      return\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div style={{ height: 400, width: '100%' }}>\r\n      <DataGrid\r\n        rows={props.rows}\r\n        columns={props.columns}\r\n        getRowId={(row: any) => row[props.keyId]}\r\n        pageSize={5}\r\n        onCellEditCommit={(params: GridCellEditCommitParams) => onGridEdit(params)}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Divider,\r\n  Grid,\r\n  IconButton,\r\n  Button,\r\n  Typography,\r\n  Box,\r\n  CircularProgress\r\n} from '@material-ui/core'\r\nimport { GridCellEditCommitParams, GridColDef, GridValueGetterParams } from '@material-ui/data-grid'\r\nimport { CloudDownload, Edit } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport { Third } from '../../../schemas/Third'\r\nimport ThirdService from '../../../services/Third'\r\nimport DataTable from '../DataTable/DataTable'\r\nimport { urls } from '../../../urls'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  loadMoreButton: {\r\n    width: '25%',\r\n    height: '70%'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Lista de terceros'\r\n  },\r\n  body: {\r\n    buttonLoadMore: {\r\n      label: 'Cargar más ...'\r\n    }\r\n  }\r\n}\r\n\r\nconst columns: GridColDef[] = [\r\n  {\r\n    field: 'document',\r\n    headerName: 'Documento',\r\n    editable: false,\r\n    flex: 1\r\n  },\r\n  {\r\n    field: 'fullName',\r\n    headerName: 'Nombre',\r\n    editable: false,\r\n    flex: 2,\r\n    valueGetter: (params: GridValueGetterParams) =>\r\n      `${params.getValue(params.id, 'name') || params.getValue(params.id, 'businessName')} ${params.getValue(params.id, 'lastname') || ''\r\n      }`,\r\n  },\r\n  {\r\n    field: 'email',\r\n    headerName: 'Email',\r\n    flex: 1,\r\n    editable: true,\r\n  },\r\n  {\r\n    field: 'phone',\r\n    headerName: 'Teléfono',\r\n    flex: 1,\r\n    editable: true,\r\n  },\r\n  {\r\n    field: 'actions',\r\n    headerName: 'Acciones',\r\n    flex: 1,\r\n    type: 'actions',\r\n    renderCell: (params: any) => (\r\n      <ActionButtons params={params} />\r\n    )\r\n  }\r\n]\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  loadMoreButtonDisabled: boolean\r\n  lastEvaluatedKey?: string\r\n  thirds: Third[]\r\n  loading: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  loadMoreButtonDisabled: false,\r\n  thirds: [],\r\n  loading: true\r\n}\r\n\r\nfunction ActionButtons(props: any) {\r\n\r\n  const history = useHistory()\r\n\r\n  const onEdit = () => {\r\n    history.push(`${urls.app.main.third.form}?document=${props.params.row.document ?? ''}`)\r\n  }\r\n\r\n  return (\r\n    <IconButton\r\n      type=\"submit\"\r\n      onClick={() => onEdit()}\r\n    >\r\n      <Edit fontSize={\"small\"} color=\"primary\" />\r\n    </IconButton>\r\n  )\r\n}\r\n\r\nexport default function ThirdList() {\r\n\r\n  const classes = useStyles()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n      const thirdService = new ThirdService()\r\n      const response = await thirdService.getThirds(userContext.token || '', { limit: 5 })\r\n      setState({\r\n        ...state,\r\n        thirds: response.thirds,\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true,\r\n        loading: false\r\n      })\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  const onLoadMore = async () => {\r\n    try {\r\n      const thirdService = new ThirdService()\r\n      const response = await thirdService.getThirds(userContext.token || '', { limit: 5, lastEvaluatedKey: state.lastEvaluatedKey })\r\n      setState({\r\n        ...state,\r\n        thirds: state.thirds.concat(response.thirds),\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true\r\n      })\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const gridEdit = async (params: GridCellEditCommitParams) => {\r\n\r\n    let thirdToEdit: any = {}\r\n\r\n    const selectedThird = state.thirds.find(third => third.document === params.id)\r\n    if (selectedThird !== undefined) {\r\n      thirdToEdit = {\r\n        ...selectedThird,\r\n        [params.field]: params.value\r\n      }\r\n    } else {\r\n      return\r\n    }\r\n\r\n    try {\r\n      const thirdService = new ThirdService()\r\n      const thirdUpdated = await thirdService.updateThird(thirdToEdit, userContext.token ?? '')\r\n\r\n      return toast.success(`El tercero ${thirdUpdated.document} fue editado con éxito`)\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ----- Header ------*/}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n      <Grid container spacing={3}>\r\n\r\n        {/* ----- Form: item thrid type ------*/}\r\n        <Grid item md={12} sm={12} xs={12}>\r\n          <DataTable rows={state.thirds} columns={columns} keyId='document' gridEdit={gridEdit} />\r\n        </Grid>\r\n\r\n        <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n          <Button\r\n            type=\"button\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            className={classes.loadMoreButton}\r\n            startIcon={<CloudDownload />}\r\n            disabled={state.loadMoreButtonDisabled}\r\n            onClick={() => onLoadMore()}\r\n          >\r\n            {texts.body.buttonLoadMore.label}\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n      {\r\n        state.loading ?\r\n        (\r\n          <div className={classes.loadingContainer}>\r\n            <Box>\r\n              <CircularProgress/>\r\n            </Box>\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { makeStyles, Theme } from '@material-ui/core/styles';\r\nimport { Divider, FormHelperText, Grid, IconButton, MenuItem, Select, Typography } from '@material-ui/core';\r\nimport { NoteAdd } from '@material-ui/icons';\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n        width: '85%',\r\n        margin: '10vh auto 10vh auto',\r\n        height: 'auto'\r\n    },\r\n    title: {\r\n        fontWeight: 'bold',\r\n        marginBottom: '1vh'\r\n    },\r\n    divider: {\r\n        marginBottom: '6vh'\r\n    },\r\n    contentAside: {\r\n        textAlign: 'right',\r\n        padding: '5vh 5vh 0 10vh'\r\n    },\r\n    alignRight: {\r\n        textAlign: 'right',\r\n    },\r\n}));\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n    header: {\r\n        title: 'Migrar terceros'\r\n    },\r\n    body: {\r\n        field: {\r\n            lastThird: {\r\n                name: 'lastThird',\r\n                helperText: 'Escoja el tercero a migrar',\r\n                options: [\r\n                    {\r\n                        id: '12',\r\n                        name: 'Pedro',\r\n                        secondName: 'Alfonso',\r\n                        lastName: 'Marin'\r\n                    },\r\n                    {\r\n                        id: '13',\r\n                        companyName: 'Electrosuaza ltda'\r\n                    }\r\n                ]\r\n            },\r\n            newThird: {\r\n                name: 'newThird',\r\n                helperText: 'Escoja el nuevo tercero',\r\n                options: [\r\n                    {\r\n                        id: '12',\r\n                        name: 'Pedro',\r\n                        secondName: 'Alfonso',\r\n                        lastName: 'Marin'\r\n                    },\r\n                    {\r\n                        id: '13',\r\n                        companyName: 'Electrosuaza ltda'\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        aside: {\r\n            title: 'Necesitas ayuda?',\r\n            content: 'La migración de terceros es la manera de transferir los recibos y demás registros de un tercero a otro tercero. Esto te será útil en caso de querer unificar un tercero que tengas duplicado.'\r\n        }\r\n    }\r\n}\r\n\r\n// ------------- Init state -----------\r\nconst initStateForm = {\r\n    lastThird: '',\r\n    newThird: ''\r\n}\r\n\r\nexport default function ThirdMigration() {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [ form, setForm ] = useState(initStateForm);\r\n    const [ newThirdOptions, setNewThirdOptions ] = useState(texts.body.field.lastThird.options);\r\n\r\n    // HandleChange is the handler to update the state\r\n    // of the form, while the user change the options \r\n    // on an input select.\r\n    const handleChangeSelect = (event: React.ChangeEvent<{ name?: string; value: unknown }>) => {\r\n        const name = event.target.name as string;\r\n\r\n        // this code removes the option slected on the lastThird\r\n        // from the third array, with this if the user wants to\r\n        // transfer from one third to another the new options will\r\n        // be the other thirds.\r\n        if(name === 'lastThird'){\r\n            let res = texts.body.field.lastThird.options.filter(e => e.id !== event.target.value);\r\n            setNewThirdOptions(res);\r\n        }\r\n\r\n        setForm({\r\n            ...form,\r\n            [name]: event.target.value,\r\n        });\r\n    }\r\n\r\n    // HandleSubmit is the handler to verify and send\r\n    // the form to redux (redux send the info to backend)\r\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        console.log(form);\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            {/* ----- Header ------*/}\r\n            <React.Fragment>\r\n                <Typography\r\n                variant='h5'\r\n                className={classes.title}\r\n                >\r\n                    {texts.header.title}\r\n                </Typography>\r\n            </React.Fragment>\r\n\r\n            <Divider\r\n            className={classes.divider}\r\n            />\r\n\r\n            {/* ----- Body ------*/}\r\n            <Grid container spacing={5}>\r\n                <Grid item md={7} sm={12} xs={12}>\r\n\r\n                    <form onSubmit={(e) => handleSubmit(e)}>\r\n                        <Grid container spacing={3}>\r\n                            {/* ----- Form: item last thrid ------*/}\r\n                            <Grid item md={12} sm={12} xs={12}>\r\n                                <Select\r\n                                name={texts.body.field.lastThird.name}\r\n                                value = {form.lastThird}\r\n                                variant = \"outlined\"\r\n                                fullWidth\r\n                                onChange={handleChangeSelect}\r\n                                >\r\n                                    {\r\n                                        texts.body.field.lastThird.options.map((e, index) => \r\n                                            <MenuItem\r\n                                            key={index} \r\n                                            value={e.id}\r\n                                            >\r\n                                                {\r\n                                                    // if the third has a name, it will show it\r\n                                                    // else it will show the company name\r\n                                                    e.name \r\n                                                    ? \r\n                                                        `${e.name} ${e.secondName} ${e.lastName}`\r\n                                                    : \r\n                                                        e.companyName\r\n                                                }\r\n                                            </MenuItem>\r\n                                            )\r\n                                    }\r\n                                </Select>\r\n                                <FormHelperText>{texts.body.field.lastThird.helperText}</FormHelperText>\r\n                            </Grid>\r\n\r\n                            {/* ----- Form: item new thrid ------*/}\r\n                            <Grid item md={12} sm={12} xs={12}>\r\n                                <Select\r\n                                name={texts.body.field.newThird.name}\r\n                                value = {form.newThird}\r\n                                variant = \"outlined\"\r\n                                fullWidth\r\n                                onChange={handleChangeSelect}\r\n                                >\r\n                                    {\r\n                                        newThirdOptions.map((e, index) =>\r\n                                            <MenuItem\r\n                                            key={index} \r\n                                            value={e.id}\r\n                                            >\r\n                                                {\r\n                                                    // if the third has a name, it will show it\r\n                                                    // else it will show the company name\r\n                                                    e.name \r\n                                                    ? \r\n                                                        `${e.name} ${e.secondName} ${e.lastName}`\r\n                                                    : \r\n                                                        e.companyName\r\n                                                }\r\n                                            </MenuItem>\r\n                                            )\r\n                                    }\r\n                                </Select>\r\n                                <FormHelperText>{texts.body.field.newThird.helperText}</FormHelperText>\r\n                            </Grid>\r\n                            \r\n                            <Grid item md={12} sm={6} xs ={12} className={classes.alignRight}>\r\n                                <IconButton\r\n                                type=\"submit\"\r\n                                >\r\n                                    <NoteAdd fontSize={\"large\"} color=\"primary\"/>\r\n                                </IconButton>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </form>\r\n\r\n                </Grid>\r\n\r\n                {/* ------------ Aside -----------------*/}\r\n                <Grid md={5} sm={12} xs={12} className={classes.contentAside}>\r\n                    <Typography color='primary' variant='h6'>{texts.body.aside.title}</Typography>\r\n                    <Typography variant='body2'>{texts.body.aside.content}</Typography>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    )\r\n}\r\n","// conceptMapper.ts mappers/Concept\r\nimport { Concept } from \"../../schemas/Concept\";\r\n\r\nexport default function conceptMapper(concept: any | unknown): Concept {\r\n  return {\r\n    entityId: concept.entityId ?? '',\r\n    account: concept.account ?? 0,\r\n    description: concept.description ?? '',\r\n    type: {\r\n      code: concept.type?.code ?? '',\r\n      description: concept.type?.description ?? ''\r\n    } ?? undefined\r\n  }\r\n}\r\n","import axios from 'axios'\r\nimport conceptMapper from '../../mappers/Concept/concept.mapper'\r\nimport { Concept } from '../../schemas/Concept'\r\n\r\nclass ConceptService {\r\n  async saveConcept(concept: Concept, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/concept` \r\n      const responseApi = await axios.post(url, concept, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async updateConcept(conceptData: Concept, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/concept` \r\n      const responseApi = await axios.put(url, conceptData, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getConceptByAccount(token: string, account: string) : Promise<Concept> {\r\n    try {\r\n      let url = `${process.env.REACT_APP_API}/api/v2/concept/${account}`\r\n  \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        } \r\n      })\r\n\r\n      const concept = conceptMapper(responseApi.data) \r\n\r\n      return concept\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getConcepts(token: string, params?: { limit: number, lastEvaluatedKey?: string }) : Promise<{ lastEvaluatedKey: string, concepts: Concept[] }>{\r\n    try {\r\n      let url = params !== undefined ? `${process.env.REACT_APP_API}/api/v2/concept?limit=${params.limit}` : `${process.env.REACT_APP_API}/api/v2/concept`\r\n      if (params !== undefined && params.lastEvaluatedKey !== undefined) url = `${url}&lastEvaluatedKey=${params.lastEvaluatedKey}`\r\n      \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n\r\n      const concepts = responseApi.data.concepts.map((item:any) => {\r\n        return conceptMapper(item)\r\n      })\r\n\r\n      return {\r\n        lastEvaluatedKey: JSON.stringify(responseApi.data.lastEvaluatedKey),\r\n        concepts: concepts\r\n      }\r\n\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default ConceptService\r\n","import React, { useState } from 'react'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Box,\r\n  CircularProgress,\r\n  Divider,\r\n  FormHelperText,\r\n  Grid,\r\n  IconButton,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Typography\r\n} from '@material-ui/core'\r\nimport { Cancel, NoteAdd } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport { Concept } from '../../../schemas/Concept'\r\nimport ConceptService from '../../../services/Concept'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport Utils from '../../../utils'\r\nimport { urls } from '../../../urls'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  thirdClassTitle: {\r\n    color: '#757575',\r\n    marginBottom: '6vh'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Crear conceptos'\r\n  },\r\n  body: {\r\n    field: {\r\n      account: {\r\n        name: 'account',\r\n        helperText: 'Cuenta contable del concepto',\r\n        placeholder: 'Cuenta',\r\n        validationError: 'Debe ser de 8 dígitos'\r\n      },\r\n      description: {\r\n        name: 'description',\r\n        helperText: 'Escriba la descripción del concepto',\r\n        placeholder: 'Nombre de concepto'\r\n      },\r\n      type: {\r\n        name: 'type',\r\n        helperText: 'Tipo de concepto',\r\n        options: [\r\n          { description: 'Crédito', code: 'CREDIT' },\r\n          { description: 'Débito', code: 'DEBIT' },\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  form: Concept,\r\n  validations: {\r\n    errorMinLengthAccount: boolean\r\n  }\r\n  isEdit: boolean\r\n  loading: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  form: {\r\n    account: 0,\r\n    description: '',\r\n    type: {\r\n      code: '',\r\n      description: ''\r\n    }\r\n  },\r\n  validations: {\r\n    errorMinLengthAccount: false\r\n  },\r\n  isEdit: false,\r\n  loading: false\r\n}\r\n\r\nexport default function ConceptForm() {\r\n\r\n  const classes = useStyles()\r\n  const { search } = useLocation()\r\n  const history = useHistory()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n      const account = Utils.getIdFromUrl(search)\r\n\r\n      if (account) {\r\n        setState({\r\n          ...state,\r\n          loading: true\r\n        })\r\n        const conceptService = new ConceptService()\r\n        const concept = await conceptService.getConceptByAccount(userContext.token ?? '', account)\r\n        if (concept) {\r\n          setState({\r\n            ...state,\r\n            form: concept,\r\n            loading: false,\r\n            isEdit: true\r\n          })\r\n        }\r\n      }\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user change the options \r\n  // on an input select.\r\n  const handleChangeSelect = (name: string, item: { code: string, description: string }) => {\r\n    setState({\r\n      ...state,\r\n      form: {\r\n        ...state.form,\r\n        [name]: item\r\n      }\r\n    })\r\n  }\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user writes on an input.\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target\r\n    let errorMinLengthAccount = state.validations.errorMinLengthAccount\r\n\r\n    if (name === 'account') {\r\n      errorMinLengthAccount = value.length < Number(process.env.REACT_APP_MAX_LENGTH_CONTABLE_ACCOUNT)\r\n    }\r\n\r\n    setState({\r\n      ...state,\r\n      form: {\r\n        ...state.form,\r\n        [name]: value\r\n      },\r\n      validations: {\r\n        errorMinLengthAccount\r\n      }\r\n    })\r\n  }\r\n\r\n  // HandleSubmit is the handler to verify and send\r\n  // the state to redux (redux send the info to backend\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    try {\r\n      // validations\r\n      if (state.validations.errorMinLengthAccount) {\r\n        throw new Error(`La cuenta debe tener ${process.env.REACT_APP_MAX_LENGTH_CONTABLE_ACCOUNT} dígitos`)\r\n      }\r\n\r\n      const conceptService = new ConceptService()\r\n      let conceptCreated\r\n\r\n      if (state.isEdit) {\r\n        conceptCreated = await conceptService.updateConcept(state.form, userContext.token ?? '')\r\n      } else {\r\n        conceptCreated = await conceptService.saveConcept(state.form, userContext.token ?? '')\r\n      }\r\n\r\n      setState(initState)\r\n      history.push(urls.app.main.concept.form)\r\n      return toast.success(`El concepto ${conceptCreated.account} fue ${state.isEdit ? 'actualizado' : 'creado'} con éxito`)\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      } else if (error instanceof Error) {\r\n        return toast.error(error.message)\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  const cancel = () => {\r\n    setState(initState)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ----- Header -----*/}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n\r\n      {/* ----- Body ------*/}\r\n      <form onSubmit={(e) => handleSubmit(e)}>\r\n        <Grid container spacing={3}>\r\n\r\n          {/* ----- Form: account ------*/}\r\n          <Grid item md={6} sm={6} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.account.name}\r\n              value={state.form.account}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={ state.validations.errorMinLengthAccount ? texts.body.field.account.validationError : texts.body.field.account.helperText}\r\n              error={state.validations.errorMinLengthAccount}\r\n              placeholder={texts.body.field.account.placeholder}\r\n              inputProps={{ maxLength: 8 }}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: description ------*/}\r\n          <Grid item md={6} sm={6} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.description.name}\r\n              value={state.form.description}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.description.helperText}\r\n              placeholder={texts.body.field.description.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: type ------*/}\r\n          <Grid item md={6} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.type.name}\r\n              value={state.form.type?.code ?? ''}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            >\r\n              {\r\n                texts.body.field.type.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.type.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.type.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n            <IconButton\r\n              type=\"submit\"\r\n            >\r\n              <NoteAdd fontSize={\"large\"} color=\"primary\" />\r\n            </IconButton>\r\n\r\n            <IconButton\r\n              type=\"button\"\r\n              onClick={cancel}\r\n            >\r\n              <Cancel fontSize={\"large\"} color=\"secondary\" />\r\n            </IconButton>\r\n          </Grid>\r\n\r\n        </Grid>\r\n      </form>\r\n      {\r\n        state.loading ?\r\n        (\r\n          <div className={classes.loadingContainer}>\r\n            <Box>\r\n              <CircularProgress/>\r\n            </Box>\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Divider,\r\n  Grid,\r\n  IconButton,\r\n  Button,\r\n  Typography,\r\n  Box,\r\n  CircularProgress\r\n} from '@material-ui/core'\r\nimport { GridCellEditCommitParams, GridColDef, GridValueGetterParams } from '@material-ui/data-grid'\r\nimport { CloudDownload, Edit } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport DataTable from '../DataTable/DataTable'\r\nimport { urls } from '../../../urls'\r\nimport ConceptService from '../../../services/Concept'\r\nimport { Concept } from '../../../schemas/Concept'\r\nimport permissions from '../../../permissions.json'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  loadMoreButton: {\r\n    width: '25%',\r\n    height: '70%'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Lista de conceptos'\r\n  },\r\n  body: {\r\n    buttonLoadMore: {\r\n      label: 'Cargar más ...'\r\n    }\r\n  }\r\n}\r\n\r\nconst columns: GridColDef[] = [\r\n  {\r\n    field: 'account',\r\n    headerName: 'Cuenta',\r\n    flex: 1,\r\n    editable: false,\r\n  },\r\n  {\r\n    field: 'description',\r\n    headerName: 'Concepto',\r\n    editable: true,\r\n    flex: 2\r\n  },\r\n  {\r\n    field: 'typeDescription',\r\n    headerName: 'Tipo',\r\n    editable: false,\r\n    flex: 1\r\n  },\r\n  {\r\n    field: 'actions',\r\n    headerName: 'Acciones',\r\n    flex: 1,\r\n    type: 'actions',\r\n    renderCell: (params: any) => (\r\n      <ActionButtons params={params} />\r\n    )\r\n  }\r\n]\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  loadMoreButtonDisabled: boolean\r\n  lastEvaluatedKey?: string\r\n  concepts: any[]\r\n  loading: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  loadMoreButtonDisabled: false,\r\n  concepts: [],\r\n  loading: true\r\n}\r\n\r\nfunction ActionButtons(props: any) {\r\n  const [editPermission, setEditPermission] = useState<boolean>(false)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n  const history = useHistory()\r\n\r\n  const onEdit = () => {\r\n    history.push(`${urls.app.main.concept.form}?document=${props.params.row.account ?? ''}`)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setEditPermission(userContext.permissions.some(permission => permission === permissions.concept.update))\r\n  }, [userContext])\r\n\r\n  return (\r\n    <IconButton\r\n      type=\"submit\"\r\n      onClick={() => onEdit()}\r\n      disabled={!editPermission}\r\n    >\r\n      <Edit fontSize={\"small\"} color={editPermission ? \"primary\" : \"inherit\"} />\r\n    </IconButton>\r\n  )\r\n}\r\n\r\nexport default function ConceptList() {\r\n\r\n  const classes = useStyles()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n      const conceptService = new ConceptService()\r\n      const response = await conceptService.getConcepts(userContext.token || '', { limit: 5 })\r\n      const responseParsed = response.concepts.map((concept: Concept) => {\r\n        return {\r\n          ...concept,\r\n          typeDescription: concept.type.description\r\n        }\r\n      })\r\n      setState({\r\n        ...state,\r\n        concepts: responseParsed,\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true,\r\n        loading: false\r\n      })\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  const onLoadMore = async () => {\r\n    try {\r\n      const conceptService = new ConceptService()\r\n      const response = await conceptService.getConcepts(userContext.token || '', { limit: 5, lastEvaluatedKey: state.lastEvaluatedKey })\r\n      const responseParsed = response.concepts.map((concept: Concept) => {\r\n        return {\r\n          ...concept,\r\n          typeDescription: concept.type.description\r\n        }\r\n      })\r\n      setState({\r\n        ...state,\r\n        concepts: state.concepts.concat(responseParsed),\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true\r\n      })\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const gridEdit = async (params: GridCellEditCommitParams) => {\r\n\r\n    let conceptToEdit: any = {}\r\n\r\n    const selectedConcept = state.concepts.find(concept => concept.account === params.id)\r\n    if (selectedConcept !== undefined) {\r\n      conceptToEdit = {\r\n        ...selectedConcept,\r\n        [params.field]: params.value\r\n      }\r\n    } else {\r\n      return\r\n    }\r\n\r\n    try {\r\n      const conceptService = new ConceptService()\r\n      const conceptUpdated = await conceptService.updateConcept(conceptToEdit, userContext.token ?? '')\r\n\r\n      return toast.success(`El concepto ${conceptUpdated.account} fue editado con éxito`)\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ----- Header ------*/}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n      <Grid container spacing={3}>\r\n\r\n        {/* ----- Form: item thrid type ------*/}\r\n        <Grid item md={12} sm={12} xs={12}>\r\n          <DataTable rows={state.concepts} columns={columns} keyId='account' gridEdit={gridEdit} />\r\n        </Grid>\r\n\r\n        <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n          <Button\r\n            type=\"button\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            className={classes.loadMoreButton}\r\n            startIcon={<CloudDownload />}\r\n            disabled={state.loadMoreButtonDisabled}\r\n            onClick={() => onLoadMore()}\r\n          >\r\n            {texts.body.buttonLoadMore.label}\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n      {\r\n        state.loading ?\r\n        (\r\n          <div className={classes.loadingContainer}>\r\n            <Box>\r\n              <CircularProgress/>\r\n            </Box>\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { makeStyles, Theme } from '@material-ui/core/styles';\r\nimport { \r\n    Divider,\r\n    FormHelperText,\r\n    Grid, \r\n    IconButton, \r\n    MenuItem, \r\n    Select, \r\n    TextField, \r\n    Typography \r\n} from '@material-ui/core';\r\nimport { Cancel, NoteAdd } from '@material-ui/icons';\r\nimport { InternalTransaction } from './internalTransaction.slice';\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n        width: '85%',\r\n        margin: '10vh auto 10vh auto',\r\n        height: 'auto'\r\n    },\r\n    title: {\r\n        fontWeight: 'bold',\r\n        marginBottom: '1vh'\r\n    },\r\n    divider: {\r\n        marginBottom: '6vh'\r\n    },\r\n    alignRight: {\r\n        textAlign: 'right',\r\n    }\r\n}));\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n    header: {\r\n        title: 'Transacciones internas'\r\n    },\r\n    body: {\r\n        field: {\r\n            type: {\r\n                name: 'type',\r\n                helperText: 'Escoja el tipo de transacción',\r\n                options: [\r\n                    {title: 'Consignación de efectivo a un banco', value: 'CONSIGNACION'},\r\n                    {title: 'Retiro de efectivo de un banco', value: 'RETIRO'},\r\n                    {title: 'Transferencia de un banco a otro banco', value: 'TRANSFERENCIA'}\r\n                ]\r\n            },\r\n            date: {\r\n                name: 'date',\r\n                helperText: 'Ingrese la fecha del movimiento',\r\n                placeholder: 'Fecha *'\r\n            },\r\n            serial: {\r\n                name: 'serial',\r\n                helperText: 'Ingrese el serial o código de transacción',\r\n                placeholder: 'Serial *'\r\n            },\r\n            bank: {\r\n                name: 'bank',\r\n                helperText: {\r\n                    optionOne: 'Escoja el banco a consignar',\r\n                    optionTwo: 'Escoja el banco a retirar',\r\n                    optionThree: 'Escoja el banco que transfiere'\r\n                },\r\n                options: [\r\n                    {title: 'Bancolombia', value: '674867836'},\r\n                    {title: 'BBVA', value: '7786786687'}\r\n                ]\r\n            },\r\n            secondBank: {\r\n                name: 'secondBank',\r\n                helperText: 'Escoja el banco a transferir'\r\n            },\r\n            value: {\r\n                name: 'value',\r\n                helperText: 'Ingrese el valor de la transacción',\r\n                placeholder: 'Value *'\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// ------------- Init state -----------\r\nconst initState: InternalTransaction = {\r\n    type: '',\r\n    date: new Date(),\r\n    serial: '',\r\n    bank: '',\r\n    secondBank: undefined,\r\n    value: 0\r\n}\r\n\r\nexport default function InternalTransactionForm() {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [ form, setForm ] = useState<InternalTransaction>(initState);\r\n    const [ valueStr, setValueStr ] = useState('');\r\n    const [ newBankOptions, setNewBankOptions ] = useState(texts.body.field.bank.options);\r\n\r\n    // HandleChange is the handler to update the state\r\n    // of the form, while the user change the options \r\n    // on an input select.\r\n    const handleChangeSelect = (event: React.ChangeEvent<{ name?: string; value: unknown }>) => {\r\n        const name = event.target.name as string;\r\n\r\n        // this code removes the option slected on the bank\r\n        // from the bank array, with this if the user wants \r\n        // to transfer from one bank to another the new options\r\n        // will be the other banks.\r\n        if(name === texts.body.field.bank.name){\r\n            let res = texts.body.field.bank.options.filter(e => e.value !== event.target.value);\r\n            setNewBankOptions(res);\r\n        }\r\n\r\n        setForm({\r\n            ...form,\r\n            [name]: event.target.value,\r\n        });\r\n    }\r\n\r\n    // HandleChange is the handler to update the state\r\n    // of the form, while the user writes on an input\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const {name, value} = e.target\r\n        setForm(prev => {\r\n            (prev as any)[name] = value\r\n            const newValue = {...prev}\r\n            return newValue\r\n        })\r\n    }\r\n\r\n    // Function for thousand separator\r\n    // this function adds thousand separator to numbers in:\r\n    // fields: valueNumber\r\n    const thousandSeparator = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const {name, value} = e.target\r\n\r\n        if(name === texts.body.field.value.name){\r\n            setValueStr(value);\r\n\r\n            let input = value.split(',').join('');\r\n            let newInput = input.split('').reverse();\r\n            \r\n            let output = [];\r\n            let aux = '';\r\n            let paginator = Math.ceil(newInput.length / 3);\r\n            \r\n            for(let i = 0; i < paginator; i ++){\r\n                for(let j = 0; j < 3; j ++){\r\n                    if(newInput[j + (i * 3)] !== undefined){\r\n                        aux += newInput[j + (i * 3)];\r\n                    }\r\n                }\r\n                output.push(aux)\r\n                aux = '';\r\n                setValueStr(output.join(',').split('').reverse().join(''));\r\n            }\r\n        }\r\n    }\r\n\r\n    // HandleSubmit is the handler to verify and send\r\n    // the form to redux (redux send the info to backend)\r\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n\r\n        // this code become the valueStr to number\r\n        const r = /,/gi;\r\n        const newValue = valueStr.replace(r, '');\r\n        setForm({\r\n            ...form,\r\n            value: Number(newValue)\r\n        });\r\n    }\r\n\r\n    const cancel = () => {\r\n        setForm(initState);\r\n        setValueStr('');\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n\r\n             {/* ----- Header ------*/}\r\n             <React.Fragment>\r\n                <Typography \r\n                variant='h5'\r\n                className={classes.title}\r\n                >\r\n                    {texts.header.title}\r\n                </Typography>\r\n            </React.Fragment>\r\n\r\n            <Divider\r\n            className={classes.divider}\r\n            />\r\n\r\n            {/* ----- Body ------*/}\r\n            <form onSubmit={(e) => handleSubmit(e)}>\r\n                <Grid container spacing={3}>\r\n\r\n                \r\n                    {/* ----- Form: item **type ------*/}\r\n                    <Grid item md={8} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.body.field.type.name}\r\n                        value = {form.type}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.body.field.type.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e.value} \r\n                                    >\r\n                                        {e.title}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>{texts.body.field.type.helperText}</FormHelperText>\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **date ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <TextField\r\n                        required={true}\r\n                        name = {texts.body.field.date.name}\r\n                        value = {form.date}\r\n                        id = 'outlined-helperText'\r\n                        variant = 'outlined'\r\n                        fullWidth\r\n                        type = 'date'\r\n                        onChange = {handleChange}\r\n                        helperText = {texts.body.field.date.helperText}\r\n                        />\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **serial ------*/}\r\n                    <Grid item md={6} sm={6} xs={12}>\r\n                        <TextField\r\n                        required={true}\r\n                        name = {texts.body.field.serial.name}\r\n                        value = {form.serial}\r\n                        id = 'outlined-helperText'\r\n                        variant = 'outlined'\r\n                        fullWidth\r\n                        onChange= {handleChange}\r\n                        helperText = {texts.body.field.serial.helperText}\r\n                        placeholder = {texts.body.field.serial.placeholder}\r\n                        />\r\n                    </Grid>\r\n\r\n                    {/* ----- Form: item **bank ------*/}\r\n                    <Grid item md={6} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.body.field.bank.name}\r\n                        value = {form.bank}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.body.field.bank.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e.value} \r\n                                    >\r\n                                        {e.title} - {e.value}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>\r\n                            {\r\n                                form.type === texts.body.field.type.options[0].value \r\n                                ? \r\n                                texts.body.field.bank.helperText.optionOne\r\n                                : \r\n                                form.type === texts.body.field.type.options[1].value\r\n                                ?\r\n                                texts.body.field.bank.helperText.optionTwo\r\n                                :\r\n                                form.type === texts.body.field.type.options[2].value\r\n                                ?\r\n                                texts.body.field.bank.helperText.optionThree\r\n                                :\r\n                                texts.body.field.bank.helperText.optionOne\r\n                            }\r\n                                \r\n                        </FormHelperText>\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **secondBank ------*/}\r\n                    {\r\n                        // this item will depend on the value in form.type \r\n                        form.type === texts.body.field.type.options[2].value\r\n                        ?\r\n                        <Grid item md={6} sm={6} xs={12}>\r\n                            <Select\r\n                            name={texts.body.field.secondBank.name}\r\n                            value = {form.secondBank}\r\n                            variant = \"outlined\"\r\n                            fullWidth\r\n                            onChange={handleChangeSelect}\r\n                            >\r\n                                {\r\n                                    newBankOptions.map((e, index) => \r\n                                        <MenuItem\r\n                                        key={index} \r\n                                        value={e.value} \r\n                                        >\r\n                                            {e.title} - {e.value}\r\n                                        </MenuItem>\r\n                                        )\r\n                                }\r\n                            </Select>\r\n                            <FormHelperText>{texts.body.field.secondBank.helperText}</FormHelperText>\r\n                        </Grid>\r\n                        :\r\n                        ''\r\n                    }\r\n\r\n                    {/* ----- Form: item **value ------*/}\r\n                    <Grid item md={6} sm={6} xs={12}>\r\n                        <TextField\r\n                        required={true}\r\n                        name={texts.body.field.value.name}\r\n                        value = {valueStr}\r\n                        onChange={thousandSeparator}\r\n                        fullWidth\r\n                        variant = \"outlined\"\r\n                        helperText = {texts.body.field.value.helperText}\r\n                        placeholder = {texts.body.field.value.placeholder}\r\n                        />\r\n                    </Grid>\r\n                    \r\n                    <Grid item md={12} sm={12} xs ={12} className={classes.alignRight}>\r\n                        <IconButton\r\n                        type=\"submit\"\r\n                        >\r\n                            <NoteAdd fontSize={\"large\"} color=\"primary\"/>\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                        type=\"button\"\r\n                        onClick={cancel}\r\n                        >\r\n                            <Cancel fontSize={\"large\"} color=\"secondary\"/>\r\n                        </IconButton>\r\n                    </Grid>\r\n                \r\n                </Grid>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { makeStyles, Theme } from '@material-ui/core/styles';\r\nimport { \r\n    Divider,\r\n    FormHelperText,\r\n    Grid, \r\n    IconButton,\r\n    MenuItem,\r\n    Select,\r\n    TextField, \r\n    Typography \r\n} from '@material-ui/core';\r\nimport { Cancel, NoteAdd } from '@material-ui/icons';\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n        width: '85%',\r\n        margin: '10vh auto 10vh auto',\r\n        height: 'auto'\r\n    },\r\n    title: {\r\n        fontWeight: 'bold',\r\n        marginBottom: '1vh'\r\n    },\r\n    divider: {\r\n        marginBottom: '6vh'\r\n    },\r\n    alignRight: {\r\n        textAlign: 'right',\r\n    }\r\n}));\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n    header: {\r\n        title: 'Reporte de recibos de caja'\r\n    },\r\n    body: {\r\n        fields: {\r\n            from: {\r\n                name: 'from',\r\n                helperText: 'Desde'\r\n            },\r\n            to: {\r\n                name: 'to',\r\n                helperText: 'Hasta'\r\n            },\r\n            serial: {\r\n                name: 'serial',\r\n                helperText: 'Ingrese el serial de la transacción',\r\n                placeholder: 'Serial'\r\n            },\r\n            third: {\r\n                name: 'third',\r\n                helperText: 'Escoja un tercero para filtrar',\r\n                options: [\r\n                    {title: 'Pedro Mario Carranza', value: '33344554'},\r\n                    {title: 'Eléctricos don pipe', value: '987675656'},\r\n                    {title: 'Maria Perdomo', value: '35765633'}\r\n                ]\r\n            },\r\n            wayPay: {\r\n                name: 'wayPay',\r\n                helperText: 'Escoja la manera de pago',\r\n                options: [\r\n                    {title: 'Efectivo', value: 'efectivo'},\r\n                    {title: 'Consignación', value: 'consignacion'},\r\n                    {title: 'Cheque', value: 'cheque'}\r\n                ]\r\n            },\r\n            concept: {\r\n                name: 'concept',\r\n                helperText: 'Escoja un concepto',\r\n                options: [\r\n                    {title: 'Exequias', value: '12005'},\r\n                    {title: 'Partidas', value: '11002'},\r\n                    {title: 'Donaciones', value: '10250'}\r\n                ]\r\n            },\r\n            type: {\r\n                name: 'type',\r\n                helperText: 'Escoja el tipo de recibo',\r\n                options: [\r\n                    {title: 'Ingreso', value: 'ingreso'},\r\n                    {title: 'Egreso', value: 'egreso'}\r\n                ]\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// ------------- Init state -----------\r\nconst initState = {\r\n    from: new Date(),\r\n    to: new Date(),\r\n    serial: '',\r\n    third: '',\r\n    wayPay: '',\r\n    concept: '',\r\n    type: ''\r\n}\r\n\r\nexport default function CashReceiptReport() {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [ form, setForm ] = useState(initState);\r\n\r\n    // HandleChange is the handler to update the state\r\n    // of the form, while the user change the options \r\n    // on an input select.\r\n    const handleChangeSelect = (event: React.ChangeEvent<{ name?: string; value: unknown }>) => {\r\n        const name = event.target.name as string;\r\n        setForm({\r\n            ...form,\r\n            [name]: event.target.value,\r\n        });\r\n    }\r\n\r\n    // HandleChange is the handler to update the state\r\n    // of the form, while the user writes on an input\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const {name, value} = e.target\r\n        setForm(prev => {\r\n            (prev as any)[name] = value\r\n            const newValue = {...prev}\r\n            return newValue\r\n        })\r\n    }\r\n\r\n    // HandleSubmit is the handler to verify and send\r\n    // the form to redux (redux send the info to backend)\r\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        console.log(form);\r\n    }\r\n\r\n    const cancel = () => {\r\n        setForm(initState);\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n\r\n             {/* ----- Header ------*/}\r\n             <React.Fragment>\r\n                <Typography \r\n                variant='h5'\r\n                className={classes.title}\r\n                >\r\n                    {texts.header.title}\r\n                </Typography>\r\n            </React.Fragment>\r\n\r\n            <Divider\r\n            className={classes.divider}\r\n            />\r\n\r\n            {/* ----- Body ------*/}\r\n            <form onSubmit={(e) => handleSubmit(e)}>\r\n                <Grid container spacing={3}>\r\n\r\n                    {/* ----- Form: item **from ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <TextField\r\n                        required={true}\r\n                        name = {texts.body.fields.from.name}\r\n                        value = {form.from}\r\n                        id = 'outlined-helperText'\r\n                        variant = 'outlined'\r\n                        fullWidth\r\n                        type = 'date'\r\n                        onChange = {handleChange}\r\n                        helperText = {texts.body.fields.from.helperText}\r\n                        />\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **to ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <TextField\r\n                        required={true}\r\n                        name = {texts.body.fields.to.name}\r\n                        value = {form.to}\r\n                        id = 'outlined-helperText'\r\n                        variant = 'outlined'\r\n                        fullWidth\r\n                        type = 'date'\r\n                        onChange = {handleChange}\r\n                        helperText = {texts.body.fields.to.helperText}\r\n                        />\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **serial ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <TextField\r\n                        required={true}\r\n                        name = {texts.body.fields.serial.name}\r\n                        value = {form.serial}\r\n                        id = 'outlined-helperText'\r\n                        variant = 'outlined'\r\n                        fullWidth\r\n                        onChange= {handleChange}\r\n                        helperText = {texts.body.fields.serial.helperText}\r\n                        placeholder = {texts.body.fields.serial.placeholder}\r\n                        />\r\n                    </Grid>\r\n\r\n                    {/* ----- Form: item **third ------*/}\r\n                    <Grid item md={8} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.body.fields.third.name}\r\n                        value = {form.third}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.body.fields.third.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e.value} \r\n                                    >\r\n                                        {e.title}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>{texts.body.fields.third.helperText}</FormHelperText>\r\n                    </Grid>\r\n\r\n                    {/* ----- Form: item **way pay ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.body.fields.wayPay.name}\r\n                        value = {form.wayPay}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.body.fields.wayPay.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e.value} \r\n                                    >\r\n                                        {e.title}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>{texts.body.fields.wayPay.helperText}</FormHelperText>\r\n                    </Grid>\r\n\r\n                    {/* ----- Form: item **Concept ------*/}\r\n                    <Grid item md={8} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.body.fields.concept.name}\r\n                        value = {form.concept}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.body.fields.concept.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e.value} \r\n                                    >\r\n                                        {e.title}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>{texts.body.fields.concept.helperText}</FormHelperText>\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **Type of cash receipt ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.body.fields.type.name}\r\n                        value = {form.type}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.body.fields.type.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e.value} \r\n                                    >\r\n                                        {e.title}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>{texts.body.fields.type.helperText}</FormHelperText>\r\n                    </Grid>\r\n\r\n                    <Grid item md={12} sm={12} xs ={12} className={classes.alignRight}>\r\n                        <IconButton\r\n                        type=\"submit\"\r\n                        >\r\n                            <NoteAdd fontSize={\"large\"} color=\"primary\"/>\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                        type=\"button\"\r\n                        onClick={cancel}\r\n                        >\r\n                            <Cancel fontSize={\"large\"} color=\"secondary\"/>\r\n                        </IconButton>\r\n                    </Grid>\r\n                \r\n                </Grid>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { makeStyles, Theme } from '@material-ui/core/styles';\r\nimport { \r\n    Divider,\r\n    FormHelperText,\r\n    Grid, \r\n    IconButton,\r\n    MenuItem,\r\n    Select,\r\n    TextField, \r\n    Typography \r\n} from '@material-ui/core';\r\nimport { Cancel, NoteAdd } from '@material-ui/icons';\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n        width: '85%',\r\n        margin: '10vh auto 10vh auto',\r\n        height: 'auto'\r\n    },\r\n    title: {\r\n        fontWeight: 'bold',\r\n        marginBottom: '1vh'\r\n    },\r\n    divider: {\r\n        marginBottom: '6vh'\r\n    },\r\n    alignRight: {\r\n        textAlign: 'right',\r\n    }\r\n}));\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n    header: {\r\n        title: 'Reporte de transacciones internas'\r\n    },\r\n    body: {\r\n        fields: {\r\n            from: {\r\n                name: 'from',\r\n                helperText: 'Desde'\r\n            },\r\n            to: {\r\n                name: 'to',\r\n                helperText: 'Hasta'\r\n            },\r\n            bank: {\r\n                name: 'bank',\r\n                helperText: 'Escoja un banco',\r\n                options: [\r\n                    {title: 'Bancolombia', value: '786786765'},\r\n                    {title: 'BBVA', value: '110546502'},\r\n                    {title: 'Galicia', value: '10250345'}\r\n                ]\r\n            },\r\n            type: {\r\n                name: 'type',\r\n                helperText: 'Escoja el tipo de recibo',\r\n                options: [\r\n                    {title: 'Ingreso', value: 'ingreso'},\r\n                    {title: 'Egreso', value: 'egreso'}\r\n                ]\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// ------------- Init state -----------\r\nconst initState = {\r\n    from: new Date(),\r\n    to: new Date(),\r\n    bank: '',\r\n    type: ''\r\n}\r\n\r\nexport default function CashReceiptReport() {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [ form, setForm ] = useState(initState);\r\n\r\n    // HandleChange is the handler to update the state\r\n    // of the form, while the user change the options \r\n    // on an input select.\r\n    const handleChangeSelect = (event: React.ChangeEvent<{ name?: string; value: unknown }>) => {\r\n        const name = event.target.name as string;\r\n        setForm({\r\n            ...form,\r\n            [name]: event.target.value,\r\n        });\r\n    }\r\n\r\n    // HandleChange is the handler to update the state\r\n    // of the form, while the user writes on an input\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const {name, value} = e.target\r\n        setForm(prev => {\r\n            (prev as any)[name] = value\r\n            const newValue = {...prev}\r\n            return newValue\r\n        })\r\n    }\r\n\r\n    // HandleSubmit is the handler to verify and send\r\n    // the form to redux (redux send the info to backend)\r\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        console.log(form);\r\n    }\r\n\r\n    const cancel = () => {\r\n        setForm(initState);\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n\r\n             {/* ----- Header ------*/}\r\n             <React.Fragment>\r\n                <Typography \r\n                variant='h5'\r\n                className={classes.title}\r\n                >\r\n                    {texts.header.title}\r\n                </Typography>\r\n            </React.Fragment>\r\n\r\n            <Divider\r\n            className={classes.divider}\r\n            />\r\n\r\n            {/* ----- Body ------*/}\r\n            <form onSubmit={(e) => handleSubmit(e)}>\r\n                <Grid container spacing={3}>\r\n\r\n                    {/* ----- Form: item **from ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <TextField\r\n                        required={true}\r\n                        name = {texts.body.fields.from.name}\r\n                        value = {form.from}\r\n                        id = 'outlined-helperText'\r\n                        variant = 'outlined'\r\n                        fullWidth\r\n                        type = 'date'\r\n                        onChange = {handleChange}\r\n                        helperText = {texts.body.fields.from.helperText}\r\n                        />\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **to ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <TextField\r\n                        required={true}\r\n                        name = {texts.body.fields.to.name}\r\n                        value = {form.to}\r\n                        id = 'outlined-helperText'\r\n                        variant = 'outlined'\r\n                        fullWidth\r\n                        type = 'date'\r\n                        onChange = {handleChange}\r\n                        helperText = {texts.body.fields.to.helperText}\r\n                        />\r\n                    </Grid>\r\n                    \r\n                    {/* ----- Form: item **Type of internal transaction ------*/}\r\n                    <Grid item md={4} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.body.fields.type.name}\r\n                        value = {form.type}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.body.fields.type.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e.value} \r\n                                    >\r\n                                        {e.title}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>{texts.body.fields.type.helperText}</FormHelperText>\r\n                    </Grid>\r\n\r\n                    {/* ----- Form: item **Bank ------*/}\r\n                    <Grid item md={8} sm={6} xs={12}>\r\n                        <Select\r\n                        name={texts.body.fields.bank.name}\r\n                        value = {form.bank}\r\n                        variant = \"outlined\"\r\n                        fullWidth\r\n                        onChange={handleChangeSelect}\r\n                        >\r\n                            {\r\n                                texts.body.fields.bank.options.map((e, index) => \r\n                                    <MenuItem\r\n                                    key={index} \r\n                                    value={e.value} \r\n                                    >\r\n                                        {e.title}\r\n                                    </MenuItem>\r\n                                    )\r\n                            }\r\n                        </Select>\r\n                        <FormHelperText>{texts.body.fields.bank.helperText}</FormHelperText>\r\n                    </Grid>\r\n\r\n                    <Grid item md={12} sm={12} xs ={12} className={classes.alignRight}>\r\n                        <IconButton\r\n                        type=\"submit\"\r\n                        >\r\n                            <NoteAdd fontSize={\"large\"} color=\"primary\"/>\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                        type=\"button\"\r\n                        onClick={cancel}\r\n                        >\r\n                            <Cancel fontSize={\"large\"} color=\"secondary\"/>\r\n                        </IconButton>\r\n                    </Grid>\r\n                \r\n                </Grid>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import { Item } from \"../../schemas/Item\";\r\n\r\nexport default function itemMapper(item: any | unknown): Item {\r\n  return {\r\n    entityId: item.entityId ?? '',\r\n    code: item.code ?? '',\r\n    account: Number(item.account) ?? 0,\r\n    description: item.description ?? '',\r\n    price: item.price ?? undefined,\r\n    unitMeasure: {\r\n      code: item.unitMeasure?.code ?? '',\r\n      description: item.unitMeasure?.description ?? ''\r\n    } ?? undefined,\r\n    itemType: {\r\n      code: item.itemType?.code ?? 0,\r\n      description: item.itemType?.description ?? ''\r\n    } ?? undefined\r\n  }\r\n}\r\n","import axios from 'axios'\r\nimport itemMapper from '../../mappers/Item/item.mapper'\r\nimport { Item } from '../../schemas/Item'\r\n\r\nclass ItemService {\r\n  async saveItem(itemData: Item, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/item` \r\n      const responseApi = await axios.post(url, itemData, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async updateItem(itemData: Item, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/item` \r\n      const responseApi = await axios.put(url, itemData, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getItemByCode(token: string, code: string) : Promise<Item> {\r\n    try {\r\n      let url = `${process.env.REACT_APP_API}/api/v2/item/${code}`\r\n  \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        } \r\n      })\r\n\r\n      const concept = itemMapper(responseApi.data) \r\n\r\n      return concept\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getItems(token: string, params?: { limit: number, lastEvaluatedKey?: string }) : Promise<{ lastEvaluatedKey: string, items: Item[] }> {\r\n    try {\r\n      let url = params !== undefined ? `${process.env.REACT_APP_API}/api/v2/item?limit=${params.limit}` : `${process.env.REACT_APP_API}/api/v2/item`\r\n      if (params !== undefined && params.lastEvaluatedKey !== undefined) url = `${url}&lastEvaluatedKey=${params.lastEvaluatedKey}`\r\n  \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n\r\n      const items = responseApi.data.items.map((item:any) => {\r\n        return itemMapper(item)\r\n      })\r\n\r\n      return {\r\n        lastEvaluatedKey: JSON.stringify(responseApi.data.lastEvaluatedKey),\r\n        items: items\r\n      }\r\n\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default ItemService\r\n","import React, { useState } from 'react'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Box,\r\n  CircularProgress,\r\n  Divider,\r\n  FormHelperText,\r\n  Grid,\r\n  IconButton,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Typography\r\n} from '@material-ui/core'\r\nimport { Cancel, NoteAdd } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport { Item } from '../../../schemas/Item'\r\nimport ItemService from '../../../services/Item'\r\nimport permissions from '../../../permissions.json'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport Utils from '../../../utils'\r\nimport { urls } from '../../../urls'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  thirdClassTitle: {\r\n    color: '#757575',\r\n    marginBottom: '6vh'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Crear productos'\r\n  },\r\n  body: {\r\n    field: {\r\n      code: {\r\n        name: 'code',\r\n        helperText: 'Escriba el código del producto',\r\n        placeholder: 'Código'\r\n      },\r\n      account: {\r\n        name: 'account',\r\n        helperText: 'Cuenta contable del producto',\r\n        placeholder: 'Cuenta',\r\n        validationError: 'Debe ser de 8 dígitos'\r\n      },\r\n      description: {\r\n        name: 'description',\r\n        helperText: 'Escriba la descripción del producto',\r\n        placeholder: 'Nombre de producto'\r\n      },\r\n      price: {\r\n        name: 'price',\r\n        helperText: 'Escriba el precio en pesos colombianos sin decimales',\r\n        placeholder: 'Precio'\r\n      },\r\n      unitMeasure: {\r\n        name: 'unitMeasure',\r\n        helperText: 'Escoja una unidad de medida',\r\n        options: [\r\n          { description: 'Unidad', code: '70' },\r\n          { description: 'Kilogramo', code: '40' },\r\n          { description: 'Galón', code: '686' },\r\n          { description: 'Metro cúbico', code: '594' },\r\n          { description: 'Metro cuadrado', code: '472' },\r\n        ]\r\n      },\r\n      itemType: {\r\n        name: 'itemType',\r\n        helperText: 'Tipo de producto',\r\n        options: [\r\n          { description: 'UNSPSC', code: '1' },\r\n          { description: 'GTIN', code: '2' },\r\n          { description: 'Partida Arancelarias', code: '3' },\r\n          { description: 'Estándar de adopción del contribuyente', code: '4' }\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  form: Item\r\n  validations: {\r\n    errorMinLengthAccount: boolean\r\n  }\r\n  isEdit: boolean\r\n  loading: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  form: {\r\n    code: '',\r\n    account: 0,\r\n    description: '',\r\n    price: undefined,\r\n    unitMeasure: undefined,\r\n    itemType: undefined\r\n  },\r\n  validations: {\r\n    errorMinLengthAccount: false\r\n  },\r\n  isEdit: false,\r\n  loading: false\r\n}\r\n\r\nexport default function ItemForm() {\r\n\r\n  const classes = useStyles()\r\n  const { search } = useLocation()\r\n  const history = useHistory()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n      const account = Utils.getIdFromUrl(search)\r\n\r\n      if (account) {\r\n        setState({\r\n          ...state,\r\n          loading: true\r\n        })\r\n        const itemService = new ItemService()\r\n        const item = await itemService.getItemByCode(userContext.token ?? '', account)\r\n        if (item) {\r\n          setState({\r\n            ...state,\r\n            form: item,\r\n            loading: false,\r\n            isEdit: true\r\n          })\r\n        }\r\n      }\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user change the options \r\n  // on an input select.\r\n  const handleChangeSelect = (name: string, item: { code: string, description: string }) => {\r\n    setState({\r\n      ...state,\r\n      form:{\r\n        ...state.form,\r\n        [name]: item\r\n      }\r\n    })\r\n  }\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user writes on an input.\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target\r\n    let errorMinLengthAccount = state.validations.errorMinLengthAccount\r\n\r\n    if (name === 'account') {\r\n      errorMinLengthAccount = value.length < Number(process.env.REACT_APP_MAX_LENGTH_CONTABLE_ACCOUNT)\r\n    }\r\n    setState({\r\n      ...state,\r\n      form: {\r\n        ...state.form,\r\n        [name]: value\r\n      },\r\n      validations: {\r\n        errorMinLengthAccount\r\n      }\r\n    })\r\n  }\r\n\r\n  // HandleSubmit is the handler to verify and send\r\n  // the state to redux (redux send the info to backend\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    try {\r\n      // validations\r\n      if (state.validations.errorMinLengthAccount && userContext.permissions.some(p => p === permissions.super_admin)) {\r\n        throw new Error(`La cuenta debe tener ${process.env.REACT_APP_MAX_LENGTH_CONTABLE_ACCOUNT} dígitos`)\r\n      }\r\n\r\n      const itemService = new ItemService()\r\n      let itemCreated\r\n\r\n      if (state.isEdit) {\r\n        itemCreated = await itemService.updateItem(state.form, userContext.token ?? '')\r\n      } else {\r\n        itemCreated = await itemService.saveItem(state.form, userContext.token ?? '')\r\n      }\r\n\r\n      setState(initState)\r\n      history.push(urls.app.main.item.form)\r\n      return toast.success(`El producto ${itemCreated.code} fue ${state.isEdit ? 'actualizado' : 'creado'} con éxito`)\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      } else if (error instanceof Error) {\r\n        return toast.error(error.message)\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  const cancel = () => {\r\n    setState(initState)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ----- Header -----*/}\r\n      <React.Fragment>\r\n        <Typography \r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n\r\n      {/* ----- Body ------*/}\r\n      <form onSubmit={(e) => handleSubmit(e)}>\r\n        <Grid container spacing={3}>\r\n\r\n          {/* ----- Form: code ------*/}\r\n          <Grid item md={6} sm={6} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.code.name}\r\n              value={state.form.code}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.code.helperText}\r\n              placeholder={texts.body.field.code.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: account, only the admin can create this field ------*/}\r\n          {\r\n            userContext.permissions.find(permission => permission === permissions.super_admin) ?\r\n            (\r\n              <Grid item md={6} sm={6} xs={10}>\r\n                <TextField\r\n                  required={true}\r\n                  name={texts.body.field.account.name}\r\n                  value={state.form.account}\r\n                  variant='outlined'\r\n                  fullWidth\r\n                  onChange={handleChange}\r\n                  helperText={ state.validations.errorMinLengthAccount ? texts.body.field.account.validationError : texts.body.field.account.helperText}\r\n                  error={state.validations.errorMinLengthAccount}\r\n                  placeholder={texts.body.field.account.placeholder}\r\n                  inputProps={{ maxLength: 8 }}\r\n                />\r\n              </Grid>\r\n            ) : ''\r\n          }\r\n\r\n          {/* ----- Form: description ------*/}\r\n          <Grid item md={6} sm={6} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.description.name}\r\n              value={state.form.description}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.description.helperText}\r\n              placeholder={texts.body.field.description.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: price ------*/}\r\n          <Grid item md={6} sm={6} xs={10}>\r\n            <TextField\r\n              name={texts.body.field.price.name}\r\n              value={state.form.price ?? ''}\r\n              type='number'\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.price.helperText}\r\n              placeholder={texts.body.field.price.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: unit measure ------*/}\r\n          <Grid item md={6} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.unitMeasure.name}\r\n              value={state.form.unitMeasure?.code ?? ''}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            >\r\n              {\r\n                texts.body.field.unitMeasure.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.unitMeasure.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.unitMeasure.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: item type ------*/}\r\n          <Grid item md={6} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.itemType.name}\r\n              value={state.form.itemType?.code ?? ''}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            >\r\n              {\r\n                texts.body.field.itemType.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.itemType.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.itemType.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n            <IconButton\r\n              type=\"submit\"\r\n            >\r\n              <NoteAdd fontSize={\"large\"} color=\"primary\" />\r\n            </IconButton>\r\n\r\n            <IconButton\r\n              type=\"button\"\r\n              onClick={cancel}\r\n            >\r\n              <Cancel fontSize={\"large\"} color=\"secondary\" />\r\n            </IconButton>\r\n          </Grid>\r\n\r\n        </Grid>\r\n      </form>\r\n      {\r\n        state.loading ?\r\n        (\r\n          <div className={classes.loadingContainer}>\r\n            <Box>\r\n              <CircularProgress/>\r\n            </Box>\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Divider,\r\n  Grid,\r\n  IconButton,\r\n  Button,\r\n  Typography,\r\n  Box,\r\n  CircularProgress\r\n} from '@material-ui/core'\r\nimport { GridCellEditCommitParams, GridColDef } from '@material-ui/data-grid'\r\nimport { CloudDownload, Edit } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport DataTable from '../DataTable/DataTable'\r\nimport { urls } from '../../../urls'\r\nimport ItemService from '../../../services/Item'\r\nimport permissions from '../../../permissions.json'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  loadMoreButton: {\r\n    width: '25%',\r\n    height: '70%'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Lista de productos'\r\n  },\r\n  body: {\r\n    buttonLoadMore: {\r\n      label: 'Cargar más ...'\r\n    }\r\n  }\r\n}\r\n\r\nconst columns: GridColDef[] = [\r\n  {\r\n    field: 'code',\r\n    headerName: 'Código',\r\n    flex: 1,\r\n    editable: false,\r\n  },\r\n  {\r\n    field: 'description',\r\n    headerName: 'Producto',\r\n    editable: true,\r\n    flex: 2\r\n  },\r\n  {\r\n    field: 'price',\r\n    headerName: 'Precio',\r\n    editable: true,\r\n    flex: 1\r\n  },\r\n  {\r\n    field: 'actions',\r\n    headerName: 'Acciones',\r\n    flex: 1,\r\n    type: 'actions',\r\n    renderCell: (params: any) => (\r\n      <ActionButtons params={params} />\r\n    )\r\n  }\r\n]\r\n\r\nconst columnsAdmin: GridColDef[] = [\r\n  {\r\n    field: 'code',\r\n    headerName: 'Código',\r\n    flex: 1,\r\n    editable: false,\r\n  },\r\n  {\r\n    field: 'description',\r\n    headerName: 'Producto',\r\n    editable: true,\r\n    flex: 2\r\n  },\r\n  {\r\n    field: 'account',\r\n    headerName: 'Cuenta contable',\r\n    editable: true,\r\n    flex: 1\r\n  },\r\n  {\r\n    field: 'price',\r\n    headerName: 'Precio',\r\n    editable: true,\r\n    flex: 1\r\n  },\r\n  {\r\n    field: 'actions',\r\n    headerName: 'Acciones',\r\n    flex: 1,\r\n    type: 'actions',\r\n    renderCell: (params: any) => (\r\n      <ActionButtons params={params} />\r\n    )\r\n  }\r\n]\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  loadMoreButtonDisabled: boolean\r\n  lastEvaluatedKey?: string\r\n  items: any[]\r\n  loading: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  loadMoreButtonDisabled: false,\r\n  items: [],\r\n  loading: true\r\n}\r\n\r\nfunction ActionButtons(props: any) {\r\n  const [editPermission, setEditPermission] = useState<boolean>(false)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n  const history = useHistory()\r\n\r\n  const onEdit = () => {\r\n    history.push(`${urls.app.main.item.form}?document=${props.params.row.code ?? ''}`)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setEditPermission(userContext.permissions.some(permission => permission === permissions.item.update))\r\n  }, [userContext])\r\n\r\n  return (\r\n    <IconButton\r\n      type=\"submit\"\r\n      onClick={() => onEdit()}\r\n      disabled={!editPermission}\r\n    >\r\n      <Edit fontSize={\"small\"} color={editPermission ? \"primary\" : \"inherit\"} />\r\n    </IconButton>\r\n  )\r\n}\r\n\r\nexport default function ItemList() {\r\n\r\n  const classes = useStyles()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n      const itemService = new ItemService()\r\n      const response = await itemService.getItems(userContext.token || '', { limit: 5 })\r\n      setState({\r\n        ...state,\r\n        items: response.items,\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true,\r\n        loading: false\r\n      })\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  const onLoadMore = async () => {\r\n    try {\r\n      const itemService = new ItemService()\r\n      const response = await itemService.getItems(userContext.token || '', { limit: 5, lastEvaluatedKey: state.lastEvaluatedKey })\r\n      setState({\r\n        ...state,\r\n        items: state.items.concat(response.items),\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true\r\n      })\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  const gridEdit = async (params: GridCellEditCommitParams) => {\r\n    try {\r\n      // validations\r\n      if (params.field === \"account\" && params.value && params.value.toString().length !== Number(process.env.REACT_APP_MAX_LENGTH_CONTABLE_ACCOUNT)) {\r\n        throw new Error(`El número de cuenta contable debe ser de ${process.env.REACT_APP_MAX_LENGTH_CONTABLE_ACCOUNT} dígitos`)\r\n      }\r\n      let itemToEdit: any = {}\r\n\r\n      const selectedItem = state.items.find(item => item.code === params.id)\r\n\r\n      if (selectedItem !== undefined) {\r\n        itemToEdit = {\r\n          ...selectedItem,\r\n          [params.field]: params.value\r\n        }\r\n      } else {\r\n        return\r\n      }\r\n\r\n      const itemService = new ItemService()\r\n      const itemUpdated = await itemService.updateItem(itemToEdit, userContext.token ?? '')\r\n\r\n      return toast.success(`El producto ${itemUpdated.code} fue editado con éxito`)\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      } else if (error instanceof Error) {\r\n        return toast.error(error.message)\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ----- Header ------*/}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n      <Grid container spacing={3}>\r\n\r\n        {/* ----- Form: item thrid type ------*/}\r\n        <Grid item md={12} sm={12} xs={12}>\r\n          <DataTable rows={state.items} columns={ userContext.permissions.some(p => p === permissions.super_admin) ? columnsAdmin : columns} keyId='code' gridEdit={gridEdit} />\r\n        </Grid>\r\n\r\n        <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n          <Button\r\n            type=\"button\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            className={classes.loadMoreButton}\r\n            startIcon={<CloudDownload />}\r\n            disabled={state.loadMoreButtonDisabled}\r\n            onClick={() => onLoadMore()}\r\n          >\r\n            {texts.body.buttonLoadMore.label}\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n      {\r\n        state.loading ?\r\n        (\r\n          <div className={classes.loadingContainer}>\r\n            <Box>\r\n              <CircularProgress/>\r\n            </Box>\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import moment from \"moment\";\r\nimport { ElectronicBill, ElectronicBillFormSchema, ItemComplete } from \"../../schemas/ElectronicBill\";\r\nimport Utils from \"../../utils\";\r\n\r\nconst electronicBillMapper = {\r\n  formToSchema: (form: ElectronicBillFormSchema, items: ItemComplete[]): ElectronicBill => {\r\n    return {\r\n      date: form.date,\r\n      orderReference: form.orderReference,\r\n      third: form.third ?? {\r\n        document: '',\r\n        dv: undefined,\r\n        documentType: {\r\n          code: '',\r\n          description: ''\r\n        },\r\n        organizationType: {\r\n          code: '',\r\n          description: ''\r\n        },\r\n        liabilityType: {\r\n          code: '',\r\n          description: ''\r\n        },\r\n        regimeType: {\r\n          code: '',\r\n          description: ''\r\n        },\r\n        name: undefined,\r\n        lastname: undefined,\r\n        businessName: undefined,\r\n        phone: '',\r\n        address: '',\r\n        email: ''\r\n      },\r\n      wayToPay: form.wayToPay,\r\n      paymentMethod: form.paymentMethod,\r\n      paymentDueDate: moment(form.paymentDueDate).format('YYYY/MM/DD'),\r\n      note: form.note,\r\n      items: items,\r\n      taxes: Utils.buildTaxesForElectronicBill(items),\r\n      total: form.total,\r\n      totalTaxes: form.totalTaxes,\r\n      totalToPay: form.totalToPay\r\n    }\r\n  },\r\n\r\n  schemaToForm: (bill: any): { form: ElectronicBillFormSchema, items: ItemComplete[], taxes: any[] } => {\r\n    return {\r\n      form: {\r\n        number: Number(bill.number),\r\n        date: moment(bill.date).format('YYYY-MM-DD'),\r\n        preview: bill.preview,\r\n        orderReference: bill.orderReference,\r\n        third: bill.third,\r\n        wayToPay: { code: bill.wayToPay.code, description: bill.wayToPay.description },\r\n        paymentMethod: { code: bill.paymentMethod.code, description: bill.paymentMethod.description },\r\n        paymentDueDate: moment(bill.paymentDueDate).format('YYYY-MM-DD'),\r\n        note: bill.note,\r\n        total: bill.total,\r\n        totalTaxes: bill.totalTaxes,\r\n        totalToPay: bill.totalToPay,\r\n        currentItemType: {\r\n          code: '',\r\n          description: ''\r\n        },\r\n        currentPrice: 0,\r\n        currentQuantity: 0,\r\n        selectedTax: {\r\n          code: '',\r\n          description: ''\r\n        },\r\n        currentPercentTax: 0\r\n      },\r\n      items: bill.items,\r\n      taxes: Utils.buildTaxesForElectronicBill(bill.items)\r\n    }\r\n  }\r\n}\r\n\r\nexport default electronicBillMapper\r\n","import axios from 'axios'\r\nimport { ElectronicBill, ElectronicBillFormSchema, ItemComplete } from '../../schemas/ElectronicBill'\r\nimport ElectronicBillMapper from '../../mappers/ElectronicBill/electronicBill.mapper'\r\n\r\nclass ElectronicBillService {\r\n  async saveBill(billData: ElectronicBill, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/bill/electronic`\r\n      const responseApi = await axios.post(url, billData, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getElectronicBills(token: string, params?: { limit: number, lastEvaluatedKey?: string }) : Promise<{ lastEvaluatedKey: string, electronicBills: ElectronicBillFormSchema[] }> {\r\n    try {\r\n      let url = params !== undefined ? `${process.env.REACT_APP_API}/api/v2/bill/electronic?limit=${params.limit}` : `${process.env.REACT_APP_API}/api/v2/bill/electronic`\r\n      \r\n      if (params !== undefined && params.lastEvaluatedKey !== undefined) url = `${url}&lastEvaluatedKey=${params.lastEvaluatedKey}`\r\n  \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        } \r\n      })\r\n\r\n      const bills = responseApi.data.bills.map((bill:any) => {\r\n        const parseBill = ElectronicBillMapper.schemaToForm(bill)\r\n        return parseBill.form\r\n      })\r\n\r\n      return {\r\n        lastEvaluatedKey: JSON.stringify(responseApi.data.lastEvaluatedKey),\r\n        electronicBills: bills\r\n      }\r\n\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getBillByNumber(token: string, number: number) : Promise<{ form: ElectronicBillFormSchema, items: ItemComplete[], taxes: any[] }> {\r\n    try {\r\n      let url = `${process.env.REACT_APP_API}/api/v2/bill/electronic/${number}`\r\n  \r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: `Bearer ${token}`\r\n        } \r\n      })\r\n\r\n      const bill = ElectronicBillMapper.schemaToForm(responseApi.data) \r\n\r\n      return bill\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default ElectronicBillService\r\n","import React, { useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { IconButton } from '@material-ui/core';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n});\r\n\r\nconst texts = {\r\n  table: {\r\n    headers: {\r\n      code: 'Código',\r\n      description: 'Descripción',\r\n      price: 'Precio',\r\n      quantity: 'Cantidad',\r\n      delete: 'Eliminar'\r\n    }\r\n  }\r\n}\r\nexport default function ItemTable({ rows, handleTable, disabledForm }: { rows: Array<any>, handleTable: Function, disabledForm: boolean }) {\r\n\r\n  const classes = useStyles();\r\n  const [reload, setReload] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setReload(false)\r\n  }, [reload])\r\n\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table className={classes.table} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>{texts.table.headers.code}</TableCell>\r\n            <TableCell>{texts.table.headers.description}</TableCell>\r\n            <TableCell align=\"right\">{texts.table.headers.price}</TableCell>\r\n            <TableCell align=\"right\">{texts.table.headers.quantity}</TableCell>\r\n            <TableCell align=\"right\">{texts.table.headers.delete}</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {\r\n            rows.map((row, index) => (\r\n              <TableRow key={index}>\r\n                <TableCell component=\"th\" >{row.code}</TableCell>\r\n                <TableCell component=\"th\">{row.description}</TableCell>\r\n                <TableCell align=\"right\">{row.price}</TableCell>\r\n                <TableCell align=\"right\">{row.quantity}</TableCell>\r\n                <TableCell align=\"right\">\r\n                  <IconButton\r\n                    aria-label=\"delete\"\r\n                    onClick={() => handleTable('REMOVE', row)}\r\n                    disabled={disabledForm}\r\n                  >\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))\r\n          }\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n","import React, { useState } from 'react'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { Link, useHistory, useLocation } from 'react-router-dom'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Divider,\r\n  FormHelperText,\r\n  Grid,\r\n  IconButton,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Typography,\r\n  Button,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  Box,\r\n  CircularProgress,\r\n  InputAdornment\r\n} from '@material-ui/core'\r\nimport { Cancel, NoteAdd, Save, ArrowDropDown, ArrowDropUp } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport EntityContext from '../../../contexts/Entity'\r\nimport { EntityContextType } from '../../../schemas/Entity'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport { ElectronicBillFormSchema } from '../../../schemas/ElectronicBill'\r\nimport ElectronicBillService from '../../../services/ElectronicBill'\r\nimport Utils from '../../../utils'\r\nimport ItemTable from './ItemTable'\r\nimport ThirdService from '../../../services/Third'\r\nimport ElectronicBillMapper from '../../../mappers/ElectronicBill/electronicBill.mapper'\r\nimport ItemService from '../../../services/Item'\r\nimport PlemsiService from '../../../services/Plemsi'\r\nimport { urls } from '../../../urls'\r\n\r\n// -------------- Styles ---------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  thirdClassTitle: {\r\n    color: '#757575',\r\n    marginBottom: '6vh'\r\n  },\r\n  addButton: {\r\n    width: '100%',\r\n    height: '70%',\r\n    color: '#ffff',\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Facturación electrónica'\r\n  },\r\n  body: {\r\n    field: {\r\n      date: {\r\n        name: 'date',\r\n        helperText: 'Fecha de facturación',\r\n        placeholder: 'Fecha'\r\n      },\r\n      orderReference: {\r\n        name: 'orderReference',\r\n        helperText: 'Escriba la referencia de orden',\r\n        placeholder: 'Código de orden'\r\n      },\r\n      third: {\r\n        name: 'third',\r\n        helperText: 'Escoja el tercero',\r\n        placeholder: 'Tercero'\r\n      },\r\n      wayToPay: {\r\n        name: 'wayToPay',\r\n        helperText: 'Escoja una forma de pago',\r\n        options: [\r\n          { description: 'Contado', code: '1' },\r\n          { description: 'Crédito', code: '2' },\r\n        ]\r\n      },\r\n      paymentMethod: {\r\n        name: 'paymentMethod',\r\n        helperText: 'Escoja una forma de pago',\r\n        options: [\r\n          { description: 'Cheque', code: '20' },\r\n          { description: 'Consignación bancaria', code: '42' },\r\n          { description: 'Efectivo', code: '10' },\r\n          { description: 'Instrumento no definido', code: '1' },\r\n          { description: 'Pago y depósito pre acordado (PPD)', code: '34' },\r\n          { description: 'Tarjeta Crédito', code: '48' },\r\n          { description: 'Tarjeta Débito', code: '49' },\r\n        ]\r\n      },\r\n      paymentDueDate: {\r\n        name: 'paymentDueDate',\r\n        helperText: 'Fecha de pago',\r\n        placeholder: 'AAAA/MM/DD'\r\n      },\r\n      note: {\r\n        name: 'note',\r\n        helperText: 'Nota para la factura',\r\n        placeholder: 'Nota para la factura'\r\n      },\r\n      item: {\r\n        name: 'currentItem',\r\n        helperText: 'Escoja el producto a facturar',\r\n        options: [\r\n          {\r\n            unitMeasure: { code: 12, description: 'Unidad' },\r\n            description: 'Producto de prueba',\r\n            code: '1',\r\n            price: 2500\r\n          }\r\n        ]\r\n      },\r\n      itemType: {\r\n        name: 'currentItemType',\r\n        helperText: 'Tipo de producto',\r\n        options: [\r\n          { description: 'UNSPSC', code: '1' },\r\n          { description: 'GTIN', code: '2' },\r\n          { description: 'Partida Arancelarias', code: '3' },\r\n          { description: 'Estándar de adopción del contribuyente', code: '4' }\r\n        ]\r\n      },\r\n      price: {\r\n        name: 'currentPrice',\r\n        helperText: 'Precio sin impuestos',\r\n        placeholder: 'Precio'\r\n      },\r\n      quantity: {\r\n        name: 'currentQuantity',\r\n        helperText: 'Cantidad',\r\n        placeholder: 'Cantidad'\r\n      },\r\n      applyTaxes: {\r\n        name: 'applyTaxes',\r\n        helperText: 'Aplicar impuestos'\r\n      },\r\n      tax: {\r\n        name: 'selectedTax',\r\n        helperText: 'Escoja el impuesto',\r\n        options: [\r\n          { code: '1', description: 'IVA' },\r\n          { code: '4', description: 'Impuesto al consumo' }\r\n        ]\r\n      },\r\n      percent: {\r\n        name: 'currentPercentTax',\r\n        helperText: 'Porcentaje',\r\n        placeholder: '%',\r\n        options: [\r\n          { code: 0, description: '0%' },\r\n          { code: 5, description: '5%' },\r\n          { code: 8, description: '8%' },\r\n          { code: 19, description: '19%' },\r\n        ]\r\n      },\r\n      total: {\r\n        name: 'total',\r\n        helperText: 'Total sin impuestos',\r\n        placeholder: 'Total sin impuestos'\r\n      },\r\n      totalTaxes: {\r\n        name: 'totalTaxes',\r\n        helperText: 'Total de impuestos',\r\n        placeholder: 'Total de impuestos'\r\n      },\r\n      totalToPay: {\r\n        name: 'totalToPay',\r\n        helperText: 'Total final',\r\n        placeholder: 'Total'\r\n      }\r\n    },\r\n    subtitles: {\r\n      payment: 'Información acerca del pago',\r\n      itemsTable: 'Tabla de productos a facturar',\r\n      total: 'Información acerca de los totales de la factura'\r\n    },\r\n    buttons: {\r\n      addProduct: {\r\n        title: 'Agregar'\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  form: ElectronicBillFormSchema\r\n  applyTaxes: boolean\r\n  items: any[]\r\n  selectedItems: any[]\r\n  thirds: any[]\r\n  preview?: string\r\n  loading: boolean\r\n  disabledForm: boolean\r\n  status: boolean\r\n  thirdSelected?: string\r\n  suggestionsThirds: any[]\r\n}\r\n\r\nconst initState: State = {\r\n  form: {\r\n    date: '',\r\n    orderReference: '',\r\n    third: undefined,\r\n    wayToPay: { code: '', description: '' },\r\n    paymentMethod: { code: '', description: '' },\r\n    paymentDueDate: '',\r\n    note: '',\r\n    currentItem: undefined,\r\n    currentItemType: {\r\n      code: '',\r\n      description: ''\r\n    },\r\n    currentPrice: 0,\r\n    currentQuantity: 0,\r\n    total: 0,\r\n    totalTaxes: 0,\r\n    totalToPay: 0,\r\n    selectedTax: { code: '', description: '' },\r\n    currentPercentTax: 0\r\n  },\r\n  applyTaxes: false,\r\n  items: [],\r\n  selectedItems: [],\r\n  thirds: [],\r\n  preview: undefined,\r\n  loading: false,\r\n  disabledForm: false,\r\n  status: false,\r\n  thirdSelected: '',\r\n  suggestionsThirds: []\r\n}\r\n\r\nexport default function ElectronicBillForm() {\r\n\r\n  const classes = useStyles()\r\n  const { search } = useLocation()\r\n  const history = useHistory()\r\n\r\n  const [state, setState] = useState(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  const { entityContext } = React.useContext(\r\n    EntityContext\r\n  ) as EntityContextType\r\n\r\n  React.useEffect(() => {\r\n\r\n    async function loadData() {\r\n      try {\r\n        //Search bill on URL\r\n        const params = Utils.parseQueryString(search)\r\n        if (params.length > 0) {\r\n          let number = 0\r\n          let copy = false\r\n          let billPlemsi = undefined\r\n          let thirds = []\r\n          let items = []\r\n\r\n          params.forEach(param => {\r\n            if (param.number) {\r\n              number = Number(param.number)\r\n            }\r\n\r\n            if (param.copy) {\r\n              copy = true\r\n            }\r\n          })\r\n\r\n          setState({\r\n            ...state,\r\n            loading: true\r\n          })\r\n\r\n          const electronicBillService = new ElectronicBillService()\r\n          const bill = await electronicBillService.getBillByNumber(userContext.token ?? '', number)\r\n\r\n          if (!copy) {\r\n            const plemsiService = new PlemsiService()\r\n            billPlemsi = await plemsiService.getBill(entityContext.apiKeyPlemsi ?? '', bill.form.number ?? 0)\r\n            thirds = [...state.thirds, bill.form.third]\r\n            items = [...state.items, bill.items]\r\n          } else {\r\n            const thirdService = new ThirdService()\r\n            const itemService = new ItemService()\r\n            const thirdsRes = await thirdService.getThirds(userContext.token || '')\r\n            const itemsRes = await itemService.getItems(userContext.token || '')\r\n            thirds = thirdsRes.thirds\r\n            items = itemsRes.items\r\n          }\r\n\r\n          setState({\r\n            ...state,\r\n            form: bill.form,\r\n            thirdSelected: bill.form.third?.name !== undefined ? `${bill.form.third?.name} ${bill.form.third?.lastname}` : `${bill.form.third?.businessName}`,\r\n            thirds,\r\n            suggestionsThirds: thirds,\r\n            items,\r\n            selectedItems: bill.items,\r\n            loading: false,\r\n            disabledForm: !copy,\r\n            preview: billPlemsi\r\n          })\r\n\r\n        } else {\r\n          // Load service\r\n          const thirdService = new ThirdService()\r\n          const itemService = new ItemService()\r\n          const thirds = await thirdService.getThirds(userContext.token || '')\r\n          const items = await itemService.getItems(userContext.token || '')\r\n          setState({\r\n            ...state,\r\n            thirds: thirds.thirds,\r\n            suggestionsThirds: thirds.thirds,\r\n            items: items.items\r\n          })\r\n        }\r\n      } catch (error) {\r\n\r\n        setState({\r\n          ...state,\r\n          loading: false\r\n        })\r\n\r\n        if (axios.isAxiosError(error)) {\r\n          const serverError = error as AxiosError<ServerError>\r\n          if (serverError && serverError.response) {\r\n            return toast.error(serverError.response.data.message || error.toString())\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    loadData()\r\n  }, [])\r\n\r\n  const handleChangeSelectValue = (name: string, value: string | number) => {\r\n    setState({\r\n      ...state,\r\n      form: {\r\n        ...state.form,\r\n        [name]: value\r\n      }\r\n    })\r\n  }\r\n\r\n  // HandleChangeSelect is the handler to update the state\r\n  // of the state, while the user change the options \r\n  // on an input select.\r\n  const handleChangeSelect = (\r\n      name: string,\r\n      item: {\r\n        code: string,\r\n        description: string,\r\n        price?: number,\r\n        itemType?: any,\r\n        name?: string,\r\n        lastname?: string,\r\n        businessName?: string\r\n      }) => {\r\n    if (item.price && item.itemType) {\r\n      setState({\r\n        ...state,\r\n        form: {\r\n          ...state.form,\r\n          [name]: item,\r\n          currentPrice: item.price,\r\n          currentItemType: {\r\n            code: item.itemType.code,\r\n            description: item.itemType.description\r\n          }\r\n        }\r\n      })\r\n    } else if (name === texts.body.field.third.name) {\r\n      setState({\r\n        ...state,\r\n        form: {\r\n          ...state.form,\r\n          [name]: item\r\n        },\r\n        thirdSelected: item.name !== undefined ? `${item.name} ${item.lastname}` : `${item.businessName}`,\r\n        status: false\r\n      })\r\n    } else {\r\n      setState({\r\n        ...state,\r\n        form: {\r\n          ...state.form,\r\n          [name]: item\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user writes on an input.\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | {\r\n    name: string\r\n    value: unknown\r\n  }>) => {\r\n    const { name, value } = e.target\r\n    setState({\r\n      ...state,\r\n      form: {\r\n        ...state.form,\r\n        [name]: value\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleSuggestions = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { value } = e.target\r\n\r\n    const suggestionsThirds = state.thirds.filter(third => {\r\n      if (third.name?.toLowerCase().includes(value.toLowerCase())) {\r\n        return third\r\n      } else if (third.lastname?.toLowerCase().includes(value.toLowerCase())) {\r\n        return third\r\n      } else if (third.businessName?.toLowerCase().includes(value.toLowerCase())) {\r\n        return third\r\n      }\r\n    })\r\n\r\n    setState({\r\n      ...state,\r\n      thirdSelected: value,\r\n      suggestionsThirds,\r\n      status: value.length > 0 ? true : false\r\n    })\r\n  }\r\n\r\n  // HandleSubmit is the handler to verify and send\r\n  // the state to redux (redux send the info to backend)\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault()\r\n    setState({\r\n      ...state,\r\n      loading: true\r\n    })\r\n\r\n    try {\r\n      console.log(state.selectedItems)\r\n      const res = ElectronicBillMapper.formToSchema(state.form, state.selectedItems)\r\n      const electronicBillService = new ElectronicBillService()\r\n      const plemsiService = new PlemsiService()\r\n      const bill = await electronicBillService.saveBill(res, userContext.token ?? '')\r\n      const billPlemsi = await plemsiService.getBill(bill.entityInformation.apikey, bill.entityInformation.number)\r\n      setState({\r\n        ...initState,\r\n        applyTaxes: false,\r\n        items: state.items,\r\n        selectedItems: [],\r\n        thirds: state.thirds,\r\n        preview: billPlemsi,\r\n        loading: false\r\n      })\r\n\r\n      history.push(urls.app.main.electronicBill.form)\r\n      return toast.success(`Factura creada con éxito`)\r\n    } catch (error) {\r\n\r\n      setState({\r\n        ...state,\r\n        loading: false\r\n      })\r\n      \r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message || error.toString())\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // HandleTable is the handler to add and remove items\r\n  // from the concept table, it also adds or subtracts \r\n  // the value of the total receipt.\r\n  const handleTable = (func: string, selectedItem?: any) => {\r\n    if (func === 'ADD') {\r\n      const item = Utils.buildItem(state.form, state.applyTaxes)\r\n      const total = (state.form.total + item.total)\r\n      const totalTaxes = (state.form.totalTaxes + item.taxes[0].taxAmount)\r\n      const totalToPay = total + totalTaxes\r\n      const items = state.selectedItems\r\n      items.push(item)\r\n      setState({\r\n        ...state,\r\n        form: {\r\n          ...state.form,\r\n          total: total,\r\n          totalTaxes: totalTaxes,\r\n          totalToPay: totalToPay,\r\n          currentItemType: {\r\n            code: '',\r\n            description: ''\r\n          },\r\n          currentPrice: 0,\r\n          currentQuantity: 0,\r\n          selectedTax: { code: '', description: '' },\r\n          currentPercentTax: 0\r\n        },\r\n        applyTaxes: false,\r\n        selectedItems: items\r\n      })\r\n    }\r\n\r\n    if (func === 'REMOVE') {\r\n      const total = (state.form.total - selectedItem.total)\r\n      const totalTaxes = (state.form.totalTaxes - selectedItem.taxes[0].taxAmount)\r\n      const totalToPay = total + totalTaxes\r\n      const items = state.selectedItems.filter(item => item.code !== selectedItem.code)\r\n      setState({\r\n        ...state,\r\n        form: {\r\n          ...state.form,\r\n          total: total,\r\n          totalTaxes: totalTaxes,\r\n          totalToPay: totalToPay,\r\n        },\r\n        selectedItems: items\r\n      })\r\n    }\r\n  }\r\n\r\n  const onApplyTaxes = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { checked } = event.target\r\n    setState({\r\n      ...state,\r\n      applyTaxes: checked\r\n    })\r\n  }\r\n\r\n  const cancel = () => {\r\n    setState(initState)\r\n  }\r\n\r\n  const onPreviewBill = () => {\r\n    // if the form is in view mode, it is not necessary to clear the preview\r\n    if (!state.disabledForm) {\r\n      setState({\r\n        ...state,\r\n        preview: undefined\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {/* ----- Header -----*/}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n\r\n      {/* ----- Body ------*/}\r\n      <form onSubmit={(e) => handleSubmit(e)}>\r\n        <Grid container spacing={3}>\r\n\r\n          {/* ----- Form: date ------*/}\r\n          <Grid item md={6} sm={6} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.date.name}\r\n              value={state.form.date}\r\n              variant='outlined'\r\n              type='date'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.date.helperText}\r\n              placeholder={texts.body.field.date.placeholder}\r\n              disabled={state.disabledForm}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: order reference ------*/}\r\n          <Grid item md={6} sm={6} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.orderReference.name}\r\n              value={state.form.orderReference}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.orderReference.helperText}\r\n              placeholder={texts.body.field.orderReference.placeholder}\r\n              disabled={state.disabledForm}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: third ------*/}\r\n          <Grid item md={12} sm={12} xs={12}>\r\n            <TextField \r\n              name=\"thirdSelected\"\r\n              value={state.thirdSelected}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              disabled={state.disabledForm}\r\n              onChange={handleSuggestions}\r\n              InputProps={{\r\n                endAdornment: <InputAdornment position=\"end\">\r\n                  <IconButton onClick={() => setState({...state, status: !state.status})}>\r\n                    {\r\n                      state.status ? \r\n                      (\r\n                        <ArrowDropUp fontSize={\"small\"} color=\"secondary\" />\r\n                      ) :\r\n                      (\r\n                        <ArrowDropDown fontSize={\"small\"} color=\"primary\" />\r\n                      )\r\n                    }\r\n                  </IconButton>\r\n                </InputAdornment>,\r\n              }}\r\n            />\r\n            {\r\n              state.status === true && (\r\n                <Box sx={{\r\n                  width: '100%',\r\n                  maxHeight: 100,\r\n                  display: 'relative',\r\n                  zIndex: 1,\r\n                  bgcolor: '#E1E1E1',\r\n                  overflow: 'auto'\r\n                }}>\r\n                  {\r\n                    state.suggestionsThirds.map((third) =>\r\n                      <MenuItem\r\n                        key={third.document}\r\n                        onClick={() => handleChangeSelect(texts.body.field.third.name, third)}\r\n                      >\r\n                        {third.name !== undefined ? `${third.name} ${third.lastname}` : `${third.businessName}`}\r\n                      </MenuItem>\r\n                    )\r\n                  }\r\n                </Box>\r\n              )\r\n            }\r\n            <FormHelperText>{texts.body.field.third.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: payment ------*/}\r\n\r\n          <Grid item md={4} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.wayToPay.name}\r\n              value={state.form.wayToPay.code}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              disabled={state.disabledForm}\r\n            >\r\n              {\r\n                texts.body.field.wayToPay.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.wayToPay.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.wayToPay.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: payment method ------*/}\r\n          <Grid item md={4} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.paymentMethod.name}\r\n              value={state.form.paymentMethod.code}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              disabled={state.disabledForm}\r\n            >\r\n              {\r\n                texts.body.field.paymentMethod.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.paymentMethod.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.paymentMethod.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: payment due date ------*/}\r\n          <Grid item md={4} sm={6} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.paymentDueDate.name}\r\n              value={state.form.paymentDueDate}\r\n              variant='outlined'\r\n              type='date'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.paymentDueDate.helperText}\r\n              placeholder={texts.body.field.paymentDueDate.placeholder}\r\n              disabled={state.disabledForm}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: note ------*/}\r\n\r\n          <Grid item md={12} sm={12} xs={12}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.note.name}\r\n              value={state.form.note}\r\n              variant='outlined'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.note.helperText}\r\n              placeholder={texts.body.field.note.placeholder}\r\n              disabled={state.disabledForm}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: item ------*/}\r\n\r\n          <Grid item md={12} sm={12} xs={12}>\r\n            <Typography\r\n              variant='h6'\r\n            >\r\n              {texts.body.subtitles.itemsTable}\r\n            </Typography>\r\n          </Grid>\r\n\r\n          <Grid item md={12} sm={12} xs={12}>\r\n            <Divider className={classes.divider} />\r\n          </Grid>\r\n\r\n          <Grid item md={8} sm={12} xs={12}>\r\n            <Select\r\n              name={texts.body.field.item.name}\r\n              value={state.form.currentItem?.code ?? ''}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              disabled={state.disabledForm}\r\n            >\r\n              {\r\n                state.items.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.item.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.item.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: item type ------*/}\r\n          <Grid item md={4} sm={6} xs={12}>\r\n            <Select\r\n              name={texts.body.field.itemType.name}\r\n              value={state.form.currentItemType.code}\r\n              variant=\"outlined\"\r\n              fullWidth\r\n              disabled={state.disabledForm}\r\n            >\r\n              {\r\n                texts.body.field.itemType.options.map((item) =>\r\n                  <MenuItem\r\n                    key={item.description}\r\n                    value={item.code}\r\n                    onClick={() => handleChangeSelect(texts.body.field.itemType.name, item)}\r\n                  >\r\n                    {item.description}\r\n                  </MenuItem>\r\n                )\r\n              }\r\n            </Select>\r\n            <FormHelperText>{texts.body.field.itemType.helperText}</FormHelperText>\r\n          </Grid>\r\n\r\n          {/* ----- Form: price ------*/}\r\n          <Grid item md={8} sm={3} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.price.name}\r\n              value={state.form.currentPrice}\r\n              variant='outlined'\r\n              type='number'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.price.helperText}\r\n              placeholder={texts.body.field.price.placeholder}\r\n              disabled={state.disabledForm}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: quantity ------*/}\r\n          <Grid item md={4} sm={3} xs={10}>\r\n            <TextField\r\n              required={true}\r\n              name={texts.body.field.quantity.name}\r\n              value={state.form.currentQuantity}\r\n              variant='outlined'\r\n              type='number'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.quantity.helperText}\r\n              placeholder={texts.body.field.quantity.placeholder}\r\n              disabled={state.disabledForm}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item md={9} sm={6} xs={6}>\r\n            {/* ----- apply taxes check ------*/}\r\n            <FormControlLabel\r\n              control={<Checkbox checked={state.applyTaxes} name={texts.body.field.applyTaxes.name} value={state.applyTaxes} onChange={(e) => onApplyTaxes(e)} color=\"primary\" />}\r\n              label={texts.body.field.applyTaxes.helperText}\r\n              disabled={state.disabledForm}\r\n            />\r\n          </Grid>\r\n\r\n          {\r\n            state.applyTaxes ?\r\n              (\r\n                <React.Fragment>\r\n                  <Grid item md={6} sm={12} xs={12}>\r\n                    <Select\r\n                      name={texts.body.field.tax.name}\r\n                      value={state.form.selectedTax.code}\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                    >\r\n                      {\r\n                        texts.body.field.tax.options.map((item) =>\r\n                          <MenuItem\r\n                            key={item.description}\r\n                            value={item.code}\r\n                            onClick={() => handleChangeSelect(texts.body.field.tax.name, item)}\r\n                          >\r\n                            {item.description}\r\n                          </MenuItem>\r\n                        )\r\n                      }\r\n                    </Select>\r\n                    <FormHelperText>{texts.body.field.tax.helperText}</FormHelperText>\r\n                  </Grid>\r\n\r\n                  {/* ----- Form: percent ------*/}\r\n                  <Grid item md={3} sm={6} xs={10}>\r\n                    <Select\r\n                      name={texts.body.field.percent.name}\r\n                      value={state.form.currentPercentTax}\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                    >\r\n                      {\r\n                        texts.body.field.percent.options.map((item) =>\r\n                          <MenuItem\r\n                            key={item.description}\r\n                            value={item.code}\r\n                            onClick={() => handleChangeSelectValue(texts.body.field.percent.name, item.code)}\r\n                          >\r\n                            {item.description}\r\n                          </MenuItem>\r\n                        )\r\n                      }\r\n                    </Select>\r\n                    <FormHelperText>{texts.body.field.percent.helperText}</FormHelperText>\r\n                  </Grid>\r\n                </React.Fragment>\r\n              ) : ''\r\n          }\r\n\r\n          <Grid item md={3} sm={6} xs={12}>\r\n            <Button\r\n              variant=\"contained\"\r\n              type=\"button\"\r\n              color=\"primary\"\r\n              size=\"large\"\r\n              onClick={() => handleTable(\"ADD\")}\r\n              className={classes.addButton}\r\n              startIcon={<Save />}\r\n              disabled={state.disabledForm}\r\n            >\r\n              {texts.body.buttons.addProduct.title}\r\n            </Button>\r\n          </Grid>\r\n\r\n          {/* ----- Form: item **concepts table rendering ------*/}\r\n          <Grid item md={12} sm={12} xs={12}>\r\n            <ItemTable rows={state.selectedItems} handleTable={handleTable} disabledForm={state.disabledForm} />\r\n          </Grid>\r\n\r\n          {/* ----- Form: total ------*/}\r\n          <Grid item md={4} sm={6} xs={10}>\r\n            <TextField\r\n              disabled={true}\r\n              name={texts.body.field.total.name}\r\n              value={state.form.total}\r\n              variant='outlined'\r\n              type='number'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.total.helperText}\r\n              placeholder={texts.body.field.total.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: total taxes ------*/}\r\n          <Grid item md={4} sm={6} xs={10}>\r\n            <TextField\r\n              disabled={true}\r\n              name={texts.body.field.totalTaxes.name}\r\n              value={state.form.totalTaxes}\r\n              variant='outlined'\r\n              type='number'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.totalTaxes.helperText}\r\n              placeholder={texts.body.field.totalTaxes.placeholder}\r\n            />\r\n          </Grid>\r\n\r\n          {/* ----- Form: total to pay ------*/}\r\n          <Grid item md={4} sm={6} xs={10}>\r\n            <TextField\r\n              disabled={true}\r\n              name={texts.body.field.totalToPay.name}\r\n              value={state.form.totalToPay}\r\n              variant='outlined'\r\n              type='number'\r\n              fullWidth\r\n              onChange={handleChange}\r\n              helperText={texts.body.field.totalToPay.helperText}\r\n              placeholder={texts.body.field.totalToPay.placeholder}\r\n            />\r\n          </Grid>\r\n          {\r\n            !state.disabledForm ?\r\n            (\r\n              <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n                <IconButton\r\n                  type=\"submit\"\r\n                >\r\n                  <NoteAdd fontSize={\"large\"} color=\"primary\" />\r\n                </IconButton>\r\n\r\n                <IconButton\r\n                  type=\"button\"\r\n                  onClick={cancel}\r\n                >\r\n                  <Cancel fontSize={\"large\"} color=\"secondary\" />\r\n                </IconButton>\r\n              </Grid>\r\n            ) : ''\r\n          }\r\n          {\r\n            state.preview !== undefined ?\r\n              (\r\n                <Grid item md={12} sm={12} xs={12} className={classes.alignRight}>\r\n                  <Link to={{ pathname: state.preview }} target='_blank' onClick={onPreviewBill}>\r\n                    Descargue su factura\r\n                  </Link>\r\n                </Grid>\r\n              ) : ''\r\n          }\r\n        </Grid>\r\n      </form>\r\n      {\r\n        state.loading ?\r\n          (\r\n            <div className={classes.loadingContainer}>\r\n              <Box>\r\n                <CircularProgress />\r\n              </Box>\r\n            </div>\r\n          ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport { \r\n    Card,\r\n    CardContent,\r\n    Divider,\r\n    makeStyles,\r\n    Theme,\r\n    Tooltip,\r\n    Typography \r\n} from \"@material-ui/core\";\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\r\n\r\n// ------------------- Styles ----------------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    card: {\r\n        width: '100%',\r\n        background: '#ffff',\r\n        height: '30vh'\r\n    },\r\n    cardBody: {\r\n        marginTop: '8vh',\r\n    },\r\n    cardPrefix: {\r\n        fontSize: '3vh'\r\n    },\r\n    cardPorcent: {\r\n        fontSize: '2vh'\r\n    }\r\n}));\r\n\r\n// ---------- Type for the info from props ----------\r\ntype data = {\r\n    title: string,\r\n    value: string,\r\n    prefix: string,\r\n    percent: {\r\n        value: number,\r\n        tooltip: string,\r\n        prefix: string\r\n    }\r\n}\r\n\r\nexport default function BalanceCard({ data }: {data: data}) {\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Card className={classes.card}>\r\n            <CardContent>\r\n                {/* -------------- Header ----------- */}\r\n                <Typography variant=\"subtitle2\">\r\n                    {data.title}\r\n                </Typography>\r\n                <Divider />\r\n                <Typography\r\n                variant={\r\n                    // if the value is too big this code reduces the font size\r\n                    data.value.length <= 9 ? \"h3\" : \"h4\"\r\n                }\r\n                color=\"primary\"\r\n                className={classes.cardBody}\r\n                >\r\n                    {data.value}\r\n                    <span className={classes.cardPrefix}>\r\n                        {data.prefix}\r\n                    </span>\r\n                </Typography>\r\n\r\n                {/*This section has the code for porcent respect previous month */}\r\n                <Tooltip title={data.percent.tooltip}>\r\n                    <Typography\r\n                        align=\"right\"\r\n                        variant=\"subtitle1\"\r\n                        color={\r\n                        // if the value is negative this code changes the font color\r\n                        data.percent.value >= 0\r\n                            ? \"primary\"\r\n                            : \"secondary\"\r\n                        }\r\n                    >\r\n                        {\r\n                        // if the value is negative this code changes the icon\r\n                        data.percent.value >= 0 ? (\r\n                            <ArrowUpwardIcon className={classes.cardPorcent} />\r\n                        ) : (\r\n                            <ArrowDownwardIcon className={classes.cardPorcent} />\r\n                        )\r\n                        }{\" \"}\r\n                        {data.percent.value}{\" \"}\r\n                        <span className={classes.cardPorcent}>\r\n                        {data.percent.prefix}\r\n                        </span>\r\n                    </Typography>\r\n                </Tooltip>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n}\r\n","import { makeStyles, Theme } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport {\r\n    BarChart,\r\n    Bar,\r\n    XAxis,\r\n    YAxis,\r\n    CartesianGrid,\r\n    Tooltip,\r\n    ResponsiveContainer\r\n} from \"recharts\";\r\n\r\n// this data is just as example // data for the graphic\r\nconst data = [\r\n    {\r\n        name: \"Enero\",\r\n        uv: 0,\r\n    },\r\n    {\r\n        name: \"Febrero\",\r\n        uv: 0,\r\n    },\r\n    {\r\n        name: \"Marzo\",\r\n        uv: 0,\r\n    },\r\n    {\r\n        name: \"Abril\",\r\n        uv: 0,\r\n    },\r\n    {\r\n        name: \"Mayo\",\r\n        uv: 0,\r\n    },\r\n    {\r\n        name: \"Junio\",\r\n        uv: 0,\r\n    }\r\n];\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        height: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    container: {\r\n        width: '90vh',\r\n        height: '27vh',\r\n    }\r\n}));\r\n\r\nexport default function LineGraphic() {\r\n\r\n    const classes = useStyles();\r\n    \r\n    return (\r\n        <div className={classes.root}>\r\n            <div className={classes.container}>\r\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                    <BarChart\r\n                    data={data}\r\n                    margin={{\r\n                        top: 5,\r\n                        right: 30,\r\n                        left: 20,\r\n                        bottom: 5\r\n                    }}\r\n                    >\r\n                        <CartesianGrid strokeDasharray=\"3 3\" />\r\n                        <XAxis dataKey=\"name\" />\r\n                        <YAxis />\r\n                        <Tooltip />\r\n                  \r\n                        <Bar dataKey=\"uv\" fill=\"#82ca9d\" />\r\n                    </BarChart>\r\n                </ResponsiveContainer>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { makeStyles, Theme } from '@material-ui/core/styles';\r\nimport { \r\n    Divider, \r\n    IconButton,\r\n    TextField, \r\n    Typography \r\n} from '@material-ui/core';\r\nimport { NoteAdd } from '@material-ui/icons';\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        height: 'auto'\r\n    },\r\n    form: {\r\n        marginTop: '5vh'\r\n    },\r\n    submitButton: {\r\n        textAlign: 'right'\r\n    }\r\n}));\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n    header: {\r\n        title: 'Reporte caja diario'\r\n    },\r\n    body: {\r\n        fields: {\r\n            from: {\r\n                name: 'date',\r\n                helperText: 'Fecha'\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// ------------- Init state -----------\r\nconst initState = {\r\n    date: new Date(),\r\n}\r\n\r\nexport default function DailyReportForm() {\r\n\r\n    const classes = useStyles();\r\n\r\n    const [ form, setForm ] = useState(initState);\r\n\r\n    // HandleChange is the handler to update the state\r\n    // of the form, while the user writes on an input\r\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const {name, value} = e.target\r\n        setForm(prev => {\r\n            (prev as any)[name] = value\r\n            const newValue = {...prev}\r\n            return newValue\r\n        })\r\n    }\r\n\r\n    // HandleSubmit is the handler to verify and send\r\n    // the form to redux (redux send the info to backend)\r\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        console.log(form);\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <div>\r\n                <Typography\r\n                variant=\"subtitle2\"\r\n                color=\"inherit\"\r\n                >\r\n                    {texts.header.title}\r\n                </Typography>\r\n            </div>\r\n            \r\n            <Divider />\r\n\r\n            <form className={classes.form} onSubmit={(e) => handleSubmit(e)}>\r\n                <TextField\r\n                required={true}\r\n                name = {texts.body.fields.from.name}\r\n                value = {form.date}\r\n                fullWidth\r\n                type = 'date'\r\n                onChange = {handleChange}\r\n                helperText = {texts.body.fields.from.helperText}\r\n                />\r\n\r\n                <div className={classes.submitButton}>\r\n                    <IconButton\r\n                    type=\"submit\"\r\n                    className={classes.submitButton}\r\n                    >\r\n                        <NoteAdd fontSize={\"small\"} color=\"primary\"/>\r\n                    </IconButton>\r\n                </div>\r\n                \r\n            </form>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  Container,\r\n  Grid,\r\n  makeStyles,\r\n  Theme,\r\n  Typography\r\n} from '@material-ui/core'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport EntityContext from '../../../contexts/Entity'\r\nimport { EntityContextType } from '../../../schemas/Entity'\r\nimport BalanceCard from './Card/BalanceCard'\r\nimport LineGraphic from './Graphics/LineGraphic/LineGraphic'\r\nimport DailyReportForm from './DailyReport/DailyReportForm'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  container: {\r\n    marginTop: '10vh',\r\n    padding: '0'\r\n  },\r\n  gridCard: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center'\r\n  },\r\n  cardGraphic: {\r\n    width: '100%',\r\n    background: '#ffff',\r\n    height: '30vh'\r\n  },\r\n\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    title: 'Bienvenido',\r\n    user: 'Santiago Marin'\r\n  },\r\n  body: {\r\n    cards: {\r\n      cashBalance: {\r\n        title: 'Saldo de Caja',\r\n        value: '0.00',\r\n        prefix: '$',\r\n        percent: {\r\n          value: 0,\r\n          tooltip: 'Relación en procentaje respecto a mes anterior',\r\n          prefix: '%'\r\n        }\r\n      },\r\n      bankBalance: {\r\n        title: 'Saldo de Banco',\r\n        value: '0.00',\r\n        prefix: '$',\r\n        percent: {\r\n          value: 0,\r\n          tooltip: 'Relación en procentaje respecto a mes anterior',\r\n          prefix: '%'\r\n        }\r\n      },\r\n      percentBalance: {\r\n        title: 'Respecto mes anterior',\r\n        value: '0',\r\n        prefix: '%',\r\n        percent: {\r\n          value: 0,\r\n          tooltip: 'Relación en procentaje respecto a año anterior',\r\n          prefix: '%'\r\n        }\r\n      },\r\n      respectPreviousMonth: {\r\n        title: 'Respecto mes anterior',\r\n        value: 0,\r\n        prefix: '%'\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default function IndexApp() {\r\n\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  const { entityContext } = React.useContext(\r\n    EntityContext\r\n  ) as EntityContextType\r\n\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* -------------------- Header --------------- */}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant=\"h4\"\r\n        >\r\n          {texts.header.title}, <span>{userContext.name} {userContext.lastname}</span>\r\n        </Typography>\r\n        <Typography\r\n          variant=\"subtitle2\"\r\n        >\r\n          {entityContext.name}\r\n        </Typography>\r\n        <div>\r\n          <Typography\r\n            variant=\"caption\"\r\n          >\r\n            {entityContext.document}\r\n          </Typography>\r\n        </div>\r\n      </React.Fragment>\r\n\r\n      {/* -- Cards to show the values and percentages of the company --*/}\r\n      <React.Fragment>\r\n        <Container className={classes.container}>\r\n          <Grid container spacing={3}>\r\n\r\n            {/* --------------------- *Cash balance card ------------------ */}\r\n            <Grid item md={4} sm={6} xs={12} className={classes.gridCard}>\r\n              <BalanceCard data={texts.body.cards.cashBalance} />\r\n            </Grid>\r\n\r\n            {/* --------------------- *Bank balance card ------------------ */}\r\n            <Grid item md={4} sm={6} xs={12} className={classes.gridCard}>\r\n              <BalanceCard data={texts.body.cards.bankBalance} />\r\n            </Grid>\r\n\r\n            {/* -------------------- *Percent balance card ----------------- */}\r\n            <Grid item md={4} sm={6} xs={12} className={classes.gridCard}>\r\n              <BalanceCard data={texts.body.cards.percentBalance} />\r\n            </Grid>\r\n\r\n            {/* -------------------- *Graphic balance card ----------------- */}\r\n            <Grid item md={8} sm={12} xs={12} className={classes.gridCard}>\r\n              <Card className={classes.cardGraphic}>\r\n                <CardContent>\r\n                  <LineGraphic />\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n\r\n            {/* -------------------- *Daily report form card ----------------- */}\r\n            <Grid item md={4} sm={6} xs={12} className={classes.gridCard}>\r\n              <Card className={classes.cardGraphic}>\r\n                <CardContent>\r\n                  <DailyReportForm />\r\n                </CardContent>\r\n              </Card>\r\n            </Grid>\r\n          </Grid>\r\n        </Container>\r\n      </React.Fragment>\r\n    </div>\r\n  )\r\n}\r\n","import React, { ReactElement } from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport UserContext from '../../contexts/User'\r\nimport { UserContextType } from '../../schemas/User'\r\nimport { urls } from '../../urls'\r\n\r\nexport default function ProtectRoute({ children, ...rest }: { children: ReactElement }) {\r\n\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={() =>\r\n        userContext.id ? children : <Redirect to={urls.page.login} />\r\n      }\r\n    />\r\n  )\r\n}","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport {\r\n  Divider,\r\n  Grid,\r\n  IconButton,\r\n  Button,\r\n  Typography,\r\n  Box,\r\n  CircularProgress\r\n} from '@material-ui/core'\r\nimport { GridColDef } from '@material-ui/data-grid'\r\nimport { CloudDownload, Visibility, PostAdd } from '@material-ui/icons'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport DataTable from '../DataTable/DataTable'\r\nimport { urls } from '../../../urls'\r\nimport ElectronicBillService from '../../../services/ElectronicBill'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: '85%',\r\n    margin: '10vh auto 10vh auto',\r\n    height: 'auto'\r\n  },\r\n  description: {\r\n    fontWeight: 'bold',\r\n    marginBottom: '1vh'\r\n  },\r\n  divider: {\r\n    marginBottom: '6vh'\r\n  },\r\n  alignRight: {\r\n    textAlign: 'right',\r\n  },\r\n  loadMoreButton: {\r\n    width: '25%',\r\n    height: '70%'\r\n  },\r\n  loadingContainer: {\r\n    position: 'fixed',\r\n    width: '100%',\r\n    height: '100%',\r\n    bottom: '0',\r\n    right: '0',\r\n    background: '#BFBFBFBF',\r\n    opacity: 0.6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    paddingTop: '50vh'\r\n  }\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    description: 'Lista de facturas emitidas'\r\n  },\r\n  body: {\r\n    buttonLoadMore: {\r\n      label: 'Cargar más ...'\r\n    }\r\n  }\r\n}\r\n\r\nconst columns: GridColDef[] = [\r\n  {\r\n    field: 'number',\r\n    headerName: 'Factura',\r\n    width: 150,\r\n    editable: false,\r\n  },\r\n  {\r\n    field: 'date',\r\n    headerName: 'Fecha',\r\n    width: 200,\r\n    editable: false,\r\n  },\r\n  {\r\n    field: 'third',\r\n    headerName: 'Nombre',\r\n    editable: false,\r\n    width: 350,\r\n  },\r\n  {\r\n    field: 'note',\r\n    headerName: 'Descripción',\r\n    editable: false,\r\n    width: 400,\r\n  },\r\n  {\r\n    field: 'actions',\r\n    headerName: 'Acciones',\r\n    width: 150,\r\n    type: 'actions',\r\n    renderCell: (params: any) => (\r\n      <ActionButtons params={params} />\r\n    )\r\n  }\r\n]\r\n\r\n// ------------ Init state -----------\r\ninterface State {\r\n  loadMoreButtonDisabled: boolean\r\n  lastEvaluatedKey?: string\r\n  electronicBills: any[]\r\n  loading: boolean\r\n}\r\n\r\nconst initState: State = {\r\n  loadMoreButtonDisabled: false,\r\n  electronicBills: [],\r\n  loading: true\r\n}\r\n\r\nfunction ActionButtons(props: any) {\r\n\r\n  const history = useHistory()\r\n\r\n  const onView = () => {\r\n    history.push(`${urls.app.main.electronicBill.form}?number=${props.params.row.number ?? ''}`)\r\n  }\r\n\r\n  const onCopy = () => {\r\n    history.push(`${urls.app.main.electronicBill.form}?number=${props.params.row.number ?? ''}&copy=true`)\r\n  }\r\n\r\n  const onDownload = () => {\r\n    if (props.params.row.preview !== undefined) {\r\n      return window.open(props.params.row.preview, '_blank')\r\n    } else {\r\n      return toast.warn('Factura disponible ingresando a la visualización')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <IconButton\r\n        type=\"submit\"\r\n        onClick={() => onView()}\r\n      >\r\n        <Visibility fontSize={\"small\"} color=\"primary\" />\r\n      </IconButton>\r\n\r\n      <IconButton\r\n        type=\"submit\"\r\n        onClick={() => onCopy()}\r\n      >\r\n        <PostAdd fontSize={\"small\"} color=\"action\" />\r\n      </IconButton>\r\n\r\n      <IconButton\r\n        type=\"submit\"\r\n        onClick={() => onDownload()}\r\n      >\r\n        <CloudDownload fontSize={\"small\"} color=\"action\" />\r\n      </IconButton>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default function ElectronicBillList() {\r\n\r\n  const classes = useStyles()\r\n\r\n  const [state, setState] = useState<State>(initState)\r\n  const { userContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  React.useEffect(() => {\r\n    async function loadData() {\r\n      const electronicBillService= new ElectronicBillService()\r\n      const response = await electronicBillService.getElectronicBills(userContext.token || '', { limit: 5 })\r\n      setState({\r\n        ...state,\r\n        electronicBills: response.electronicBills.map((bill: any) =>{\r\n          return {\r\n            ...bill,\r\n            third: bill.third.businessName !== undefined ? `${bill.third.businessName}` : `${bill.third.name} ${bill.third.lastname}`\r\n          }\r\n        }),\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true,\r\n        loading: false\r\n      })\r\n    }\r\n    loadData()\r\n  }, [])\r\n\r\n  const onLoadMore = async () => {\r\n    try {\r\n      const electronicBillService= new ElectronicBillService()\r\n      const response = await electronicBillService.getElectronicBills(userContext.token || '', { limit: 5, lastEvaluatedKey: state.lastEvaluatedKey })\r\n      const newBills = response.electronicBills.map((bill: any) =>{\r\n        return {\r\n          ...bill,\r\n          third: bill.third.businessName !== undefined ? `${bill.third.businessName}` : `${bill.third.name} ${bill.third.lastname}`\r\n        }\r\n      })\r\n      setState({\r\n        ...state,\r\n        electronicBills: state.electronicBills.concat(newBills),\r\n        lastEvaluatedKey: response.lastEvaluatedKey,\r\n        loadMoreButtonDisabled: response.lastEvaluatedKey !== undefined ? false : true\r\n      })\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n\r\n      {/* ----- Header ------*/}\r\n      <React.Fragment>\r\n        <Typography\r\n          variant='h5'\r\n          className={classes.description}\r\n        >\r\n          {texts.header.description}\r\n        </Typography>\r\n      </React.Fragment>\r\n\r\n      <Divider\r\n        className={classes.divider}\r\n      />\r\n      <Grid container spacing={3}>\r\n\r\n        {/* ----- Form: item thrid type ------*/}\r\n        <Grid item md={12} sm={12} xs={12}>\r\n          <DataTable rows={state.electronicBills} columns={columns} keyId='number' />\r\n        </Grid>\r\n\r\n        <Grid item md={12} sm={6} xs={12} className={classes.alignRight}>\r\n          <Button\r\n            type=\"button\"\r\n            color=\"primary\"\r\n            size=\"small\"\r\n            className={classes.loadMoreButton}\r\n            startIcon={<CloudDownload />}\r\n            disabled={state.loadMoreButtonDisabled}\r\n            onClick={() => onLoadMore()}\r\n          >\r\n            {texts.body.buttonLoadMore.label}\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n      {\r\n        state.loading ?\r\n        (\r\n          <div className={classes.loadingContainer}>\r\n            <Box>\r\n              <CircularProgress/>\r\n            </Box>\r\n          </div>\r\n        ) : ''\r\n      }\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { urls } from '../../../urls';\r\nimport MainMenu from '../MainMenu/MainMenu';\r\nimport AppBarComponent from '../AppBar/AppBarComponent';\r\nimport CashReceiptForm from '../CashReceipt/CashReceiptForm';\r\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\r\nimport { CssBaseline } from '@material-ui/core';\r\nimport ThirdForm from '../Third/ThirdForm';\r\nimport ThirdList from '../Third/ThirdList';\r\nimport ThirdMigration from '../Third/ThirdMigration';\r\nimport ConceptForm from '../Concept/ConceptForm';\r\nimport ConceptList from '../Concept/ConceptList';\r\nimport InternalTransactionForm from '../InternalTransaction/InternalTransactionForm';\r\nimport CashReceiptReport from '../CashReceipt/CashReceiptReport';\r\nimport InternalTransactionReport from '../InternalTransaction/InternalTransactionReport';\r\nimport ItemForm from '../Item/ItemForm';\r\nimport ItemList from '../Item/ItemList';\r\nimport ElectronicBillForm from '../ElectronicBill/ElectronicBillForm';\r\nimport IndexApp from '../Index/IndexApp';\r\nimport ProtectRoute from '../../ComponentsForProtectRoutes/ProtectRoute';\r\nimport ElectronicBillList from '../ElectronicBill/ElectronicBillList';\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    root:{\r\n        minHeight: '100vh',\r\n        background: '#fafafa',\r\n    },\r\n    body: {\r\n        display: 'flex'\r\n    },\r\n    main: {\r\n        flexGrow: 1,\r\n    }\r\n  }),\r\n);\r\n\r\nexport default function ContainerApp() {\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <CssBaseline/>\r\n            <div className={classes.body}>\r\n\r\n                <div>\r\n                    <MainMenu/>\r\n                </div>\r\n\r\n                <div className={classes.main}>\r\n\r\n                    <AppBarComponent />\r\n\r\n                    {\r\n                        // This proyect uses the url.sts file to manage the urls\r\n                    }\r\n                    <Switch>\r\n                        <Route path={urls.app.main.home}>\r\n                            <ProtectRoute>\r\n                                <IndexApp />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.third.form}>\r\n                            <ProtectRoute>\r\n                                <ThirdForm />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.third.list}>\r\n                            <ProtectRoute>\r\n                                <ThirdList />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.third.thirdMigrationForm}>\r\n                            <ProtectRoute>\r\n                                <ThirdMigration />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.concept.form}>\r\n                            <ProtectRoute>\r\n                                <ConceptForm />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.concept.list}>\r\n                            <ProtectRoute>\r\n                                <ConceptList />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.item.form}>\r\n                            <ProtectRoute>\r\n                                <ItemForm/>\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.item.list}>\r\n                            <ProtectRoute>\r\n                                <ItemList/>\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.cashReceipt.form}>\r\n                            <ProtectRoute>\r\n                                <CashReceiptForm/>\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.electronicBill.form}>\r\n                            <ProtectRoute>\r\n                                <ElectronicBillForm />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.electronicBill.list}>\r\n                            <ProtectRoute>\r\n                                <ElectronicBillList />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.cashReceipt.report}>\r\n                            <ProtectRoute>\r\n                                <CashReceiptReport />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.internalTransaction.form}>\r\n                            <ProtectRoute>\r\n                                <InternalTransactionForm />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                        <Route path={urls.app.main.internalTransaction.report}>\r\n                            <ProtectRoute>\r\n                                <InternalTransactionReport />\r\n                            </ProtectRoute>\r\n                        </Route>\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import axios from 'axios'\r\nimport jwt from 'jwt-decode'\r\nimport Cookies from 'js-cookie'\r\nimport entityMapper from '../../mappers/Entity/entity.mapper'\r\nimport userMapper from '../../mappers/User/user.mapper'\r\nimport { User } from '../../schemas/User'\r\n\r\ntype jwtDecode = {\r\n  data: any\r\n}\r\n\r\nclass UserService {\r\n\r\n  async login(email: string, password: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/login`\r\n      const responseApi = await axios.post(url, { email, password })\r\n      const response = responseApi.data\r\n      if (!response.token) throw new Error('No recuperó token')\r\n      const tokenData = jwt<jwtDecode>(response.token)\r\n      const userData = tokenData.data.user\r\n      const entityData = tokenData.data.entity\r\n      userData.token = response.token\r\n      const user = userMapper(userData)\r\n      const entity = entityMapper(entityData)\r\n      Cookies.set('auth', response.token)\r\n\r\n      return {\r\n        user,\r\n        entity\r\n      }\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async getUsers(token: string) {\r\n\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/user`\r\n      const responseApi = await axios.get(url, {\r\n        headers: {\r\n          authorization: token\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n\r\n  async saveUser(userData: User, token: string) {\r\n    try {\r\n      const url = `${process.env.REACT_APP_API}/api/v2/user`\r\n      const responseApi = await axios.post(url, userData, {\r\n        headers: {\r\n          authorization: token\r\n        }\r\n      })\r\n      return responseApi.data\r\n    } catch (error) {\r\n      throw error\r\n    }\r\n  }\r\n}\r\n\r\nexport default UserService\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport axios, { AxiosError } from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport UserContext from '../../../contexts/User'\r\nimport { UserContextType } from '../../../schemas/User'\r\nimport EntityContext from '../../../contexts/Entity'\r\nimport { EntityContextType } from '../../../schemas/Entity'\r\nimport UserService from '../../../services/User/index'\r\nimport { urls } from '../../../urls'\r\nimport { ServerError } from '../../../schemas/Error'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Button from '@material-ui/core/Button'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport Link from '@material-ui/core/Link'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Box from '@material-ui/core/Box'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles, Theme } from '@material-ui/core/styles'\r\nimport Container from '@material-ui/core/Container'\r\n\r\n// -------------- Styles --------------\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: '#fafafa',\r\n  },\r\n  state: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}))\r\n\r\n// - in this part all the component texts are housed\r\nconst texts = {\r\n  header: {\r\n    title: 'Inicia sesión',\r\n    logo: {\r\n      path: '/images/logotipo-crecer-dmc.svg',\r\n      alt: 'logotipo de crecer dmc'\r\n    }\r\n  },\r\n  state: {\r\n    field: {\r\n      email: {\r\n        name: 'email',\r\n        label: 'Correo'\r\n      },\r\n      password: {\r\n        name: 'password',\r\n        label: 'Contraseña'\r\n      },\r\n      rememberCheck: {\r\n        value: 'remember',\r\n        label: 'Recordarme'\r\n      },\r\n      signinButton: {\r\n        title: 'Entrar'\r\n      }\r\n    },\r\n    footer: {\r\n      forgotPasswordLink: 'Olvidaste tu contraseña?',\r\n      createAccountLink: 'Aún no tienes un usuario?',\r\n      copyright: 'CRECER DMC'\r\n    }\r\n  }\r\n}\r\n\r\n// ------------- Init state -----------\r\ninterface LoginForm {\r\n  email: string\r\n  password: string\r\n}\r\n\r\nconst initState: LoginForm = {\r\n  email: '',\r\n  password: ''\r\n}\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright © '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        {texts.state.footer.copyright}\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  )\r\n}\r\n\r\nexport default function SignIn() {\r\n\r\n  const { userContext, setUserContext } = React.useContext(\r\n    UserContext\r\n  ) as UserContextType\r\n\r\n  const { setEntityContext } = React.useContext(\r\n    EntityContext\r\n  ) as EntityContextType\r\n\r\n  const history = useHistory()\r\n  const classes = useStyles()\r\n  const [state, setState] = useState<LoginForm>(initState)\r\n\r\n\r\n  React.useEffect(() => {\r\n    if (userContext?.id) {\r\n      history.push(urls.app.main.home)\r\n    }\r\n  }, [])\r\n\r\n  // HandleChange is the handler to update the state\r\n  // of the state, while the user writes on an input.\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target\r\n    setState({\r\n      ...state,\r\n      [name]: value\r\n    })\r\n  }\r\n\r\n  // HandleSubmit is the handler to verify and send\r\n  // the state to redux (redux send the info to backend)\r\n  async function onLogin(e: React.FormEvent<HTMLFormElement>) {\r\n    e.preventDefault()\r\n    try {\r\n      const userService = new UserService()\r\n      const data = await userService.login(state.email, state.password)\r\n      if (data) {\r\n        setUserContext(data.user)\r\n        setEntityContext(data.entity)\r\n      }\r\n    } catch (error) {\r\n      if (axios.isAxiosError(error)) {\r\n        const serverError = error as AxiosError<ServerError>\r\n        if (serverError && serverError.response) {\r\n          return toast.error(serverError.response.data.message)\r\n        }\r\n      }\r\n    }\r\n    history.push(urls.app.main.home)\r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n\r\n        {/* ------- *Header --------- */}\r\n        <Avatar className={classes.avatar}>\r\n          <img\r\n            src={texts.header.logo.path}\r\n            alt={texts.header.logo.alt}\r\n          />\r\n        </Avatar>\r\n\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          {texts.header.title}\r\n        </Typography>\r\n\r\n        {/* ------- *Body ----------- */}\r\n        <form className={classes.state} onSubmit={onLogin} noValidate>\r\n\r\n          {/* ----- Form: item **email ------*/}\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            onChange={handleChange}\r\n            value={state.email}\r\n            id={texts.state.field.email.name}\r\n            label={texts.state.field.email.label}\r\n            name={texts.state.field.email.name}\r\n            autoFocus\r\n          />\r\n\r\n          {/* ----- Form: item **password ------*/}\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            value={state.password}\r\n            onChange={handleChange}\r\n            name={texts.state.field.password.name}\r\n            label={texts.state.field.password.label}\r\n            type=\"password\"\r\n            id={texts.state.field.password.name}\r\n            autoComplete=\"current-password\"\r\n          />\r\n\r\n          {/* ----- Form: item **remember check ------*/}\r\n          <FormControlLabel\r\n            control={<Checkbox value={texts.state.field.rememberCheck.value} color=\"primary\" />}\r\n            label={texts.state.field.rememberCheck.label}\r\n          />\r\n\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            {texts.state.field.signinButton.title}\r\n          </Button>\r\n\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                {texts.state.footer.forgotPasswordLink}\r\n              </Link>\r\n            </Grid>\r\n\r\n            <Grid item>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                {texts.state.footer.createAccountLink}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n\r\n    </Container>\r\n  )\r\n}","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { urls } from '../../../urls';\r\nimport { CssBaseline } from '@material-ui/core';\r\nimport Login from '../Login/Login';\r\n\r\nexport default function ContainerApp() {\r\n\r\n    return (\r\n        <div>\r\n            <CssBaseline/>\r\n            <div>\r\n                <div>\r\n                    {\r\n                        // This proyect uses the url.sts file to manage the urls\r\n                    }\r\n                    <Switch>\r\n                        <Route exact path={urls.page.home} >\r\n                            {/* here will be the home component */}\r\n                            <h1>Home</h1>\r\n                        </Route>\r\n                        <Route path={urls.page.login}>\r\n                            <Login />\r\n                        </Route>\r\n                    </Switch>\r\n              \r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport GlobalProvider from './contexts'\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\nimport { ToastContainer } from 'react-toastify'\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport theme from './theme'\r\nimport ContainerApp from './components/ComponentsForApp/ContainerApp/ContainerApp';\r\nimport { urls } from './urls';\r\nimport ContainerPage from './components/ComponentsForPage/ContainerPage/ContainerPage';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <MuiThemeProvider theme={theme}>\r\n      <GlobalProvider>\r\n        {\r\n          // This proyect uses the url.sts file to manage the urls\r\n        }\r\n\r\n        <Router>\r\n          <Switch>\r\n            {\r\n              // the page container has all the components\r\n              // that are part of Crecer´s single page\r\n            }\r\n            <Route path={urls.page.home}>\r\n              <ContainerPage />\r\n            </Route>\r\n\r\n            {\r\n              // the app container has all the components\r\n              // that are part of Crecer App\r\n            }\r\n            <Route path={urls.app.index}>\r\n              <ContainerApp />\r\n            </Route>\r\n          </Switch>\r\n        </Router>\r\n        <ToastContainer/>\r\n      </GlobalProvider>\r\n    </MuiThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}